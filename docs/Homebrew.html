<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Module: Homebrew
  
    &mdash; Homebrew Ruby API
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "Homebrew";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index (H)</a> &raquo;
    
    
    <span class="title">Homebrew</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Module: Homebrew
  
  
  
</h1>
<div class="box_info">
  

  
  
  <dl>
      <dt>Extended by:</dt>
      <dd>FileUtils, <span class='object_link'><a href="Homebrew/Search.html" title="Homebrew::Search (module)">Search</a></span></dd>
  </dl>
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>brew/Library/Homebrew/help.rb<span class="defines">,<br />
  brew/Library/Homebrew/fetch.rb,<br /> brew/Library/Homebrew/style.rb,<br /> brew/Library/Homebrew/utils.rb,<br /> brew/Library/Homebrew/cmd/sh.rb,<br /> brew/Library/Homebrew/global.rb,<br /> brew/Library/Homebrew/search.rb,<br /> brew/Library/Homebrew/cleanup.rb,<br /> brew/Library/Homebrew/cmd/cat.rb,<br /> brew/Library/Homebrew/cmd/diy.rb,<br /> brew/Library/Homebrew/cmd/log.rb,<br /> brew/Library/Homebrew/cmd/pin.rb,<br /> brew/Library/Homebrew/cmd/tap.rb,<br /> brew/Library/Homebrew/install.rb,<br /> brew/Library/Homebrew/options.rb,<br /> brew/Library/Homebrew/cli/args.rb,<br /> brew/Library/Homebrew/cmd/cask.rb,<br /> brew/Library/Homebrew/cmd/deps.rb,<br /> brew/Library/Homebrew/cmd/desc.rb,<br /> brew/Library/Homebrew/cmd/help.rb,<br /> brew/Library/Homebrew/cmd/home.rb,<br /> brew/Library/Homebrew/cmd/info.rb,<br /> brew/Library/Homebrew/cmd/link.rb,<br /> brew/Library/Homebrew/cmd/list.rb,<br /> brew/Library/Homebrew/cmd/uses.rb,<br /> brew/Library/Homebrew/cmd/--env.rb,<br /> brew/Library/Homebrew/cmd/fetch.rb,<br /> brew/Library/Homebrew/cmd/style.rb,<br /> brew/Library/Homebrew/cmd/unpin.rb,<br /> brew/Library/Homebrew/cmd/untap.rb,<br /> brew/Library/Homebrew/reinstall.rb,<br /> brew/Library/Homebrew/cli/parser.rb,<br /> brew/Library/Homebrew/cmd/config.rb,<br /> brew/Library/Homebrew/cmd/doctor.rb,<br /> brew/Library/Homebrew/cmd/leaves.rb,<br /> brew/Library/Homebrew/cmd/search.rb,<br /> brew/Library/Homebrew/cmd/switch.rb,<br /> brew/Library/Homebrew/cmd/unlink.rb,<br /> brew/Library/Homebrew/cmd/unpack.rb,<br /> brew/Library/Homebrew/diagnostic.rb,<br /> brew/Library/Homebrew/utils/gems.rb,<br /> brew/Library/Homebrew/cmd/--cache.rb,<br /> brew/Library/Homebrew/cmd/cleanup.rb,<br /> brew/Library/Homebrew/cmd/command.rb,<br /> brew/Library/Homebrew/cmd/install.rb,<br /> brew/Library/Homebrew/cmd/migrate.rb,<br /> brew/Library/Homebrew/cmd/missing.rb,<br /> brew/Library/Homebrew/cmd/options.rb,<br /> brew/Library/Homebrew/cmd/readall.rb,<br /> brew/Library/Homebrew/cmd/tap-pin.rb,<br /> brew/Library/Homebrew/cmd/upgrade.rb,<br /> brew/Library/Homebrew/dev-cmd/irb.rb,<br /> brew/Library/Homebrew/dev-cmd/man.rb,<br /> brew/Library/Homebrew/cmd/--cellar.rb,<br /> brew/Library/Homebrew/cmd/--prefix.rb,<br /> brew/Library/Homebrew/cmd/commands.rb,<br /> brew/Library/Homebrew/cmd/outdated.rb,<br /> brew/Library/Homebrew/cmd/tap-info.rb,<br /> brew/Library/Homebrew/dependencies.rb,<br /> brew/Library/Homebrew/dev-cmd/edit.rb,<br /> brew/Library/Homebrew/dev-cmd/prof.rb,<br /> brew/Library/Homebrew/dev-cmd/pull.rb,<br /> brew/Library/Homebrew/dev-cmd/ruby.rb,<br /> brew/Library/Homebrew/dev-cmd/test.rb,<br /> brew/Library/Homebrew/cmd/--version.rb,<br /> brew/Library/Homebrew/cmd/analytics.rb,<br /> brew/Library/Homebrew/cmd/gist-logs.rb,<br /> brew/Library/Homebrew/cmd/reinstall.rb,<br /> brew/Library/Homebrew/cmd/tap-unpin.rb,<br /> brew/Library/Homebrew/cmd/uninstall.rb,<br /> brew/Library/Homebrew/dev-cmd/audit.rb,<br /> brew/Library/Homebrew/dev-cmd/tests.rb,<br /> brew/Library/Homebrew/dev-cmd/bottle.rb,<br /> brew/Library/Homebrew/dev-cmd/create.rb,<br /> brew/Library/Homebrew/dev-cmd/mirror.rb,<br /> brew/Library/Homebrew/cmd/postinstall.rb,<br /> brew/Library/Homebrew/dev-cmd/extract.rb,<br /> brew/Library/Homebrew/dev-cmd/formula.rb,<br /> brew/Library/Homebrew/dev-cmd/linkage.rb,<br /> brew/Library/Homebrew/dev-cmd/tap-new.rb,<br /> brew/Library/Homebrew/formula_creator.rb,<br /> brew/Library/Homebrew/missing_formula.rb,<br /> brew/Library/Homebrew/os/linux/global.rb,<br /> brew/Library/Homebrew/cmd/--repository.rb,<br /> brew/Library/Homebrew/build_environment.rb,<br /> brew/Library/Homebrew/cmd/update-report.rb,<br /> brew/Library/Homebrew/formula_assertions.rb,<br /> brew/Library/Homebrew/dev-cmd/update-test.rb,<br /> brew/Library/Homebrew/dev-cmd/vendor-gems.rb,<br /> brew/Library/Homebrew/os/linux/diagnostic.rb,<br /> brew/Library/Homebrew/extend/os/mac/search.rb,<br /> brew/Library/Homebrew/dev-cmd/bump-revision.rb,<br /> brew/Library/Homebrew/dev-cmd/release-notes.rb,<br /> brew/Library/Homebrew/dev-cmd/bump-formula-pr.rb,<br /> brew/Library/Homebrew/extend/os/linux/install.rb,<br /> brew/Library/Homebrew/extend/os/mac/diagnostic.rb,<br /> brew/Library/Homebrew/extend/os/linux/diagnostic.rb,<br /> brew/Library/Homebrew/extend/os/mac/missing_formula.rb</span>
</dd>
  </dl>
  
</div>

<h2>Defined Under Namespace</h2>
<p class="children">
  
    
      <strong class="modules">Modules:</strong> <span class='object_link'><a href="Homebrew/Assertions.html" title="Homebrew::Assertions (module)">Assertions</a></span>, <span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span>, <span class='object_link'><a href="Homebrew/Diagnostic.html" title="Homebrew::Diagnostic (module)">Diagnostic</a></span>, <span class='object_link'><a href="Homebrew/Fetch.html" title="Homebrew::Fetch (module)">Fetch</a></span>, <span class='object_link'><a href="Homebrew/Help.html" title="Homebrew::Help (module)">Help</a></span>, <span class='object_link'><a href="Homebrew/Install.html" title="Homebrew::Install (module)">Install</a></span>, <span class='object_link'><a href="Homebrew/MissingFormula.html" title="Homebrew::MissingFormula (module)">MissingFormula</a></span>, <span class='object_link'><a href="Homebrew/Search.html" title="Homebrew::Search (module)">Search</a></span>, <span class='object_link'><a href="Homebrew/Style.html" title="Homebrew::Style (module)">Style</a></span>
    
  
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="Homebrew/Cleanup.html" title="Homebrew::Cleanup (class)">Cleanup</a></span>, <span class='object_link'><a href="Homebrew/DependentsMessage.html" title="Homebrew::DependentsMessage (class)">DependentsMessage</a></span>, <span class='object_link'><a href="Homebrew/DeveloperDependentsMessage.html" title="Homebrew::DeveloperDependentsMessage (class)">DeveloperDependentsMessage</a></span>, <span class='object_link'><a href="Homebrew/FormulaAuditor.html" title="Homebrew::FormulaAuditor (class)">FormulaAuditor</a></span>, <span class='object_link'><a href="Homebrew/FormulaCreator.html" title="Homebrew::FormulaCreator (class)">FormulaCreator</a></span>, <span class='object_link'><a href="Homebrew/FormulaText.html" title="Homebrew::FormulaText (class)">FormulaText</a></span>, <span class='object_link'><a href="Homebrew/NondeveloperDependentsMessage.html" title="Homebrew::NondeveloperDependentsMessage (class)">NondeveloperDependentsMessage</a></span>, <span class='object_link'><a href="Homebrew/PatchPuller.html" title="Homebrew::PatchPuller (class)">PatchPuller</a></span>, <span class='object_link'><a href="Homebrew/ResourceAuditor.html" title="Homebrew::ResourceAuditor (class)">ResourceAuditor</a></span>
    
  
</p>

  
    <h2>
      Constant Summary
      <small><a href="#" class="constants_summary_toggle">collapse</a></small>
    </h2>

    <dl class="constants">
      
        <dt id="DEFAULT_CELLAR-constant" class="">DEFAULT_CELLAR =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'>DEFAULT_PREFIX</span><span class='embexpr_end'>}</span><span class='tstring_content'>/Cellar</span><span class='tstring_end'>&quot;</span></span></pre></dd>
      
        <dt id="DEFAULT_REPOSITORY-constant" class="">DEFAULT_REPOSITORY =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'>DEFAULT_PREFIX</span><span class='embexpr_end'>}</span><span class='tstring_content'>/Homebrew</span><span class='tstring_end'>&quot;</span></span></pre></dd>
      
        <dt id="UNBREWED_EXCLUDE_FILES-constant" class="">UNBREWED_EXCLUDE_FILES =
          
        </dt>
        <dd><pre class="code"><span class='qwords_beg'>%w[</span><span class='tstring_content'>.DS_Store</span><span class='tstring_end'>]</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="UNBREWED_EXCLUDE_PATHS-constant" class="">UNBREWED_EXCLUDE_PATHS =
          
        </dt>
        <dd><pre class="code"><span class='qwords_beg'>%w[</span><span class='words_sep'>
  </span><span class='tstring_content'>.github/*</span><span class='words_sep'>
  </span><span class='tstring_content'>bin/brew</span><span class='words_sep'>
  </span><span class='tstring_content'>completions/zsh/_brew</span><span class='words_sep'>
  </span><span class='tstring_content'>docs/*</span><span class='words_sep'>
  </span><span class='tstring_content'>lib/gdk-pixbuf-2.0/*</span><span class='words_sep'>
  </span><span class='tstring_content'>lib/gio/*</span><span class='words_sep'>
  </span><span class='tstring_content'>lib/node_modules/*</span><span class='words_sep'>
  </span><span class='tstring_content'>lib/python[23].[0-9]/*</span><span class='words_sep'>
  </span><span class='tstring_content'>lib/pypy/*</span><span class='words_sep'>
  </span><span class='tstring_content'>lib/pypy3/*</span><span class='words_sep'>
  </span><span class='tstring_content'>lib/ruby/gems/[12].*</span><span class='words_sep'>
  </span><span class='tstring_content'>lib/ruby/site_ruby/[12].*</span><span class='words_sep'>
  </span><span class='tstring_content'>lib/ruby/vendor_ruby/[12].*</span><span class='words_sep'>
  </span><span class='tstring_content'>manpages/brew.1</span><span class='words_sep'>
  </span><span class='tstring_content'>manpages/brew-cask.1</span><span class='words_sep'>
  </span><span class='tstring_content'>share/pypy/*</span><span class='words_sep'>
  </span><span class='tstring_content'>share/pypy3/*</span><span class='words_sep'>
  </span><span class='tstring_content'>share/info/dir</span><span class='words_sep'>
  </span><span class='tstring_content'>share/man/whatis</span><span class='words_sep'>
</span><span class='tstring_end'>]</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="PACKAGE_MANAGERS-constant" class="">PACKAGE_MANAGERS =
          
        </dt>
        <dd><pre class="code"><span class='lbrace'>{</span>
  <span class='label'>macports:</span> <span class='tlambda'>-&gt;</span><span class='lparen'>(</span><span class='id identifier rubyid_query'>query</span><span class='rparen'>)</span> <span class='tlambeg'>{</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>https://www.macports.org/ports.php?by=name&amp;substr=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_query'>query</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='label'>fink:</span>     <span class='tlambda'>-&gt;</span><span class='lparen'>(</span><span class='id identifier rubyid_query'>query</span><span class='rparen'>)</span> <span class='tlambeg'>{</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://pdb.finkproject.org/pdb/browse.php?summary=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_query'>query</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='label'>opensuse:</span> <span class='tlambda'>-&gt;</span><span class='lparen'>(</span><span class='id identifier rubyid_query'>query</span><span class='rparen'>)</span> <span class='tlambeg'>{</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>https://software.opensuse.org/search?q=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_query'>query</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='label'>fedora:</span>   <span class='tlambda'>-&gt;</span><span class='lparen'>(</span><span class='id identifier rubyid_query'>query</span><span class='rparen'>)</span> <span class='tlambeg'>{</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>https://apps.fedoraproject.org/packages/s/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_query'>query</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='label'>debian:</span>   <span class='id identifier rubyid_lambda'>lambda</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_query'>query</span><span class='op'>|</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>https://packages.debian.org/search?keywords=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_query'>query</span><span class='embexpr_end'>}</span><span class='tstring_content'>&amp;searchon=names&amp;suite=all&amp;section=all</span><span class='tstring_end'>&quot;</span></span>
  <span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='label'>ubuntu:</span>   <span class='id identifier rubyid_lambda'>lambda</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_query'>query</span><span class='op'>|</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>https://packages.ubuntu.com/search?keywords=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_query'>query</span><span class='embexpr_end'>}</span><span class='tstring_content'>&amp;searchon=names&amp;suite=all&amp;section=all</span><span class='tstring_end'>&quot;</span></span>
  <span class='rbrace'>}</span><span class='comma'>,</span>
<span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="SOURCE_PATH-constant" class="">SOURCE_PATH =
          
        </dt>
        <dd><pre class="code"><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_LIBRARY_PATH-constant" title="HOMEBREW_LIBRARY_PATH (constant)">HOMEBREW_LIBRARY_PATH</a></span></span><span class='op'>/</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>manpages</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="TARGET_MAN_PATH-constant" class="">TARGET_MAN_PATH =
          
        </dt>
        <dd><pre class="code"><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_REPOSITORY-constant" title="HOMEBREW_REPOSITORY (constant)">HOMEBREW_REPOSITORY</a></span></span><span class='op'>/</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>manpages</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="TARGET_DOC_PATH-constant" class="">TARGET_DOC_PATH =
          
        </dt>
        <dd><pre class="code"><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_REPOSITORY-constant" title="HOMEBREW_REPOSITORY (constant)">HOMEBREW_REPOSITORY</a></span></span><span class='op'>/</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>docs</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
    </dl>
  




  <h2>Class Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#args-class_method" title="args (class method)">.<strong>args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#auditing=-class_method" title="auditing= (class method)">.<strong>auditing</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
      <span class="note title writeonly">writeonly</span>
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Sets the attribute auditing.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#failed=-class_method" title="failed= (class method)">.<strong>failed</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
      <span class="note title writeonly">writeonly</span>
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Sets the attribute failed.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#raise_deprecation_exceptions=-class_method" title="raise_deprecation_exceptions= (class method)">.<strong>raise_deprecation_exceptions</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
      <span class="note title writeonly">writeonly</span>
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Sets the attribute raise_deprecation_exceptions.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#__cache-class_method" title="__cache (class method)">.<strong>__cache</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#__cache_args-class_method" title="__cache_args (class method)">.<strong>__cache_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#__cellar-class_method" title="__cellar (class method)">.<strong>__cellar</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#__cellar_args-class_method" title="__cellar_args (class method)">.<strong>__cellar_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#__env-class_method" title="__env (class method)">.<strong>__env</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#__env_args-class_method" title="__env_args (class method)">.<strong>__env_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#__gets-class_method" title="__gets (class method)">.<strong>__gets</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#__prefix-class_method" title="__prefix (class method)">.<strong>__prefix</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#__prefix_args-class_method" title="__prefix_args (class method)">.<strong>__prefix_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#__repository-class_method" title="__repository (class method)">.<strong>__repository</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#__repository_args-class_method" title="__repository_args (class method)">.<strong>__repository_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#__version-class_method" title="__version (class method)">.<strong>__version</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#__version_args-class_method" title="__version_args (class method)">.<strong>__version_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#_system-class_method" title="_system (class method)">.<strong>_system</strong>(cmd, *args, **options)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#alias_update_pair-class_method" title="alias_update_pair (class method)">.<strong>alias_update_pair</strong>(formula, new_formula_version)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#analytics-class_method" title="analytics (class method)">.<strong>analytics</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#analytics_args-class_method" title="analytics_args (class method)">.<strong>analytics_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#analytics_table-class_method" title="analytics_table (class method)">.<strong>analytics_table</strong>(category, days, results, os_version: false, cask_install: false)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#argv_includes_ignores-class_method" title="argv_includes_ignores (class method)">.<strong>argv_includes_ignores</strong>(argv)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#audit-class_method" title="audit (class method)">.<strong>audit</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#audit_args-class_method" title="audit_args (class method)">.<strong>audit_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#auditing%3F-class_method" title="auditing? (class method)">.<strong>auditing?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#backup-class_method" title="backup (class method)">.<strong>backup</strong>(keg)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#backup_path-class_method" title="backup_path (class method)">.<strong>backup_path</strong>(path)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#bottle-class_method" title="bottle (class method)">.<strong>bottle</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#bottle_args-class_method" title="bottle_args (class method)">.<strong>bottle_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#bottle_formula-class_method" title="bottle_formula (class method)">.<strong>bottle_formula</strong>(f)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#bottle_output-class_method" title="bottle_output (class method)">.<strong>bottle_output</strong>(bottle)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#brief_build_info-class_method" title="brief_build_info (class method)">.<strong>brief_build_info</strong>(f)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#broken_dependents-class_method" title="broken_dependents (class method)">.<strong>broken_dependents</strong>(kegs, formulae)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#build_env_keys-class_method" title="build_env_keys (class method)">.<strong>build_env_keys</strong>(env)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#build_man_page-class_method" title="build_man_page (class method)">.<strong>build_man_page</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#bump_formula_pr-class_method" title="bump_formula_pr (class method)">.<strong>bump_formula_pr</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#bump_formula_pr_args-class_method" title="bump_formula_pr_args (class method)">.<strong>bump_formula_pr_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#bump_revision-class_method" title="bump_revision (class method)">.<strong>bump_revision</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#bump_revision_args-class_method" title="bump_revision_args (class method)">.<strong>bump_revision_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#cask-class_method" title="cask (class method)">.<strong>cask</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#cat-class_method" title="cat (class method)">.<strong>cat</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#cat_args-class_method" title="cat_args (class method)">.<strong>cat_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#check_bintray_mirror-class_method" title="check_bintray_mirror (class method)">.<strong>check_bintray_mirror</strong>(name, url)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#check_bumps-class_method" title="check_bumps (class method)">.<strong>check_bumps</strong>(patch_changes)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#check_dependents-class_method" title="check_dependents (class method)">.<strong>check_dependents</strong>(formulae)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#check_for_dependents-class_method" title="check_for_dependents (class method)">.<strong>check_for_dependents</strong>(kegs)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#check_for_duplicate_pull_requests-class_method" title="check_for_duplicate_pull_requests (class method)">.<strong>check_for_duplicate_pull_requests</strong>(formula)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#cleanup-class_method" title="cleanup (class method)">.<strong>cleanup</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#cleanup_args-class_method" title="cleanup_args (class method)">.<strong>cleanup_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#cmd_arg_parser-class_method" title="cmd_arg_parser (class method)">.<strong>cmd_arg_parser</strong>(cmd_path)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#cmd_comment_manpage_lines-class_method" title="cmd_comment_manpage_lines (class method)">.<strong>cmd_comment_manpage_lines</strong>(cmd_path)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#cmd_parser_manpage_lines-class_method" title="cmd_parser_manpage_lines (class method)">.<strong>cmd_parser_manpage_lines</strong>(cmd_parser)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#command-class_method" title="command (class method)">.<strong>command</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#command_args-class_method" title="command_args (class method)">.<strong>command_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#commands-class_method" title="commands (class method)">.<strong>commands</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#commands_args-class_method" title="commands_args (class method)">.<strong>commands_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#condense_requirements-class_method" title="condense_requirements (class method)">.<strong>condense_requirements</strong>(deps)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#config-class_method" title="config (class method)">.<strong>config</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#config_args-class_method" title="config_args (class method)">.<strong>config_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#convert_man_page-class_method" title="convert_man_page (class method)">.<strong>convert_man_page</strong>(markup, target)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create-class_method" title="create (class method)">.<strong>create</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Create a formula from a tarball URL.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create_args-class_method" title="create_args (class method)">.<strong>create_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create_gist-class_method" title="create_gist (class method)">.<strong>create_gist</strong>(files, description)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create_issue-class_method" title="create_issue (class method)">.<strong>create_issue</strong>(repo, title, body)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create_private%3F-class_method" title="create_private? (class method)">.<strong>create_private?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#current_versions_from_info_external-class_method" title="current_versions_from_info_external (class method)">.<strong>current_versions_from_info_external</strong>(formula_name)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Get current formula versions without loading formula definition in this process.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#decorate_dependencies-class_method" title="decorate_dependencies (class method)">.<strong>decorate_dependencies</strong>(dependencies)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#decorate_requirements-class_method" title="decorate_requirements (class method)">.<strong>decorate_requirements</strong>(requirements)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#default_prefix%3F-class_method" title="default_prefix? (class method)">.<strong>default_prefix?</strong>(prefix = HOMEBREW_PREFIX)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dep_display_name-class_method" title="dep_display_name (class method)">.<strong>dep_display_name</strong>(dep)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dep_display_s-class_method" title="dep_display_s (class method)">.<strong>dep_display_s</strong>(dep)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#deps-class_method" title="deps (class method)">.<strong>deps</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#deps_args-class_method" title="deps_args (class method)">.<strong>deps_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#deps_for_formula-class_method" title="deps_for_formula (class method)">.<strong>deps_for_formula</strong>(f, recursive = false)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#deps_for_formulae-class_method" title="deps_for_formulae (class method)">.<strong>deps_for_formulae</strong>(formulae, recursive = false, &amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#desc-class_method" title="desc (class method)">.<strong>desc</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#desc_args-class_method" title="desc_args (class method)">.<strong>desc_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#detect_name-class_method" title="detect_name (class method)">.<strong>detect_name</strong>(path, version)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#detect_version-class_method" title="detect_version (class method)">.<strong>detect_version</strong>(path)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#diy-class_method" title="diy (class method)">.<strong>diy</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#diy_args-class_method" title="diy_args (class method)">.<strong>diy_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#doctor-class_method" title="doctor (class method)">.<strong>doctor</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#doctor_args-class_method" title="doctor_args (class method)">.<strong>doctor_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dump_build_env-class_method" title="dump_build_env (class method)">.<strong>dump_build_env</strong>(env, f = $stdout)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dump_options_for_formula-class_method" title="dump_options_for_formula (class method)">.<strong>dump_options_for_formula</strong>(f)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#edit-class_method" title="edit (class method)">.<strong>edit</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#edit_args-class_method" title="edit_args (class method)">.<strong>edit_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ensure_relocation_formulae_installed!-class_method" title="ensure_relocation_formulae_installed! (class method)">.<strong>ensure_relocation_formulae_installed!</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#external_commands-class_method" title="external_commands (class method)">.<strong>external_commands</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#extract-class_method" title="extract (class method)">.<strong>extract</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#extract_args-class_method" title="extract_args (class method)">.<strong>extract_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#failed%3F-class_method" title="failed? (class method)">.<strong>failed?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#fetch-class_method" title="fetch (class method)">.<strong>fetch</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#fetch_args-class_method" title="fetch_args (class method)">.<strong>fetch_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#fetch_bottles_patch-class_method" title="fetch_bottles_patch (class method)">.<strong>fetch_bottles_patch</strong>(bottle_commit_url, args, bottle_branch, branch, orig_revision)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#fetch_fetchable-class_method" title="fetch_fetchable (class method)">.<strong>fetch_fetchable</strong>(f)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#fetch_formula-class_method" title="fetch_formula (class method)">.<strong>fetch_formula</strong>(f)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#fetch_merge_patch-class_method" title="fetch_merge_patch (class method)">.<strong>fetch_merge_patch</strong>(url, args, issue)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#fetch_patch-class_method" title="fetch_patch (class method)">.<strong>fetch_patch</strong>(p)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#fetch_pull_requests-class_method" title="fetch_pull_requests (class method)">.<strong>fetch_pull_requests</strong>(formula)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#fetch_resource-class_method" title="fetch_resource (class method)">.<strong>fetch_resource</strong>(r)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#files_changed_in_patch-class_method" title="files_changed_in_patch (class method)">.<strong>files_changed_in_patch</strong>(patchfile, tap)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>List files changed by a patch, partitioned in to those that are (probably) formula definitions, and those which aren’t.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#filtered_list-class_method" title="filtered_list (class method)">.<strong>filtered_list</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_internal_commands-class_method" title="find_internal_commands (class method)">.<strong>find_internal_commands</strong>(directory)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#force_auto_update%3F-class_method" title="force_auto_update? (class method)">.<strong>force_auto_update?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#format_count-class_method" title="format_count (class method)">.<strong>format_count</strong>(count)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#format_long_opt-class_method" title="format_long_opt (class method)">.<strong>format_long_opt</strong>(opt)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#format_percent-class_method" title="format_percent (class method)">.<strong>format_percent</strong>(percent)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#format_problem_lines-class_method" title="format_problem_lines (class method)">.<strong>format_problem_lines</strong>(problems)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#format_short_opt-class_method" title="format_short_opt (class method)">.<strong>format_short_opt</strong>(opt)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#format_usage_banner-class_method" title="format_usage_banner (class method)">.<strong>format_usage_banner</strong>(usage_banner)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#formula-class_method" title="formula (class method)">.<strong>formula</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#formula_args-class_method" title="formula_args (class method)">.<strong>formula_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#formula_version-class_method" title="formula_version (class method)">.<strong>formula_version</strong>(formula, spec, contents = nil)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#formulae_api_json-class_method" title="formulae_api_json (class method)">.<strong>formulae_api_json</strong>(endpoint)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#full_clone%3F-class_method" title="full_clone? (class method)">.<strong>full_clone?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#gem_user_bindir-class_method" title="gem_user_bindir (class method)">.<strong>gem_user_bindir</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#generate_cmd_manpages-class_method" title="generate_cmd_manpages (class method)">.<strong>generate_cmd_manpages</strong>(glob)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#generate_option_doc-class_method" title="generate_option_doc (class method)">.<strong>generate_option_doc</strong>(short, long, desc)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#gist_logs-class_method" title="gist_logs (class method)">.<strong>gist_logs</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#gist_logs_args-class_method" title="gist_logs_args (class method)">.<strong>gist_logs_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#gistify_logs-class_method" title="gistify_logs (class method)">.<strong>gistify_logs</strong>(f)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#git_log-class_method" title="git_log (class method)">.<strong>git_log</strong>(cd_dir, path = nil, tap = nil)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#github_info-class_method" title="github_info (class method)">.<strong>github_info</strong>(f)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#github_remote_path-class_method" title="github_remote_path (class method)">.<strong>github_remote_path</strong>(remote, path)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#global_options_manpage-class_method" title="global_options_manpage (class method)">.<strong>global_options_manpage</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#handle_unsatisfied_dependents-class_method" title="handle_unsatisfied_dependents (class method)">.<strong>handle_unsatisfied_dependents</strong>(kegs_by_rack)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#head_revision-class_method" title="head_revision (class method)">.<strong>head_revision</strong>(_url, fetched)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#home-class_method" title="home (class method)">.<strong>home</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#home_args-class_method" title="home_args (class method)">.<strong>home_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#info-class_method" title="info (class method)">.<strong>info</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#info_args-class_method" title="info_args (class method)">.<strong>info_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#info_formula-class_method" title="info_formula (class method)">.<strong>info_formula</strong>(f)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#inject_dump_stats!-class_method" title="inject_dump_stats! (class method)">.<strong>inject_dump_stats!</strong>(the_module, pattern)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>rubocop:disable Style/GlobalVars.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#inreplace_pairs-class_method" title="inreplace_pairs (class method)">.<strong>inreplace_pairs</strong>(path, replacement_pairs)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#install-class_method" title="install (class method)">.<strong>install</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#install_args-class_method" title="install_args (class method)">.<strong>install_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#install_bundler!-class_method" title="install_bundler! (class method)">.<strong>install_bundler!</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#install_bundler_gems!-class_method" title="install_bundler_gems! (class method)">.<strong>install_bundler_gems!</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#install_core_tap_if_necessary-class_method" title="install_core_tap_if_necessary (class method)">.<strong>install_core_tap_if_necessary</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#install_formula-class_method" title="install_formula (class method)">.<strong>install_formula</strong>(f)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#install_gem!-class_method" title="install_gem! (class method)">.<strong>install_gem!</strong>(name, version: nil, setup_gem_environment: true)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#install_gem_setup_path!-class_method" title="install_gem_setup_path! (class method)">.<strong>install_gem_setup_path!</strong>(name, version: nil, executable: name, setup_gem_environment: true)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#internal_commands-class_method" title="internal_commands (class method)">.<strong>internal_commands</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#internal_developer_commands-class_method" title="internal_developer_commands (class method)">.<strong>internal_developer_commands</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#irb-class_method" title="irb (class method)">.<strong>irb</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#irb_args-class_method" title="irb_args (class method)">.<strong>irb_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#keg_contain%3F-class_method" title="keg_contain? (class method)">.<strong>keg_contain?</strong>(string, keg, ignores, formula_and_runtime_deps_names = nil)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#keg_contain_absolute_symlink_starting_with%3F-class_method" title="keg_contain_absolute_symlink_starting_with? (class method)">.<strong>keg_contain_absolute_symlink_starting_with?</strong>(string, keg)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#leaves-class_method" title="leaves (class method)">.<strong>leaves</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#leaves_args-class_method" title="leaves_args (class method)">.<strong>leaves_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#link-class_method" title="link (class method)">.<strong>link</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#link_args-class_method" title="link_args (class method)">.<strong>link_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#link_completions_manpages_and_docs-class_method" title="link_completions_manpages_and_docs (class method)">.<strong>link_completions_manpages_and_docs</strong>(repository = HOMEBREW_REPOSITORY)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#linkage-class_method" title="linkage (class method)">.<strong>linkage</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#linkage_args-class_method" title="linkage_args (class method)">.<strong>linkage_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#list-class_method" title="list (class method)">.<strong>list</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#list_args-class_method" title="list_args (class method)">.<strong>list_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#list_unbrewed-class_method" title="list_unbrewed (class method)">.<strong>list_unbrewed</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#load_logs-class_method" title="load_logs (class method)">.<strong>load_logs</strong>(dir)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#log-class_method" title="log (class method)">.<strong>log</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#log_args-class_method" title="log_args (class method)">.<strong>log_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#login!-class_method" title="login! (class method)">.<strong>login!</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#man-class_method" title="man (class method)">.<strong>man</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#man_args-class_method" title="man_args (class method)">.<strong>man_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#merge-class_method" title="merge (class method)">.<strong>merge</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#merge_commit%3F-class_method" title="merge_commit? (class method)">.<strong>merge_commit?</strong>(url)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#messages-class_method" title="messages (class method)">.<strong>messages</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#migrate-class_method" title="migrate (class method)">.<strong>migrate</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#migrate_args-class_method" title="migrate_args (class method)">.<strong>migrate_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#mirror-class_method" title="mirror (class method)">.<strong>mirror</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#mirror_args-class_method" title="mirror_args (class method)">.<strong>mirror_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#missing-class_method" title="missing (class method)">.<strong>missing</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#missing_args-class_method" title="missing_args (class method)">.<strong>missing_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#noecho_gets-class_method" title="noecho_gets (class method)">.<strong>noecho_gets</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Causes some terminals to display secure password entry indicators.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#odie_if_defined-class_method" title="odie_if_defined (class method)">.<strong>odie_if_defined</strong>(message)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ohai_if_defined-class_method" title="ohai_if_defined (class method)">.<strong>ohai_if_defined</strong>(message)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#options-class_method" title="options (class method)">.<strong>options</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#options_args-class_method" title="options_args (class method)">.<strong>options_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#outdated-class_method" title="outdated (class method)">.<strong>outdated</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#outdated_args-class_method" title="outdated_args (class method)">.<strong>outdated_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#output_analytics-class_method" title="output_analytics (class method)">.<strong>output_analytics</strong>(filter: nil)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#output_formula_analytics-class_method" title="output_formula_analytics (class method)">.<strong>output_formula_analytics</strong>(f)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pbcopy-class_method" title="pbcopy (class method)">.<strong>pbcopy</strong>(text)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pin-class_method" title="pin (class method)">.<strong>pin</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pin_args-class_method" title="pin_args (class method)">.<strong>pin_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#postinstall-class_method" title="postinstall (class method)">.<strong>postinstall</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#postinstall_args-class_method" title="postinstall_args (class method)">.<strong>postinstall_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#print_info-class_method" title="print_info (class method)">.<strong>print_info</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#print_json-class_method" title="print_json (class method)">.<strong>print_json</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#print_outdated-class_method" title="print_outdated (class method)">.<strong>print_outdated</strong>(formulae)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#print_outdated_json-class_method" title="print_outdated_json (class method)">.<strong>print_outdated_json</strong>(formulae)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#print_tap_info-class_method" title="print_tap_info (class method)">.<strong>print_tap_info</strong>(taps)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#print_tap_json-class_method" title="print_tap_json (class method)">.<strong>print_tap_json</strong>(taps)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#prof-class_method" title="prof (class method)">.<strong>prof</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#prof_args-class_method" title="prof_args (class method)">.<strong>prof_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pull-class_method" title="pull (class method)">.<strong>pull</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pull_args-class_method" title="pull_args (class method)">.<strong>pull_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#puts_deps-class_method" title="puts_deps (class method)">.<strong>puts_deps</strong>(formulae, recursive = false)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#puts_deps_tree-class_method" title="puts_deps_tree (class method)">.<strong>puts_deps_tree</strong>(formulae, recursive = false)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#puts_keg_only_path_message-class_method" title="puts_keg_only_path_message (class method)">.<strong>puts_keg_only_path_message</strong>(keg)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#puts_options-class_method" title="puts_options (class method)">.<strong>puts_options</strong>(formulae)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#raise_deprecation_exceptions%3F-class_method" title="raise_deprecation_exceptions? (class method)">.<strong>raise_deprecation_exceptions?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#readall-class_method" title="readall (class method)">.<strong>readall</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#readall_args-class_method" title="readall_args (class method)">.<strong>readall_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#recursive_deps_tree-class_method" title="recursive_deps_tree (class method)">.<strong>recursive_deps_tree</strong>(f, prefix, recursive)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#recursive_includes-class_method" title="recursive_includes (class method)">.<strong>recursive_includes</strong>(klass, formula, includes, ignores)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#regenerate_man_pages-class_method" title="regenerate_man_pages (class method)">.<strong>regenerate_man_pages</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#reinstall-class_method" title="reinstall (class method)">.<strong>reinstall</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#reinstall_args-class_method" title="reinstall_args (class method)">.<strong>reinstall_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#reinstall_formula-class_method" title="reinstall_formula (class method)">.<strong>reinstall_formula</strong>(f, build_from_source: false)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#reject_ignores-class_method" title="reject_ignores (class method)">.<strong>reject_ignores</strong>(dependables, ignores, includes)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#release_notes-class_method" title="release_notes (class method)">.<strong>release_notes</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#release_notes_args-class_method" title="release_notes_args (class method)">.<strong>release_notes_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#restore_backup-class_method" title="restore_backup (class method)">.<strong>restore_backup</strong>(keg, keg_was_linked)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#retry_fetch%3F-class_method" title="retry_fetch? (class method)">.<strong>retry_fetch?</strong>(f)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#rm_pin-class_method" title="rm_pin (class method)">.<strong>rm_pin</strong>(rack)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ruby-class_method" title="ruby (class method)">.<strong>ruby</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ruby_args-class_method" title="ruby_args (class method)">.<strong>ruby_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ruby_bindir-class_method" title="ruby_bindir (class method)">.<strong>ruby_bindir</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#run_audit-class_method" title="run_audit (class method)">.<strong>run_audit</strong>(formula, alias_rename, backup_file)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#search-class_method" title="search (class method)">.<strong>search</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#search_args-class_method" title="search_args (class method)">.<strong>search_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#setup_gem_environment!-class_method" title="setup_gem_environment! (class method)">.<strong>setup_gem_environment!</strong>(gem_home: nil, gem_bindir: nil)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#sh-class_method" title="sh (class method)">.<strong>sh</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#sh_args-class_method" title="sh_args (class method)">.<strong>sh_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#shorten_revision-class_method" title="shorten_revision (class method)">.<strong>shorten_revision</strong>(revision)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#sort_key_for_path-class_method" title="sort_key_for_path (class method)">.<strong>sort_key_for_path</strong>(path)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#style-class_method" title="style (class method)">.<strong>style</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#style_args-class_method" title="style_args (class method)">.<strong>style_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#subject_for_bump-class_method" title="subject_for_bump (class method)">.<strong>subject_for_bump</strong>(formula, old, new)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#switch-class_method" title="switch (class method)">.<strong>switch</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#switch_args-class_method" title="switch_args (class method)">.<strong>switch_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#system-class_method" title="system (class method)">.<strong>system</strong>(cmd, *args, **options)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#tap-class_method" title="tap (class method)">.<strong>tap</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#tap_args-class_method" title="tap_args (class method)">.<strong>tap_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#tap_info-class_method" title="tap_info (class method)">.<strong>tap_info</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#tap_info_args-class_method" title="tap_info_args (class method)">.<strong>tap_info_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#tap_new-class_method" title="tap_new (class method)">.<strong>tap_new</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#tap_new_args-class_method" title="tap_new_args (class method)">.<strong>tap_new_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#tap_pin-class_method" title="tap_pin (class method)">.<strong>tap_pin</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#tap_pin_args-class_method" title="tap_pin_args (class method)">.<strong>tap_pin_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#tap_unpin-class_method" title="tap_unpin (class method)">.<strong>tap_unpin</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#tap_unpin_args-class_method" title="tap_unpin_args (class method)">.<strong>tap_unpin_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#target_path_to_format-class_method" title="target_path_to_format (class method)">.<strong>target_path_to_format</strong>(target)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#test-class_method" title="test (class method)">.<strong>test</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#test_args-class_method" title="test_args (class method)">.<strong>test_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#tests-class_method" title="tests (class method)">.<strong>tests</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#tests_args-class_method" title="tests_args (class method)">.<strong>tests_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#uninstall-class_method" title="uninstall (class method)">.<strong>uninstall</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#uninstall_args-class_method" title="uninstall_args (class method)">.<strong>uninstall_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#unlink-class_method" title="unlink (class method)">.<strong>unlink</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#unlink_args-class_method" title="unlink_args (class method)">.<strong>unlink_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#unpack-class_method" title="unpack (class method)">.<strong>unpack</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#unpack_args-class_method" title="unpack_args (class method)">.<strong>unpack_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#unpin-class_method" title="unpin (class method)">.<strong>unpin</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#unpin_args-class_method" title="unpin_args (class method)">.<strong>unpin_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#untap-class_method" title="untap (class method)">.<strong>untap</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#untap_args-class_method" title="untap_args (class method)">.<strong>untap_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#update_preinstall_header-class_method" title="update_preinstall_header (class method)">.<strong>update_preinstall_header</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#update_report-class_method" title="update_report (class method)">.<strong>update_report</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#update_report_args-class_method" title="update_report_args (class method)">.<strong>update_report_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#update_test-class_method" title="update_test (class method)">.<strong>update_test</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#update_test_args-class_method" title="update_test_args (class method)">.<strong>update_test_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#upgradable_dependents-class_method" title="upgradable_dependents (class method)">.<strong>upgradable_dependents</strong>(kegs, formulae)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#upgrade-class_method" title="upgrade (class method)">.<strong>upgrade</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#upgrade_args-class_method" title="upgrade_args (class method)">.<strong>upgrade_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#upgrade_formula-class_method" title="upgrade_formula (class method)">.<strong>upgrade_formula</strong>(f)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#upgrade_formulae-class_method" title="upgrade_formulae (class method)">.<strong>upgrade_formulae</strong>(formulae_to_install)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#uses-class_method" title="uses (class method)">.<strong>uses</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#uses_args-class_method" title="uses_args (class method)">.<strong>uses_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#vendor_gems-class_method" title="vendor_gems (class method)">.<strong>vendor_gems</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#vendor_gems_args-class_method" title="vendor_gems_args (class method)">.<strong>vendor_gems_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#write_path-class_method" title="write_path (class method)">.<strong>write_path</strong>(tap, filename, content)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#help-instance_method" title="#help (instance method)">#<strong>help</strong>(cmd = nil, flags = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Homebrew/Search.html" title="Homebrew::Search (module)">Search</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Homebrew/Search.html#query_regexp-instance_method" title="Homebrew::Search#query_regexp (method)">query_regexp</a></span>, <span class='object_link'><a href="Homebrew/Search.html#search_casks-instance_method" title="Homebrew::Search#search_casks (method)">search_casks</a></span>, <span class='object_link'><a href="Homebrew/Search.html#search_descriptions-instance_method" title="Homebrew::Search#search_descriptions (method)">search_descriptions</a></span>, <span class='object_link'><a href="Homebrew/Search.html#search_formulae-instance_method" title="Homebrew::Search#search_formulae (method)">search_formulae</a></span>, <span class='object_link'><a href="Homebrew/Search.html#search_taps-instance_method" title="Homebrew::Search#search_taps (method)">search_taps</a></span></p>

  
  <div id="class_attr_details" class="attr_details">
    <h2>Class Attribute Details</h2>
    
      
      <span id="args=-class_method"></span>
      <div class="method_details first">
  <h3 class="signature first" id="args-class_method">
  
    .<strong>args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


78
79
80</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/global.rb', line 78</span>

<span class='kw'>def</span> <span class='id identifier rubyid_args'>args</span>
  <span class='ivar'>@args</span> <span class='op'>||=</span> <span class='const'>OpenStruct</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="auditing=-class_method">
  
    .<strong>auditing=</strong>(value)  &#x21d2; <tt>Object</tt>  <span class="extras">(writeonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Sets the attribute auditing</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>value</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'><p>the value to set the attribute auditing to.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


67
68
69</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/global.rb', line 67</span>

<span class='kw'>def</span> <span class='id identifier rubyid_auditing='>auditing=</span><span class='lparen'>(</span><span class='id identifier rubyid_value'><span class='object_link'><a href="HomebrewArgvExtension.html#value-instance_method" title="HomebrewArgvExtension#value (method)">value</a></span></span><span class='rparen'>)</span>
  <span class='ivar'>@auditing</span> <span class='op'>=</span> <span class='id identifier rubyid_value'><span class='object_link'><a href="HomebrewArgvExtension.html#value-instance_method" title="HomebrewArgvExtension#value (method)">value</a></span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="failed=-class_method">
  
    .<strong>failed=</strong>(value)  &#x21d2; <tt>Object</tt>  <span class="extras">(writeonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Sets the attribute failed</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>value</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'><p>the value to set the attribute failed to.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


67
68
69</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/global.rb', line 67</span>

<span class='kw'>def</span> <span class='id identifier rubyid_failed='>failed=</span><span class='lparen'>(</span><span class='id identifier rubyid_value'><span class='object_link'><a href="HomebrewArgvExtension.html#value-instance_method" title="HomebrewArgvExtension#value (method)">value</a></span></span><span class='rparen'>)</span>
  <span class='ivar'>@failed</span> <span class='op'>=</span> <span class='id identifier rubyid_value'><span class='object_link'><a href="HomebrewArgvExtension.html#value-instance_method" title="HomebrewArgvExtension#value (method)">value</a></span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="raise_deprecation_exceptions=-class_method">
  
    .<strong>raise_deprecation_exceptions=</strong>(value)  &#x21d2; <tt>Object</tt>  <span class="extras">(writeonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Sets the attribute raise_deprecation_exceptions</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>value</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'><p>the value to set the attribute raise_deprecation_exceptions to.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


67
68
69</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/global.rb', line 67</span>

<span class='kw'>def</span> <span class='id identifier rubyid_raise_deprecation_exceptions='>raise_deprecation_exceptions=</span><span class='lparen'>(</span><span class='id identifier rubyid_value'><span class='object_link'><a href="HomebrewArgvExtension.html#value-instance_method" title="HomebrewArgvExtension#value (method)">value</a></span></span><span class='rparen'>)</span>
  <span class='ivar'>@raise_deprecation_exceptions</span> <span class='op'>=</span> <span class='id identifier rubyid_value'><span class='object_link'><a href="HomebrewArgvExtension.html#value-instance_method" title="HomebrewArgvExtension#value (method)">value</a></span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="__cache-class_method">
  
    .<strong>__cache</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


26
27
28
29
30
31
32
33
34
35
36
37
38
39
40</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/--cache.rb', line 26</span>

<span class='kw'>def</span> <span class='id identifier rubyid___cache'>__cache</span>
  <span class='id identifier rubyid___cache_args'>__cache_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='kw'>if</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_CACHE-constant" title="HOMEBREW_CACHE (constant)">HOMEBREW_CACHE</a></span></span>
  <span class='kw'>else</span>
    <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_formulae'>formulae</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
      <span class='kw'>if</span> <span class='const'><span class='object_link'><a href="Homebrew/Fetch.html" title="Homebrew::Fetch (module)">Fetch</a></span></span><span class='period'>.</span><span class='id identifier rubyid_fetch_bottle?'><span class='object_link'><a href="Homebrew/Fetch.html#fetch_bottle%3F-class_method" title="Homebrew::Fetch.fetch_bottle? (method)">fetch_bottle?</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_bottle'>bottle</span><span class='period'>.</span><span class='id identifier rubyid_cached_download'>cached_download</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_cached_download'>cached_download</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="__cache_args-class_method">
  
    .<strong>__cache_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/--cache.rb', line 9</span>

<span class='kw'>def</span> <span class='id identifier rubyid___cache_args'>__cache_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `--cache` [&lt;options&gt;] [&lt;formula&gt;]
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Display Homebrew&#39;s download cache. See also `HOMEBREW_CACHE`.
</span><span class='tstring_content'>
</span><span class='tstring_content'>      If &lt;formula&gt; is provided, display the file or directory used to cache &lt;formula&gt;.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-s</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--build-from-source</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Show the cache file used when building from source.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--force-bottle</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Show the cache file used when pouring a bottle.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_conflicts'>conflicts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--build-from-source</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--force-bottle</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="__cellar-class_method">
  
    .<strong>__cellar</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


22
23
24
25
26
27
28
29
30</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/--cellar.rb', line 22</span>

<span class='kw'>def</span> <span class='id identifier rubyid___cellar'>__cellar</span>
  <span class='id identifier rubyid___cellar_args'>__cellar_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='kw'>if</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_CELLAR-constant" title="HOMEBREW_CELLAR (constant)">HOMEBREW_CELLAR</a></span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_resolved_formulae'>resolved_formulae</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:rack</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="__cellar_args-class_method">
  
    .<strong>__cellar_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


8
9
10
11
12
13
14
15
16
17
18
19
20</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/--cellar.rb', line 8</span>

<span class='kw'>def</span> <span class='id identifier rubyid___cellar_args'>__cellar_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `--cellar` [&lt;formula&gt;]
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Display Homebrew&#39;s Cellar path. *Default:* `$(brew --prefix)/Cellar`, or if
</span><span class='tstring_content'>      that directory doesn&#39;t exist, `$(brew --repository)/Cellar`.
</span><span class='tstring_content'>
</span><span class='tstring_content'>      If &lt;formula&gt; is provided, display the location in the cellar where &lt;formula&gt;
</span><span class='tstring_content'>      would be installed, without any sort of versioned directory as the last path.
</span><span class='heredoc_end'>    EOS
</span>  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="__env-class_method">
  
    .<strong>__env</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/--env.rb', line 29</span>

<span class='kw'>def</span> <span class='id identifier rubyid___env'>__env</span>
  <span class='id identifier rubyid___env_args'>__env_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='const'>ENV</span><span class='period'>.</span><span class='id identifier rubyid_activate_extensions!'>activate_extensions!</span>
  <span class='const'>ENV</span><span class='period'>.</span><span class='id identifier rubyid_deps'>deps</span> <span class='op'>=</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_formulae'>formulae</span> <span class='kw'>if</span> <span class='id identifier rubyid_superenv?'><span class='object_link'><a href="top-level-namespace.html#superenv%3F-instance_method" title="#superenv? (method)">superenv?</a></span></span>
  <span class='const'>ENV</span><span class='period'>.</span><span class='id identifier rubyid_setup_build_environment'>setup_build_environment</span>
  <span class='const'>ENV</span><span class='period'>.</span><span class='id identifier rubyid_universal_binary'>universal_binary</span> <span class='kw'>if</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_build_universal?'>build_universal?</span>

  <span class='id identifier rubyid_shell'>shell</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_plain?'>plain?</span>
    <span class='kw'>nil</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_shell'>shell</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='comment'># legacy behavior
</span>    <span class='symbol'>:bash</span> <span class='kw'>unless</span> <span class='gvar'>$stdout</span><span class='period'>.</span><span class='id identifier rubyid_tty?'>tty?</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_shell'>shell</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>auto</span><span class='tstring_end'>&quot;</span></span>
    <span class='const'><span class='object_link'><a href="Utils.html" title="Utils (module)">Utils</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Utils/Shell.html" title="Utils::Shell (module)">Shell</a></span></span><span class='period'>.</span><span class='id identifier rubyid_parent'><span class='object_link'><a href="Utils/Shell.html#parent-class_method" title="Utils::Shell.parent (method)">parent</a></span></span> <span class='op'>||</span> <span class='const'><span class='object_link'><a href="Utils.html" title="Utils (module)">Utils</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Utils/Shell.html" title="Utils::Shell (module)">Shell</a></span></span><span class='period'>.</span><span class='id identifier rubyid_preferred'><span class='object_link'><a href="Utils/Shell.html#preferred-class_method" title="Utils::Shell.preferred (method)">preferred</a></span></span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_shell'>shell</span>
    <span class='const'><span class='object_link'><a href="Utils.html" title="Utils (module)">Utils</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Utils/Shell.html" title="Utils::Shell (module)">Shell</a></span></span><span class='period'>.</span><span class='id identifier rubyid_from_path'><span class='object_link'><a href="Utils/Shell.html#from_path-class_method" title="Utils::Shell.from_path (method)">from_path</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_shell'>shell</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_env_keys'>env_keys</span> <span class='op'>=</span> <span class='id identifier rubyid_build_env_keys'>build_env_keys</span><span class='lparen'>(</span><span class='const'>ENV</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_shell'>shell</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_dump_build_env'>dump_build_env</span> <span class='const'>ENV</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_env_keys'>env_keys</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='op'>|</span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='const'><span class='object_link'><a href="Utils.html" title="Utils (module)">Utils</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Utils/Shell.html" title="Utils::Shell (module)">Shell</a></span></span><span class='period'>.</span><span class='id identifier rubyid_export_value'><span class='object_link'><a href="Utils/Shell.html#export_value-class_method" title="Utils::Shell.export_value (method)">export_value</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='id identifier rubyid_key'>key</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_shell'>shell</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="__env_args-class_method">
  
    .<strong>__env_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/--env.rb', line 11</span>

<span class='kw'>def</span> <span class='id identifier rubyid___env_args'>__env_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `--env` [&lt;options&gt;]
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Summarize Homebrew&#39;s build environment as a plain list.
</span><span class='tstring_content'>
</span><span class='tstring_content'>      If the command&#39;s output is sent through a pipe and no shell is specified,
</span><span class='tstring_content'>      the list is formatted for export to `bash`(1) unless `--plain` is passed.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_flag'>flag</span>   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--shell=</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Generate a list of environment variables for the specified shell, </span><span class='tstring_end'>&quot;</span></span> \
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>or `--shell=auto` to detect the current shell.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--plain</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Generate plain output even when piped.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="__gets-class_method">
  
    .<strong>__gets</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


128
129
130
131</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/create.rb', line 128</span>

<span class='kw'>def</span> <span class='id identifier rubyid___gets'>__gets</span>
  <span class='id identifier rubyid_gots'>gots</span> <span class='op'>=</span> <span class='gvar'>$stdin</span><span class='period'>.</span><span class='id identifier rubyid_gets'>gets</span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span>
  <span class='id identifier rubyid_gots'>gots</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>?</span> <span class='kw'>nil</span> <span class='op'>:</span> <span class='id identifier rubyid_gots'>gots</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="__prefix-class_method">
  
    .<strong>__prefix</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


22
23
24
25
26
27
28
29
30
31
32</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/--prefix.rb', line 22</span>

<span class='kw'>def</span> <span class='id identifier rubyid___prefix'>__prefix</span>
  <span class='id identifier rubyid___prefix_args'>__prefix_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='kw'>if</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_PREFIX-constant" title="HOMEBREW_PREFIX (constant)">HOMEBREW_PREFIX</a></span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_resolved_formulae'>resolved_formulae</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
      <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_opt_prefix'>opt_prefix</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span> <span class='op'>?</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_opt_prefix'>opt_prefix</span> <span class='op'>:</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_installed_prefix'>installed_prefix</span>
    <span class='rbrace'>}</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="__prefix_args-class_method">
  
    .<strong>__prefix_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


8
9
10
11
12
13
14
15
16
17
18
19
20</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/--prefix.rb', line 8</span>

<span class='kw'>def</span> <span class='id identifier rubyid___prefix_args'>__prefix_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `--prefix` [&lt;formula&gt;]
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Display Homebrew&#39;s install path. *Default:* `/usr/local` on macOS and
</span><span class='tstring_content'>      `/home/linuxbrew/.linuxbrew` on Linux.
</span><span class='tstring_content'>
</span><span class='tstring_content'>      If &lt;formula&gt; is provided, display the location in the cellar where &lt;formula&gt;
</span><span class='tstring_content'>      is or would be installed.
</span><span class='heredoc_end'>    EOS
</span>  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="__repository-class_method">
  
    .<strong>__repository</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


20
21
22
23
24
25
26
27
28</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/--repository.rb', line 20</span>

<span class='kw'>def</span> <span class='id identifier rubyid___repository'>__repository</span>
  <span class='id identifier rubyid___repository_args'>__repository_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='kw'>if</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_REPOSITORY-constant" title="HOMEBREW_REPOSITORY (constant)">HOMEBREW_REPOSITORY</a></span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_tap'>tap</span><span class='op'>|</span> <span class='const'><span class='object_link'><a href="Tap.html" title="Tap (class)">Tap</a></span></span><span class='period'>.</span><span class='id identifier rubyid_fetch'><span class='object_link'><a href="Tap.html#fetch-class_method" title="Tap.fetch (method)">fetch</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_tap'>tap</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span> <span class='rbrace'>}</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="__repository_args-class_method">
  
    .<strong>__repository_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


8
9
10
11
12
13
14
15
16
17
18</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/--repository.rb', line 8</span>

<span class='kw'>def</span> <span class='id identifier rubyid___repository_args'>__repository_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `--repository`, `--repo` [&lt;user&gt;`/`&lt;repo&gt;]
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Display where Homebrew&#39;s `.git` directory is located.
</span><span class='tstring_content'>
</span><span class='tstring_content'>      If &lt;user&gt;`/`&lt;repo&gt; are provided, display where tap &lt;user&gt;`/`&lt;repo&gt;&#39;s directory is located.
</span><span class='heredoc_end'>    EOS
</span>  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="__version-class_method">
  
    .<strong>__version</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


19
20
21
22
23
24
25
26
27</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/--version.rb', line 19</span>

<span class='kw'>def</span> <span class='id identifier rubyid___version'>__version</span>
  <span class='id identifier rubyid___version_args'>__version_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='id identifier rubyid_odie'>odie</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>This command does not take arguments.</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span>

  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Homebrew </span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_VERSION-constant" title="HOMEBREW_VERSION (constant)">HOMEBREW_VERSION</a></span></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="CoreTap.html" title="CoreTap (class)">CoreTap</a></span></span><span class='period'>.</span><span class='id identifier rubyid_instance'><span class='object_link'><a href="CoreTap.html#instance-class_method" title="CoreTap.instance (method)">instance</a></span></span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="CoreTap.html" title="CoreTap (class)">CoreTap</a></span></span><span class='period'>.</span><span class='id identifier rubyid_instance'><span class='object_link'><a href="CoreTap.html#instance-class_method" title="CoreTap.instance (method)">instance</a></span></span><span class='period'>.</span><span class='id identifier rubyid_version_string'>version_string</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="Tap.html" title="Tap (class)">Tap</a></span></span><span class='period'>.</span><span class='id identifier rubyid_default_cask_tap'><span class='object_link'><a href="Tap.html#default_cask_tap-class_method" title="Tap.default_cask_tap (method)">default_cask_tap</a></span></span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="Tap.html" title="Tap (class)">Tap</a></span></span><span class='period'>.</span><span class='id identifier rubyid_default_cask_tap'><span class='object_link'><a href="Tap.html#default_cask_tap-class_method" title="Tap.default_cask_tap (method)">default_cask_tap</a></span></span><span class='period'>.</span><span class='id identifier rubyid_version_string'>version_string</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='const'><span class='object_link'><a href="Tap.html" title="Tap (class)">Tap</a></span></span><span class='period'>.</span><span class='id identifier rubyid_default_cask_tap'><span class='object_link'><a href="Tap.html#default_cask_tap-class_method" title="Tap.default_cask_tap (method)">default_cask_tap</a></span></span><span class='period'>.</span><span class='id identifier rubyid_installed?'>installed?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="__version_args-class_method">
  
    .<strong>__version_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


8
9
10
11
12
13
14
15
16
17</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/--version.rb', line 8</span>

<span class='kw'>def</span> <span class='id identifier rubyid___version_args'>__version_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `--version`
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Print the version numbers of Homebrew, Homebrew/homebrew-core and Homebrew/homebrew-cask
</span><span class='tstring_content'>      (if tapped) to standard output.
</span><span class='heredoc_end'>    EOS
</span>  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="_system-class_method">
  
    .<strong>_system</strong>(cmd, *args, **options)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


22
23
24
25
26
27
28
29
30
31
32
33
34
35</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/utils.rb', line 22</span>

<span class='kw'>def</span> <span class='id identifier rubyid__system'>_system</span><span class='lparen'>(</span><span class='id identifier rubyid_cmd'>cmd</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_fork'>fork</span> <span class='kw'>do</span>
    <span class='kw'>yield</span> <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
    <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_map!'>map!</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:to_s</span><span class='rparen'>)</span>
    <span class='kw'>begin</span>
      <span class='id identifier rubyid_exec'>exec</span><span class='lparen'>(</span><span class='id identifier rubyid_cmd'>cmd</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
    <span class='kw'>rescue</span>
      <span class='kw'>nil</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_exit!'>exit!</span> <span class='int'>1</span> <span class='comment'># never gets here unless exec failed
</span>  <span class='kw'>end</span>
  <span class='const'>Process</span><span class='period'>.</span><span class='id identifier rubyid_wait'>wait</span><span class='lparen'>(</span><span class='id identifier rubyid_pid'>pid</span><span class='rparen'>)</span>
  <span class='gvar'>$CHILD_STATUS</span><span class='period'>.</span><span class='id identifier rubyid_success?'>success?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="alias_update_pair-class_method">
  
    .<strong>alias_update_pair</strong>(formula, new_formula_version)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


429
430
431
432
433
434
435
436
437
438
439</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/bump-formula-pr.rb', line 429</span>

<span class='kw'>def</span> <span class='id identifier rubyid_alias_update_pair'>alias_update_pair</span><span class='lparen'>(</span><span class='id identifier rubyid_formula'>formula</span><span class='comma'>,</span> <span class='id identifier rubyid_new_formula_version'>new_formula_version</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_versioned_alias'>versioned_alias</span> <span class='op'>=</span> <span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_aliases'>aliases</span><span class='period'>.</span><span class='id identifier rubyid_grep'>grep</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^.*@\d+(\.\d+)?$</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_versioned_alias'>versioned_alias</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>

  <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_old_alias_version'>old_alias_version</span> <span class='op'>=</span> <span class='id identifier rubyid_versioned_alias'>versioned_alias</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>@</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_new_alias_regex'>new_alias_regex</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_old_alias_version'>old_alias_version</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>==</span> <span class='int'>1</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\d+</span><span class='regexp_end'>/</span></span> <span class='op'>:</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\d+\.\d+</span><span class='regexp_end'>/</span></span>
  <span class='id identifier rubyid_new_alias_version'>new_alias_version</span><span class='comma'>,</span> <span class='op'>=</span> <span class='op'>*</span><span class='id identifier rubyid_new_formula_version'>new_formula_version</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_match'>match</span><span class='lparen'>(</span><span class='id identifier rubyid_new_alias_regex'>new_alias_regex</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='const'><span class='object_link'><a href="Version.html" title="Version (class)">Version</a></span></span><span class='period'>.</span><span class='id identifier rubyid_create'><span class='object_link'><a href="Version.html#create-class_method" title="Version.create (method)">create</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_new_alias_version'>new_alias_version</span><span class='rparen'>)</span> <span class='op'>&lt;=</span> <span class='const'><span class='object_link'><a href="Version.html" title="Version (class)">Version</a></span></span><span class='period'>.</span><span class='id identifier rubyid_create'><span class='object_link'><a href="Version.html#create-class_method" title="Version.create (method)">create</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_old_alias_version'>old_alias_version</span><span class='rparen'>)</span>

  <span class='lbracket'>[</span><span class='id identifier rubyid_versioned_alias'>versioned_alias</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>@</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new_alias_version'>new_alias_version</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="analytics-class_method">
  
    .<strong>analytics</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="UsageError.html" title="UsageError (class)">UsageError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/analytics.rb', line 25</span>

<span class='kw'>def</span> <span class='id identifier rubyid_analytics'>analytics</span>
  <span class='id identifier rubyid_analytics_args'>analytics_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>
  <span class='id identifier rubyid_config_file'>config_file</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_REPOSITORY-constant" title="HOMEBREW_REPOSITORY (constant)">HOMEBREW_REPOSITORY</a></span></span><span class='op'>/</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.git/config</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="UsageError.html" title="UsageError (class)">UsageError</a></span></span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_remaining'>remaining</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='int'>1</span>

  <span class='kw'>case</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_remaining'>remaining</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
  <span class='kw'>when</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>state</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_analyticsdisabled'>analyticsdisabled</span> <span class='op'>=</span>
      <span class='const'><span class='object_link'><a href="Utils.html" title="Utils (module)">Utils</a></span></span><span class='period'>.</span><span class='id identifier rubyid_popen_read'><span class='object_link'><a href="Utils.html#popen_read-class_method" title="Utils.popen_read (method)">popen_read</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git config --file=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_config_file'>config_file</span><span class='embexpr_end'>}</span><span class='tstring_content'> --get homebrew.analyticsdisabled</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span>
    <span class='id identifier rubyid_uuid'>uuid</span> <span class='op'>=</span>
      <span class='const'><span class='object_link'><a href="Utils.html" title="Utils (module)">Utils</a></span></span><span class='period'>.</span><span class='id identifier rubyid_popen_read'><span class='object_link'><a href="Utils.html#popen_read-class_method" title="Utils.popen_read (method)">popen_read</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git config --file=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_config_file'>config_file</span><span class='embexpr_end'>}</span><span class='tstring_content'> --get homebrew.analyticsuuid</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span>
    <span class='kw'>if</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HOMEBREW_NO_ANALYTICS</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Analytics is disabled (by HOMEBREW_NO_ANALYTICS).</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_analyticsdisabled'>analyticsdisabled</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>true</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Analytics is disabled.</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Analytics is enabled.</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UUID: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_uuid'>uuid</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_uuid'>uuid</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
    <span class='kw'>end</span>
  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>on</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_safe_system'>safe_system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>config</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--file=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_config_file'>config_file</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--replace-all</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>homebrew.analyticsdisabled</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>false</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_safe_system'>safe_system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>config</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--file=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_config_file'>config_file</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--replace-all</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>homebrew.analyticsmessage</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>true</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>off</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_safe_system'>safe_system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>config</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--file=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_config_file'>config_file</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--replace-all</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>homebrew.analyticsdisabled</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>true</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_system'>system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>config</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--file=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_config_file'>config_file</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--unset-all</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>homebrew.analyticsuuid</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>regenerate-uuid</span><span class='tstring_end'>&quot;</span></span>
    <span class='comment'># it will be regenerated in next run.
</span>    <span class='id identifier rubyid_system'>system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>config</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--file=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_config_file'>config_file</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--unset-all</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>homebrew.analyticsuuid</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="UsageError.html" title="UsageError (class)">UsageError</a></span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="analytics_args-class_method">
  
    .<strong>analytics_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/analytics.rb', line 8</span>

<span class='kw'>def</span> <span class='id identifier rubyid_analytics_args'>analytics_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `analytics` [&lt;subcommand&gt;]
</span><span class='tstring_content'>
</span><span class='tstring_content'>      If `on` or `off` is passed, turn Homebrew&#39;s analytics on or off respectively.
</span><span class='tstring_content'>
</span><span class='tstring_content'>      If `state` is passed, display the current anonymous user behaviour analytics state.
</span><span class='tstring_content'>      Read more at &lt;https://docs.brew.sh/Analytics&gt;.
</span><span class='tstring_content'>
</span><span class='tstring_content'>      If `regenerate-uuid` is passed, regenerate the UUID used in Homebrew&#39;s analytics.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:verbose</span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:debug</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="analytics_table-class_method">
  
    .<strong>analytics_table</strong>(category, days, results, os_version: false, cask_install: false)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/info.rb', line 233</span>

<span class='kw'>def</span> <span class='id identifier rubyid_analytics_table'>analytics_table</span><span class='lparen'>(</span><span class='id identifier rubyid_category'>category</span><span class='comma'>,</span> <span class='id identifier rubyid_days'>days</span><span class='comma'>,</span> <span class='id identifier rubyid_results'>results</span><span class='comma'>,</span> <span class='label'>os_version:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>cask_install:</span> <span class='kw'>false</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_oh1'>oh1</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_category'>category</span><span class='embexpr_end'>}</span><span class='tstring_content'> (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_days'>days</span><span class='embexpr_end'>}</span><span class='tstring_content'> days)</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_total_count'>total_count</span> <span class='op'>=</span> <span class='id identifier rubyid_results'>results</span><span class='period'>.</span><span class='id identifier rubyid_values'>values</span><span class='period'>.</span><span class='id identifier rubyid_inject'>inject</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>+</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_formatted_total_count'>formatted_total_count</span> <span class='op'>=</span> <span class='id identifier rubyid_format_count'>format_count</span><span class='lparen'>(</span><span class='id identifier rubyid_total_count'>total_count</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_formatted_total_percent'>formatted_total_percent</span> <span class='op'>=</span> <span class='id identifier rubyid_format_percent'>format_percent</span><span class='lparen'>(</span><span class='int'>100</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_index_header'>index_header</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Index</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_count_header'>count_header</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Count</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_percent_header'>percent_header</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Percent</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_name_with_options_header'>name_with_options_header</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_os_version'>os_version</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>macOS Version</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_cask_install'>cask_install</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Token</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Name (with options)</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_total_index_footer'>total_index_footer</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Total</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_max_index_width'>max_index_width</span> <span class='op'>=</span> <span class='id identifier rubyid_results'>results</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
  <span class='id identifier rubyid_index_width'>index_width</span> <span class='op'>=</span> <span class='lbracket'>[</span>
    <span class='id identifier rubyid_index_header'>index_header</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='comma'>,</span>
    <span class='id identifier rubyid_total_index_footer'>total_index_footer</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='comma'>,</span>
    <span class='id identifier rubyid_max_index_width'>max_index_width</span><span class='comma'>,</span>
  <span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
  <span class='id identifier rubyid_count_width'>count_width</span> <span class='op'>=</span> <span class='lbracket'>[</span>
    <span class='id identifier rubyid_count_header'>count_header</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='comma'>,</span>
    <span class='id identifier rubyid_formatted_total_count'>formatted_total_count</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='comma'>,</span>
  <span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
  <span class='id identifier rubyid_percent_width'>percent_width</span> <span class='op'>=</span> <span class='lbracket'>[</span>
    <span class='id identifier rubyid_percent_header'>percent_header</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='comma'>,</span>
    <span class='id identifier rubyid_formatted_total_percent'>formatted_total_percent</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='comma'>,</span>
  <span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
  <span class='id identifier rubyid_name_with_options_width'>name_with_options_width</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Tty.html" title="Tty (module)">Tty</a></span></span><span class='period'>.</span><span class='id identifier rubyid_width'><span class='object_link'><a href="Tty.html#width-class_method" title="Tty.width (method)">width</a></span></span> <span class='op'>-</span>
                            <span class='id identifier rubyid_index_width'>index_width</span> <span class='op'>-</span>
                            <span class='id identifier rubyid_count_width'>count_width</span> <span class='op'>-</span>
                            <span class='id identifier rubyid_percent_width'>percent_width</span> <span class='op'>-</span>
                            <span class='int'>10</span> <span class='comment'># spacing and lines
</span>
  <span class='id identifier rubyid_formatted_index_header'>formatted_index_header</span> <span class='op'>=</span>
    <span class='id identifier rubyid_format'>format</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_index_width'>index_width</span><span class='embexpr_end'>}</span><span class='tstring_content'>s</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_index_header'>index_header</span>
  <span class='id identifier rubyid_formatted_name_with_options_header'>formatted_name_with_options_header</span> <span class='op'>=</span>
    <span class='id identifier rubyid_format'>format</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%-</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name_with_options_width'>name_with_options_width</span><span class='embexpr_end'>}</span><span class='tstring_content'>s</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='id identifier rubyid_name_with_options_header'>name_with_options_header</span><span class='lbracket'>[</span><span class='int'>0</span><span class='op'>..</span><span class='id identifier rubyid_name_with_options_width'>name_with_options_width</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_formatted_count_header'>formatted_count_header</span> <span class='op'>=</span>
    <span class='id identifier rubyid_format'>format</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_count_width'>count_width</span><span class='embexpr_end'>}</span><span class='tstring_content'>s</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_count_header'>count_header</span>
  <span class='id identifier rubyid_formatted_percent_header'>formatted_percent_header</span> <span class='op'>=</span>
    <span class='id identifier rubyid_format'>format</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_percent_width'>percent_width</span><span class='embexpr_end'>}</span><span class='tstring_content'>s</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_percent_header'>percent_header</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_formatted_index_header'>formatted_index_header</span><span class='embexpr_end'>}</span><span class='tstring_content'> | </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_formatted_name_with_options_header'>formatted_name_with_options_header</span><span class='embexpr_end'>}</span><span class='tstring_content'> | </span><span class='tstring_end'>&quot;</span></span>\
       <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_formatted_count_header'>formatted_count_header</span><span class='embexpr_end'>}</span><span class='tstring_content'> |  </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_formatted_percent_header'>formatted_percent_header</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_columns_line'>columns_line</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-</span><span class='tstring_end'>&quot;</span></span><span class='op'>*</span><span class='id identifier rubyid_index_width'>index_width</span><span class='embexpr_end'>}</span><span class='tstring_content'>:|-</span><span class='embexpr_beg'>#{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-</span><span class='tstring_end'>&quot;</span></span><span class='op'>*</span><span class='id identifier rubyid_name_with_options_width'>name_with_options_width</span><span class='embexpr_end'>}</span><span class='tstring_content'>-|-</span><span class='tstring_end'>&quot;</span></span>\
                 <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-</span><span class='tstring_end'>&quot;</span></span><span class='op'>*</span><span class='id identifier rubyid_count_width'>count_width</span><span class='embexpr_end'>}</span><span class='tstring_content'>:|-</span><span class='embexpr_beg'>#{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-</span><span class='tstring_end'>&quot;</span></span><span class='op'>*</span><span class='id identifier rubyid_percent_width'>percent_width</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_columns_line'>columns_line</span>

  <span class='id identifier rubyid_index'>index</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='id identifier rubyid_results'>results</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name_with_options'>name_with_options</span><span class='comma'>,</span> <span class='id identifier rubyid_count'>count</span><span class='op'>|</span>
    <span class='id identifier rubyid_index'>index</span> <span class='op'>+=</span> <span class='int'>1</span>
    <span class='id identifier rubyid_formatted_index'>formatted_index</span> <span class='op'>=</span> <span class='id identifier rubyid_format'>format</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%0</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_max_index_width'>max_index_width</span><span class='embexpr_end'>}</span><span class='tstring_content'>d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_index'>index</span>
    <span class='id identifier rubyid_formatted_index'>formatted_index</span> <span class='op'>=</span> <span class='id identifier rubyid_format'>format</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%-</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_index_width'>index_width</span><span class='embexpr_end'>}</span><span class='tstring_content'>s</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_formatted_index'>formatted_index</span>
    <span class='id identifier rubyid_formatted_name_with_options'>formatted_name_with_options</span> <span class='op'>=</span>
      <span class='id identifier rubyid_format'>format</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%-</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name_with_options_width'>name_with_options_width</span><span class='embexpr_end'>}</span><span class='tstring_content'>s</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
             <span class='id identifier rubyid_name_with_options'>name_with_options</span><span class='lbracket'>[</span><span class='int'>0</span><span class='op'>..</span><span class='id identifier rubyid_name_with_options_width'>name_with_options_width</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_formatted_count'>formatted_count</span> <span class='op'>=</span> <span class='id identifier rubyid_format'>format</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_count_width'>count_width</span><span class='embexpr_end'>}</span><span class='tstring_content'>s</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_format_count'>format_count</span><span class='lparen'>(</span><span class='id identifier rubyid_count'>count</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_formatted_percent'>formatted_percent</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_total_count'>total_count</span><span class='period'>.</span><span class='id identifier rubyid_zero?'>zero?</span>
      <span class='id identifier rubyid_format'>format</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_percent_width'>percent_width</span><span class='embexpr_end'>}</span><span class='tstring_content'>s</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_format_percent'>format_percent</span><span class='lparen'>(</span><span class='int'>0</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_format'>format</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_percent_width'>percent_width</span><span class='embexpr_end'>}</span><span class='tstring_content'>s</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
             <span class='id identifier rubyid_format_percent'>format_percent</span><span class='lparen'>(</span><span class='lparen'>(</span><span class='id identifier rubyid_count'>count</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span> <span class='op'>*</span> <span class='int'>100</span><span class='rparen'>)</span> <span class='op'>/</span> <span class='id identifier rubyid_total_count'>total_count</span><span class='period'>.</span><span class='id identifier rubyid_to_f'>to_f</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_formatted_index'>formatted_index</span><span class='embexpr_end'>}</span><span class='tstring_content'> | </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_formatted_name_with_options'>formatted_name_with_options</span><span class='embexpr_end'>}</span><span class='tstring_content'> | </span><span class='tstring_end'>&quot;</span></span> \
         <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_formatted_count'>formatted_count</span><span class='embexpr_end'>}</span><span class='tstring_content'> | </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_formatted_percent'>formatted_percent</span><span class='embexpr_end'>}</span><span class='tstring_content'>%</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_index'>index</span> <span class='op'>&gt;</span> <span class='int'>10</span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_results'>results</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>&gt;</span> <span class='int'>1</span>

  <span class='id identifier rubyid_formatted_total_footer'>formatted_total_footer</span> <span class='op'>=</span>
    <span class='id identifier rubyid_format'>format</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%-</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_index_width'>index_width</span><span class='embexpr_end'>}</span><span class='tstring_content'>s</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_total_index_footer'>total_index_footer</span>
  <span class='id identifier rubyid_formatted_blank_footer'>formatted_blank_footer</span> <span class='op'>=</span>
    <span class='id identifier rubyid_format'>format</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%-</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name_with_options_width'>name_with_options_width</span><span class='embexpr_end'>}</span><span class='tstring_content'>s</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_formatted_total_count_footer'>formatted_total_count_footer</span> <span class='op'>=</span>
    <span class='id identifier rubyid_format'>format</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_count_width'>count_width</span><span class='embexpr_end'>}</span><span class='tstring_content'>s</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_formatted_total_count'>formatted_total_count</span>
  <span class='id identifier rubyid_formatted_total_percent_footer'>formatted_total_percent_footer</span> <span class='op'>=</span>
    <span class='id identifier rubyid_format'>format</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_percent_width'>percent_width</span><span class='embexpr_end'>}</span><span class='tstring_content'>s</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_formatted_total_percent'>formatted_total_percent</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_formatted_total_footer'>formatted_total_footer</span><span class='embexpr_end'>}</span><span class='tstring_content'> | </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_formatted_blank_footer'>formatted_blank_footer</span><span class='embexpr_end'>}</span><span class='tstring_content'> | </span><span class='tstring_end'>&quot;</span></span>\
       <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_formatted_total_count_footer'>formatted_total_count_footer</span><span class='embexpr_end'>}</span><span class='tstring_content'> | </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_formatted_total_percent_footer'>formatted_total_percent_footer</span><span class='embexpr_end'>}</span><span class='tstring_content'>%</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="argv_includes_ignores-class_method">
  
    .<strong>argv_includes_ignores</strong>(argv)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dependencies.rb', line 62</span>

<span class='kw'>def</span> <span class='id identifier rubyid_argv_includes_ignores'>argv_includes_ignores</span><span class='lparen'>(</span><span class='id identifier rubyid_argv'>argv</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_includes'>includes</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_ignores'>ignores</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_argv'>argv</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--include-build</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_includes'>includes</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>build?</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_ignores'>ignores</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>build?</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_argv'>argv</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--include-test</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_includes'>includes</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>test?</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_ignores'>ignores</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>test?</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_argv'>argv</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--include-optional</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_includes'>includes</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>optional?</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_ignores'>ignores</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>optional?</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_ignores'>ignores</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>recommended?</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--skip-recommended</span><span class='tstring_end'>&quot;</span></span>

  <span class='lbracket'>[</span><span class='id identifier rubyid_includes'>includes</span><span class='comma'>,</span> <span class='id identifier rubyid_ignores'>ignores</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="audit-class_method">
  
    .<strong>audit</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/audit.rb', line 64</span>

<span class='kw'>def</span> <span class='id identifier rubyid_audit'>audit</span>
  <span class='id identifier rubyid_audit_args'>audit_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='period'>.</span><span class='id identifier rubyid_auditing'>auditing</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='id identifier rubyid_inject_dump_stats!'>inject_dump_stats!</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="Homebrew/FormulaAuditor.html" title="Homebrew::FormulaAuditor (class)">FormulaAuditor</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^audit_</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_audit_debug?'>audit_debug?</span>

  <span class='id identifier rubyid_formula_count'>formula_count</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='id identifier rubyid_problem_count'>problem_count</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='id identifier rubyid_corrected_problem_count'>corrected_problem_count</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='id identifier rubyid_new_formula_problem_count'>new_formula_problem_count</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='id identifier rubyid_new_formula'>new_formula</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_new_formula?'>new_formula?</span>
  <span class='id identifier rubyid_strict'>strict</span> <span class='op'>=</span> <span class='id identifier rubyid_new_formula'>new_formula</span> <span class='op'>||</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_strict?'>strict?</span>
  <span class='id identifier rubyid_online'>online</span> <span class='op'>=</span> <span class='id identifier rubyid_new_formula'>new_formula</span> <span class='op'>||</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_online?'>online?</span>

  <span class='const'>ENV</span><span class='period'>.</span><span class='id identifier rubyid_activate_extensions!'>activate_extensions!</span>
  <span class='const'>ENV</span><span class='period'>.</span><span class='id identifier rubyid_setup_build_environment'>setup_build_environment</span>

  <span class='kw'>if</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_ff'>ff</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Formula.html" title="Formula (class)">Formula</a></span></span>
    <span class='id identifier rubyid_files'>files</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Tap.html" title="Tap (class)">Tap</a></span></span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:formula_dir</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_ff'>ff</span> <span class='op'>=</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_resolved_formulae'>resolved_formulae</span>
    <span class='id identifier rubyid_files'>files</span> <span class='op'>=</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_resolved_formulae'>resolved_formulae</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:path</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_only_cops'>only_cops</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_only_cops'>only_cops</span>
  <span class='id identifier rubyid_except_cops'>except_cops</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_except_cops'>except_cops</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_only_cops'>only_cops</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_except_cops'>except_cops</span>
    <span class='id identifier rubyid_odie'>odie</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--only-cops and --except-cops cannot be used simultaneously!</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>elsif</span> <span class='lparen'>(</span><span class='id identifier rubyid_only_cops'>only_cops</span> <span class='op'>||</span> <span class='id identifier rubyid_except_cops'>except_cops</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='lparen'>(</span><span class='id identifier rubyid_strict'>strict</span> <span class='op'>||</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_only'>only</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_odie'>odie</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--only-cops/--except-cops and --strict/--only cannot be used simultaneously!</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='label'>fix:</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_fix?'>fix?</span><span class='comma'>,</span> <span class='label'>realpath:</span> <span class='kw'>true</span> <span class='rbrace'>}</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_only_cops'>only_cops</span>
    <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:only_cops</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_only_cops'>only_cops</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_new_formula?'>new_formula?</span>
    <span class='kw'>nil</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_strict'>strict</span>
    <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:except_cops</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='symbol'>:NewFormulaAudit</span><span class='rbracket'>]</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_except_cops'>except_cops</span>
    <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:except_cops</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_except_cops'>except_cops</span>
  <span class='kw'>elsif</span> <span class='op'>!</span><span class='id identifier rubyid_strict'>strict</span>
    <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:only_cops</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='symbol'>:FormulaAudit</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>

  <span class='comment'># Check style in a single batch run up front for performance
</span>  <span class='id identifier rubyid_style_results'>style_results</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Homebrew/Style.html" title="Homebrew::Style (module)">Style</a></span></span><span class='period'>.</span><span class='id identifier rubyid_check_style_json'><span class='object_link'><a href="Homebrew/Style.html#check_style_json-class_method" title="Homebrew::Style.check_style_json (method)">check_style_json</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_files'>files</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_new_formula_problem_lines'>new_formula_problem_lines</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_ff'>ff</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
    <span class='id identifier rubyid_only'>only</span> <span class='op'>=</span> <span class='id identifier rubyid_only_cops'>only_cops</span> <span class='op'>?</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>style</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>:</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_only'>only</span>
    <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='label'>new_formula:</span> <span class='id identifier rubyid_new_formula'>new_formula</span><span class='comma'>,</span> <span class='label'>strict:</span> <span class='id identifier rubyid_strict'>strict</span><span class='comma'>,</span> <span class='label'>online:</span> <span class='id identifier rubyid_online'>online</span><span class='comma'>,</span> <span class='label'>only:</span> <span class='id identifier rubyid_only'>only</span><span class='comma'>,</span> <span class='label'>except:</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_except'>except</span> <span class='rbrace'>}</span>
    <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:style_offenses</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_style_results'>style_results</span><span class='period'>.</span><span class='id identifier rubyid_file_offenses'>file_offenses</span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:display_cop_names</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_display_cop_names?'>display_cop_names?</span>

    <span class='id identifier rubyid_fa'>fa</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Homebrew/FormulaAuditor.html" title="Homebrew::FormulaAuditor (class)">FormulaAuditor</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/FormulaAuditor.html#initialize-instance_method" title="Homebrew::FormulaAuditor#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_fa'>fa</span><span class='period'>.</span><span class='id identifier rubyid_audit'>audit</span>
    <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_fa'>fa</span><span class='period'>.</span><span class='id identifier rubyid_problems'>problems</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_fa'>fa</span><span class='period'>.</span><span class='id identifier rubyid_new_formula_problems'>new_formula_problems</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

    <span class='id identifier rubyid_fa'>fa</span><span class='period'>.</span><span class='id identifier rubyid_problems'>problems</span>
    <span class='id identifier rubyid_formula_count'>formula_count</span> <span class='op'>+=</span> <span class='int'>1</span>
    <span class='id identifier rubyid_problem_count'>problem_count</span> <span class='op'>+=</span> <span class='id identifier rubyid_fa'>fa</span><span class='period'>.</span><span class='id identifier rubyid_problems'>problems</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span>
    <span class='id identifier rubyid_problem_lines'>problem_lines</span> <span class='op'>=</span> <span class='id identifier rubyid_format_problem_lines'>format_problem_lines</span><span class='lparen'>(</span><span class='id identifier rubyid_fa'>fa</span><span class='period'>.</span><span class='id identifier rubyid_problems'>problems</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_corrected_problem_count'>corrected_problem_count</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:style_offenses</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:corrected?</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_new_formula_problem_lines'>new_formula_problem_lines</span> <span class='op'>=</span> <span class='id identifier rubyid_format_problem_lines'>format_problem_lines</span><span class='lparen'>(</span><span class='id identifier rubyid_fa'>fa</span><span class='period'>.</span><span class='id identifier rubyid_new_formula_problems'>new_formula_problems</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_display_filename?'>display_filename?</span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_problem_lines'>problem_lines</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_s'>s</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_problem_lines'>problem_lines</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_s'>s</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_created_pr_comment'>created_pr_comment</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_new_formula'>new_formula</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_new_formula_problem_lines'>new_formula_problem_lines</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='kw'>begin</span>
      <span class='id identifier rubyid_created_pr_comment'>created_pr_comment</span> <span class='op'>=</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='const'><span class='object_link'><a href="GitHub.html" title="GitHub (module)">GitHub</a></span></span><span class='period'>.</span><span class='id identifier rubyid_create_issue_comment'><span class='object_link'><a href="GitHub.html#create_issue_comment-class_method" title="GitHub.create_issue_comment (method)">create_issue_comment</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_new_formula_problem_lines'>new_formula_problem_lines</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='kw'>rescue</span> <span class='op'>*</span><span class='const'><span class='object_link'><a href="GitHub.html" title="GitHub (module)">GitHub</a></span></span><span class='period'>.</span><span class='id identifier rubyid_api_errors'><span class='object_link'><a href="GitHub.html#api_errors-class_method" title="GitHub.api_errors (method)">api_errors</a></span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
      <span class='id identifier rubyid_opoo'>opoo</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unable to create issue comment: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>unless</span> <span class='id identifier rubyid_created_pr_comment'>created_pr_comment</span>
    <span class='id identifier rubyid_new_formula_problem_count'>new_formula_problem_count</span> <span class='op'>+=</span> <span class='id identifier rubyid_new_formula_problem_lines'>new_formula_problem_lines</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_new_formula_problem_lines'>new_formula_problem_lines</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_s'>s</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_total_problems_count'>total_problems_count</span> <span class='op'>=</span> <span class='id identifier rubyid_problem_count'>problem_count</span> <span class='op'>+</span> <span class='id identifier rubyid_new_formula_problem_count'>new_formula_problem_count</span>
  <span class='id identifier rubyid_problem_plural'>problem_plural</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_total_problems_count'>total_problems_count</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>problem</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_pluralize'>pluralize</span><span class='lparen'>(</span><span class='id identifier rubyid_total_problems_count'>total_problems_count</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_formula_plural'>formula_plural</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_formula_count'>formula_count</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>formula</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_pluralize'>pluralize</span><span class='lparen'>(</span><span class='id identifier rubyid_formula_count'>formula_count</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_corrected_problem_plural'>corrected_problem_plural</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_corrected_problem_count'>corrected_problem_count</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>problem</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_pluralize'>pluralize</span><span class='lparen'>(</span><span class='id identifier rubyid_corrected_problem_count'>corrected_problem_count</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_errors_summary'>errors_summary</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_problem_plural'>problem_plural</span><span class='embexpr_end'>}</span><span class='tstring_content'> in </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_formula_plural'>formula_plural</span><span class='embexpr_end'>}</span><span class='tstring_content'> detected</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_errors_summary'>errors_summary</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_corrected_problem_plural'>corrected_problem_plural</span><span class='embexpr_end'>}</span><span class='tstring_content'> corrected</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_corrected_problem_count'>corrected_problem_count</span><span class='period'>.</span><span class='id identifier rubyid_positive?'>positive?</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_problem_count'>problem_count</span><span class='period'>.</span><span class='id identifier rubyid_positive?'>positive?</span> <span class='op'>||</span>
     <span class='lparen'>(</span><span class='id identifier rubyid_new_formula_problem_count'>new_formula_problem_count</span><span class='period'>.</span><span class='id identifier rubyid_positive?'>positive?</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_created_pr_comment'>created_pr_comment</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_ofail'>ofail</span> <span class='id identifier rubyid_errors_summary'>errors_summary</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="audit_args-class_method">
  
    .<strong>audit_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/audit.rb', line 18</span>

<span class='kw'>def</span> <span class='id identifier rubyid_audit_args'>audit_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `audit` [&lt;options&gt;] [&lt;formula&gt;]
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Check &lt;formula&gt; for Homebrew coding style violations. This should be run before
</span><span class='tstring_content'>      submitting a new formula. If no &lt;formula&gt; are provided, check all locally
</span><span class='tstring_content'>      available formulae. Will exit with a non-zero status if any errors are
</span><span class='tstring_content'>      found, which can be useful for implementing pre-commit hooks.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--strict</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Run additional style checks, including RuboCop style checks.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--online</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Run additional slower style checks that require a network connection.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--new-formula</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Run various additional style checks to determine if a new formula is eligible </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>for Homebrew. This should be used when creating new formula and implies </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>`--strict` and `--online`.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--fix</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Fix style violations automatically using RuboCop&#39;s auto-correct feature.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--display-cop-names</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Include the RuboCop cop name for each violation in the output.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--display-filename</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Prefix every line of output with the file or formula name being audited, to </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>make output easy to grep.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-D</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--audit-debug</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Enable debugging and profiling of audit methods.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_comma_array'>comma_array</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--only</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Specify a comma-separated &lt;method&gt; list to only run the methods named </span><span class='tstring_end'>&quot;</span></span>\
                             <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>`audit_`&lt;method&gt;.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_comma_array'>comma_array</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--except</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Specify a comma-separated &lt;method&gt; list to skip running the methods named </span><span class='tstring_end'>&quot;</span></span>\
                             <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>`audit_`&lt;method&gt;.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_comma_array'>comma_array</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--only-cops</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Specify a comma-separated &lt;cops&gt; list to check for violations of only the listed </span><span class='tstring_end'>&quot;</span></span>\
                             <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RuboCop cops.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_comma_array'>comma_array</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--except-cops</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Specify a comma-separated &lt;cops&gt; list to skip checking for violations of the listed </span><span class='tstring_end'>&quot;</span></span>\
                             <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RuboCop cops.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:verbose</span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:debug</span>
    <span class='id identifier rubyid_conflicts'>conflicts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--only</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--except</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_conflicts'>conflicts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--only-cops</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--except-cops</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="auditing?-class_method">
  
    .<strong>auditing?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


90
91
92</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/global.rb', line 90</span>

<span class='kw'>def</span> <span class='id identifier rubyid_auditing?'>auditing?</span>
  <span class='ivar'>@auditing</span> <span class='op'>==</span> <span class='kw'>true</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="backup-class_method">
  
    .<strong>backup</strong>(keg)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


58
59
60
61
62
63
64
65
66
67
68</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/reinstall.rb', line 58</span>

<span class='kw'>def</span> <span class='id identifier rubyid_backup'>backup</span><span class='lparen'>(</span><span class='id identifier rubyid_keg'>keg</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_keg'>keg</span><span class='period'>.</span><span class='id identifier rubyid_unlink'>unlink</span>
  <span class='kw'>begin</span>
    <span class='id identifier rubyid_keg'>keg</span><span class='period'>.</span><span class='id identifier rubyid_rename'>rename</span> <span class='id identifier rubyid_backup_path'>backup_path</span><span class='lparen'>(</span><span class='id identifier rubyid_keg'>keg</span><span class='rparen'>)</span>
  <span class='kw'>rescue</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>EACCES</span><span class='comma'>,</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>ENOTEMPTY</span>
    <span class='id identifier rubyid_odie'>odie</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      Could not rename </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_keg'>keg</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> keg! Check/fix its permissions:
</span><span class='tstring_content'>        sudo chown -R $(whoami) </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_keg'>keg</span><span class='embexpr_end'>}</span><span class='tstring_content'>
</span><span class='heredoc_end'>    EOS
</span>  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="backup_path-class_method">
  
    .<strong>backup_path</strong>(path)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


81
82
83</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/reinstall.rb', line 81</span>

<span class='kw'>def</span> <span class='id identifier rubyid_backup_path'>backup_path</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
  <span class='const'><span class='object_link'><a href="Pathname.html" title="Pathname (class)">Pathname</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_path'>path</span><span class='embexpr_end'>}</span><span class='tstring_content'>.reinstall</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="bottle-class_method">
  
    .<strong>bottle</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


89
90
91
92
93
94
95
96
97
98</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/bottle.rb', line 89</span>

<span class='kw'>def</span> <span class='id identifier rubyid_bottle'>bottle</span>
  <span class='id identifier rubyid_bottle_args'>bottle_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='kw'>return</span> <span class='id identifier rubyid_merge'>merge</span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_merge?'>merge?</span>

  <span class='id identifier rubyid_ensure_relocation_formulae_installed!'>ensure_relocation_formulae_installed!</span>
  <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_resolved_formulae'>resolved_formulae</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
    <span class='id identifier rubyid_bottle_formula'>bottle_formula</span> <span class='id identifier rubyid_f'>f</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="bottle_args-class_method">
  
    .<strong>bottle_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/bottle.rb', line 44</span>

<span class='kw'>def</span> <span class='id identifier rubyid_bottle_args'>bottle_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span>
<span class='tstring_content'>      `bottle` [&lt;options&gt;] &lt;formula&gt;
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Generate a bottle (binary package) from a formula that was installed with
</span><span class='tstring_content'>      `--build-bottle`.
</span><span class='tstring_content'>      If the formula specifies a rebuild version, it will be incremented in the
</span><span class='tstring_content'>      generated DSL. Passing `--keep-old` will attempt to keep it at its original
</span><span class='tstring_content'>      value, while `--no-rebuild` will remove it.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--skip-relocation</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Do not check if the bottle can be marked as relocatable.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--or-later</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Append `_or_later` to the bottle tag.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--force-core-tap</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Build a bottle even if &lt;formula&gt; is not in `homebrew/core` or any installed taps.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--no-rebuild</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>If the formula specifies a rebuild version, remove it from the generated DSL.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--keep-old</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>If the formula specifies a rebuild version, attempt to preserve its value in the </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>generated DSL.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--json</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Write bottle information to a JSON file, which can be used as the value for </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>`--merge`.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--merge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Generate an updated bottle block for a formula and optionally merge it into the </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>formula file. Instead of a formula name, requires the path to a JSON file generated with </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>`brew bottle --json` &lt;formula&gt;.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--write</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>depends_on:</span>  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--merge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Write changes to the formula file. A new commit will be generated unless </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>`--no-commit` is passed.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--no-commit</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>depends_on:</span>  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--write</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>When passed with `--write`, a new commit will not generated after writing changes </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>to the formula file.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_flag'>flag</span>   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--root-url=</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Use the specified &lt;URL&gt; as the root of the bottle&#39;s URL instead of Homebrew&#39;s default.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:verbose</span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:debug</span>
    <span class='id identifier rubyid_conflicts'>conflicts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--no-rebuild</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--keep-old</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="bottle_formula-class_method">
  
    .<strong>bottle_formula</strong>(f)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/bottle.rb', line 211</span>

<span class='kw'>def</span> <span class='id identifier rubyid_bottle_formula'>bottle_formula</span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_ofail'>ofail</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Formula not installed or up-to-date: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_installed?'>installed?</span>

  <span class='kw'>unless</span> <span class='id identifier rubyid_tap'>tap</span> <span class='op'>=</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_tap'>tap</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_ofail'>ofail</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Formula not from core or any installed taps: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_force_core_tap?'>force_core_tap?</span>

    <span class='id identifier rubyid_tap'>tap</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="CoreTap.html" title="CoreTap (class)">CoreTap</a></span></span><span class='period'>.</span><span class='id identifier rubyid_instance'><span class='object_link'><a href="CoreTap.html#instance-class_method" title="CoreTap.instance (method)">instance</a></span></span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_bottle_disabled?'>bottle_disabled?</span>
    <span class='id identifier rubyid_ofail'>ofail</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Formula has disabled bottle: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_bottle_disable_reason'>bottle_disable_reason</span>
    <span class='kw'>return</span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='id identifier rubyid_ofail'>ofail</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Formula not installed with &#39;--build-bottle&#39;: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='const'><span class='object_link'><a href="Utils.html" title="Utils (module)">Utils</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Utils/Bottles.html" title="Utils::Bottles (class)">Bottles</a></span></span><span class='period'>.</span><span class='id identifier rubyid_built_as?'><span class='object_link'><a href="Utils/Bottles.html#built_as%3F-class_method" title="Utils::Bottles.built_as? (method)">built_as?</a></span></span> <span class='id identifier rubyid_f'>f</span>

  <span class='kw'>return</span> <span class='id identifier rubyid_ofail'>ofail</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Formula has no stable version: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_stable'>stable</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_no_rebuild?'>no_rebuild?</span> <span class='op'>||</span> <span class='op'>!</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_tap'>tap</span>
    <span class='id identifier rubyid_rebuild'>rebuild</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_keep_old?'>keep_old?</span>
    <span class='id identifier rubyid_rebuild'>rebuild</span> <span class='op'>=</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_bottle_specification'>bottle_specification</span><span class='period'>.</span><span class='id identifier rubyid_rebuild'>rebuild</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Determining </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> bottle rebuild...</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_versions'>versions</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="FormulaVersions.html" title="FormulaVersions (class)">FormulaVersions</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="FormulaVersions.html#initialize-instance_method" title="FormulaVersions#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_rebuilds'>rebuilds</span> <span class='op'>=</span> <span class='id identifier rubyid_versions'>versions</span><span class='period'>.</span><span class='id identifier rubyid_bottle_version_map'>bottle_version_map</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>origin/master</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_pkg_version'>pkg_version</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_rebuilds'>rebuilds</span><span class='period'>.</span><span class='id identifier rubyid_pop'>pop</span> <span class='kw'>if</span> <span class='id identifier rubyid_rebuilds'>rebuilds</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span><span class='period'>.</span><span class='id identifier rubyid_positive?'>positive?</span>
    <span class='id identifier rubyid_rebuild'>rebuild</span> <span class='op'>=</span> <span class='id identifier rubyid_rebuilds'>rebuilds</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>?</span> <span class='int'>0</span> <span class='op'>:</span> <span class='id identifier rubyid_rebuilds'>rebuilds</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span> <span class='op'>+</span> <span class='int'>1</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_filename'>filename</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Bottle.html" title="Bottle (class)">Bottle</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Bottle/Filename.html" title="Bottle::Filename (class)">Filename</a></span></span><span class='period'>.</span><span class='id identifier rubyid_create'><span class='object_link'><a href="Bottle/Filename.html#create-class_method" title="Bottle::Filename.create (method)">create</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="Utils.html" title="Utils (module)">Utils</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Utils/Bottles.html" title="Utils::Bottles (class)">Bottles</a></span></span><span class='period'>.</span><span class='id identifier rubyid_tag'><span class='object_link'><a href="Utils/Bottles.html#tag-class_method" title="Utils::Bottles.tag (method)">tag</a></span></span><span class='comma'>,</span> <span class='id identifier rubyid_rebuild'>rebuild</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_bottle_path'>bottle_path</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Pathname.html" title="Pathname (class)">Pathname</a></span></span><span class='period'>.</span><span class='id identifier rubyid_pwd'>pwd</span><span class='op'>/</span><span class='id identifier rubyid_filename'>filename</span>

  <span class='id identifier rubyid_tar_filename'>tar_filename</span> <span class='op'>=</span> <span class='id identifier rubyid_filename'>filename</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_sub'>sub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>.gz$</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_tar_path'>tar_path</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Pathname.html" title="Pathname (class)">Pathname</a></span></span><span class='period'>.</span><span class='id identifier rubyid_pwd'>pwd</span><span class='op'>/</span><span class='id identifier rubyid_tar_filename'>tar_filename</span>

  <span class='id identifier rubyid_prefix'>prefix</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_PREFIX-constant" title="HOMEBREW_PREFIX (constant)">HOMEBREW_PREFIX</a></span></span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
  <span class='id identifier rubyid_repository'>repository</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_REPOSITORY-constant" title="HOMEBREW_REPOSITORY (constant)">HOMEBREW_REPOSITORY</a></span></span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
  <span class='id identifier rubyid_cellar'>cellar</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_CELLAR-constant" title="HOMEBREW_CELLAR (constant)">HOMEBREW_CELLAR</a></span></span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>

  <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Bottling </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_filename'>filename</span><span class='embexpr_end'>}</span><span class='tstring_content'>...</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_formula_and_runtime_deps_names'>formula_and_runtime_deps_names</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='op'>+</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_runtime_dependencies'>runtime_dependencies</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_keg'>keg</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Keg.html" title="Keg (class)">Keg</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Keg.html#initialize-instance_method" title="Keg#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_prefix'>prefix</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_relocatable'>relocatable</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='id identifier rubyid_skip_relocation'>skip_relocation</span> <span class='op'>=</span> <span class='kw'>false</span>

  <span class='id identifier rubyid_keg'>keg</span><span class='period'>.</span><span class='id identifier rubyid_lock'>lock</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_original_tab'>original_tab</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='id identifier rubyid_changed_files'>changed_files</span> <span class='op'>=</span> <span class='kw'>nil</span>

    <span class='kw'>begin</span>
      <span class='id identifier rubyid_keg'>keg</span><span class='period'>.</span><span class='id identifier rubyid_delete_pyc_files!'>delete_pyc_files!</span>

      <span class='id identifier rubyid_changed_files'>changed_files</span> <span class='op'>=</span> <span class='id identifier rubyid_keg'>keg</span><span class='period'>.</span><span class='id identifier rubyid_replace_locations_with_placeholders'>replace_locations_with_placeholders</span> <span class='kw'>unless</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_skip_relocation?'>skip_relocation?</span>

      <span class='const'><span class='object_link'><a href="Tab.html" title="Tab (class)">Tab</a></span></span><span class='period'>.</span><span class='id identifier rubyid_clear_cache'><span class='object_link'><a href="Cachable.html#clear_cache-instance_method" title="Cachable#clear_cache (method)">clear_cache</a></span></span>
      <span class='id identifier rubyid_tab'>tab</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Tab.html" title="Tab (class)">Tab</a></span></span><span class='period'>.</span><span class='id identifier rubyid_for_keg'><span class='object_link'><a href="Tab.html#for_keg-class_method" title="Tab.for_keg (method)">for_keg</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_keg'>keg</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_original_tab'>original_tab</span> <span class='op'>=</span> <span class='id identifier rubyid_tab'>tab</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
      <span class='id identifier rubyid_tab'>tab</span><span class='period'>.</span><span class='id identifier rubyid_poured_from_bottle'>poured_from_bottle</span> <span class='op'>=</span> <span class='kw'>false</span>
      <span class='id identifier rubyid_tab'>tab</span><span class='period'>.</span><span class='const'>HEAD</span> <span class='op'>=</span> <span class='kw'>nil</span>
      <span class='id identifier rubyid_tab'>tab</span><span class='period'>.</span><span class='id identifier rubyid_time'>time</span> <span class='op'>=</span> <span class='kw'>nil</span>
      <span class='id identifier rubyid_tab'>tab</span><span class='period'>.</span><span class='id identifier rubyid_changed_files'>changed_files</span> <span class='op'>=</span> <span class='id identifier rubyid_changed_files'>changed_files</span>
      <span class='id identifier rubyid_tab'>tab</span><span class='period'>.</span><span class='id identifier rubyid_write'>write</span>

      <span class='id identifier rubyid_keg'>keg</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_file'>file</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_file'>file</span><span class='period'>.</span><span class='id identifier rubyid_symlink?'>symlink?</span>
          <span class='comment'># Ruby does not support `File.lutime` yet.
</span>          <span class='comment'># Shellout using `touch` to change modified time of symlink itself.
</span>          <span class='id identifier rubyid_system'>system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/usr/bin/touch</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-h</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                 <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-t</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_tab'>tab</span><span class='period'>.</span><span class='id identifier rubyid_source_modified_time'>source_modified_time</span><span class='period'>.</span><span class='id identifier rubyid_strftime'>strftime</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%Y%m%d%H%M.%S</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_file'>file</span>
        <span class='kw'>else</span>
          <span class='id identifier rubyid_file'>file</span><span class='period'>.</span><span class='id identifier rubyid_utime'>utime</span><span class='lparen'>(</span><span class='id identifier rubyid_tab'>tab</span><span class='period'>.</span><span class='id identifier rubyid_source_modified_time'>source_modified_time</span><span class='comma'>,</span> <span class='id identifier rubyid_tab'>tab</span><span class='period'>.</span><span class='id identifier rubyid_source_modified_time'>source_modified_time</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>

      <span class='id identifier rubyid_cd'>cd</span> <span class='id identifier rubyid_cellar'>cellar</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_safe_system'>safe_system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>tar</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cf</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_tar_path'>tar_path</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_pkg_version'>pkg_version</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_tar_path'>tar_path</span><span class='period'>.</span><span class='id identifier rubyid_utime'>utime</span><span class='lparen'>(</span><span class='id identifier rubyid_tab'>tab</span><span class='period'>.</span><span class='id identifier rubyid_source_modified_time'>source_modified_time</span><span class='comma'>,</span> <span class='id identifier rubyid_tab'>tab</span><span class='period'>.</span><span class='id identifier rubyid_source_modified_time'>source_modified_time</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_relocatable_tar_path'>relocatable_tar_path</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='embexpr_end'>}</span><span class='tstring_content'>-bottle.tar</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_mv'>mv</span> <span class='id identifier rubyid_tar_path'>tar_path</span><span class='comma'>,</span> <span class='id identifier rubyid_relocatable_tar_path'>relocatable_tar_path</span>
        <span class='comment'># Use gzip, faster to compress than bzip2, faster to uncompress than bzip2
</span>        <span class='comment'># or an uncompressed tarball (and more bandwidth friendly).
</span>        <span class='id identifier rubyid_safe_system'>safe_system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>gzip</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-f</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_relocatable_tar_path'>relocatable_tar_path</span>
        <span class='id identifier rubyid_mv'>mv</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_relocatable_tar_path'>relocatable_tar_path</span><span class='embexpr_end'>}</span><span class='tstring_content'>.gz</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_bottle_path'>bottle_path</span>
      <span class='kw'>end</span>

      <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Detecting if </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_filename'>filename</span><span class='embexpr_end'>}</span><span class='tstring_content'> is relocatable...</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_bottle_path'>bottle_path</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='int'>1</span> <span class='op'>*</span> <span class='int'>1024</span> <span class='op'>*</span> <span class='int'>1024</span>

      <span class='kw'>if</span> <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='period'>.</span><span class='id identifier rubyid_default_prefix?'><span class='object_link'><a href="#default_prefix%3F-class_method" title="Homebrew.default_prefix? (method)">default_prefix?</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_prefix'>prefix</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_prefix_check'>prefix_check</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_prefix'>prefix</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>opt</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_prefix_check'>prefix_check</span> <span class='op'>=</span> <span class='id identifier rubyid_prefix'>prefix</span>
      <span class='kw'>end</span>

      <span class='comment'># Ignore matches to source code, which is not required at run time.
</span>      <span class='comment'># These matches may be caused by debugging symbols.
</span>      <span class='id identifier rubyid_ignores'>ignores</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>/include/|\.(c|cc|cpp|h|hpp)$</span><span class='regexp_end'>}</span></span><span class='rbracket'>]</span>
      <span class='id identifier rubyid_any_go_deps'>any_go_deps</span> <span class='op'>=</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_deps'>deps</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_dep'>dep</span><span class='op'>|</span>
        <span class='id identifier rubyid_dep'>dep</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=~</span> <span class='const'><span class='object_link'><a href="Version.html" title="Version (class)">Version</a></span></span><span class='period'>.</span><span class='id identifier rubyid_formula_optionally_versioned_regex'><span class='object_link'><a href="Version.html#formula_optionally_versioned_regex-class_method" title="Version.formula_optionally_versioned_regex (method)">formula_optionally_versioned_regex</a></span></span><span class='lparen'>(</span><span class='symbol'>:go</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_any_go_deps'>any_go_deps</span>
        <span class='id identifier rubyid_go_regex'>go_regex</span> <span class='op'>=</span>
          <span class='const'><span class='object_link'><a href="Version.html" title="Version (class)">Version</a></span></span><span class='period'>.</span><span class='id identifier rubyid_formula_optionally_versioned_regex'><span class='object_link'><a href="Version.html#formula_optionally_versioned_regex-class_method" title="Version.formula_optionally_versioned_regex (method)">formula_optionally_versioned_regex</a></span></span><span class='lparen'>(</span><span class='symbol'>:go</span><span class='comma'>,</span> <span class='label'>full:</span> <span class='kw'>false</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_ignores'>ignores</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='regexp_beg'>%r{</span><span class='embexpr_beg'>#{</span><span class='const'>Regexp</span><span class='period'>.</span><span class='id identifier rubyid_escape'>escape</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_CELLAR-constant" title="HOMEBREW_CELLAR (constant)">HOMEBREW_CELLAR</a></span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_go_regex'>go_regex</span><span class='embexpr_end'>}</span><span class='tstring_content'>/[\d\.]+/libexec</span><span class='regexp_end'>}</span></span>
      <span class='kw'>end</span>

      <span class='id identifier rubyid_relocatable'>relocatable</span> <span class='op'>=</span> <span class='kw'>true</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_skip_relocation?'>skip_relocation?</span>
        <span class='id identifier rubyid_skip_relocation'>skip_relocation</span> <span class='op'>=</span> <span class='kw'>true</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_relocatable'>relocatable</span> <span class='op'>=</span> <span class='kw'>false</span> <span class='kw'>if</span> <span class='id identifier rubyid_keg_contain?'>keg_contain?</span><span class='lparen'>(</span><span class='id identifier rubyid_prefix_check'>prefix_check</span><span class='comma'>,</span> <span class='id identifier rubyid_keg'>keg</span><span class='comma'>,</span> <span class='id identifier rubyid_ignores'>ignores</span><span class='comma'>,</span> <span class='id identifier rubyid_formula_and_runtime_deps_names'>formula_and_runtime_deps_names</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_relocatable'>relocatable</span> <span class='op'>=</span> <span class='kw'>false</span> <span class='kw'>if</span> <span class='id identifier rubyid_keg_contain?'>keg_contain?</span><span class='lparen'>(</span><span class='id identifier rubyid_repository'>repository</span><span class='comma'>,</span> <span class='id identifier rubyid_keg'>keg</span><span class='comma'>,</span> <span class='id identifier rubyid_ignores'>ignores</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_relocatable'>relocatable</span> <span class='op'>=</span> <span class='kw'>false</span> <span class='kw'>if</span> <span class='id identifier rubyid_keg_contain?'>keg_contain?</span><span class='lparen'>(</span><span class='id identifier rubyid_cellar'>cellar</span><span class='comma'>,</span> <span class='id identifier rubyid_keg'>keg</span><span class='comma'>,</span> <span class='id identifier rubyid_ignores'>ignores</span><span class='comma'>,</span> <span class='id identifier rubyid_formula_and_runtime_deps_names'>formula_and_runtime_deps_names</span><span class='rparen'>)</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_prefix'>prefix</span> <span class='op'>!=</span> <span class='id identifier rubyid_prefix_check'>prefix_check</span>
          <span class='id identifier rubyid_relocatable'>relocatable</span> <span class='op'>=</span> <span class='kw'>false</span> <span class='kw'>if</span> <span class='id identifier rubyid_keg_contain_absolute_symlink_starting_with?'>keg_contain_absolute_symlink_starting_with?</span><span class='lparen'>(</span><span class='id identifier rubyid_prefix'>prefix</span><span class='comma'>,</span> <span class='id identifier rubyid_keg'>keg</span><span class='rparen'>)</span>
          <span class='id identifier rubyid_relocatable'>relocatable</span> <span class='op'>=</span> <span class='kw'>false</span> <span class='kw'>if</span> <span class='id identifier rubyid_keg_contain?'>keg_contain?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_prefix'>prefix</span><span class='embexpr_end'>}</span><span class='tstring_content'>/etc</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_keg'>keg</span><span class='comma'>,</span> <span class='id identifier rubyid_ignores'>ignores</span><span class='rparen'>)</span>
          <span class='id identifier rubyid_relocatable'>relocatable</span> <span class='op'>=</span> <span class='kw'>false</span> <span class='kw'>if</span> <span class='id identifier rubyid_keg_contain?'>keg_contain?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_prefix'>prefix</span><span class='embexpr_end'>}</span><span class='tstring_content'>/var</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_keg'>keg</span><span class='comma'>,</span> <span class='id identifier rubyid_ignores'>ignores</span><span class='rparen'>)</span>
          <span class='id identifier rubyid_relocatable'>relocatable</span> <span class='op'>=</span> <span class='kw'>false</span> <span class='kw'>if</span> <span class='id identifier rubyid_keg_contain?'>keg_contain?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_prefix'>prefix</span><span class='embexpr_end'>}</span><span class='tstring_content'>/share/vim</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_keg'>keg</span><span class='comma'>,</span> <span class='id identifier rubyid_ignores'>ignores</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
        <span class='id identifier rubyid_skip_relocation'>skip_relocation</span> <span class='op'>=</span> <span class='id identifier rubyid_relocatable'>relocatable</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_keg'>keg</span><span class='period'>.</span><span class='id identifier rubyid_require_relocation?'>require_relocation?</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_relocatable'>relocatable</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_verbose?'>verbose?</span>
    <span class='kw'>rescue</span> <span class='const'>Interrupt</span>
      <span class='id identifier rubyid_ignore_interrupts'>ignore_interrupts</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_bottle_path'>bottle_path</span><span class='period'>.</span><span class='id identifier rubyid_unlink'>unlink</span> <span class='kw'>if</span> <span class='id identifier rubyid_bottle_path'>bottle_path</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span> <span class='rbrace'>}</span>
      <span class='id identifier rubyid_raise'>raise</span>
    <span class='kw'>ensure</span>
      <span class='id identifier rubyid_ignore_interrupts'>ignore_interrupts</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_original_tab'>original_tab</span><span class='op'>&amp;.</span><span class='id identifier rubyid_write'>write</span>
        <span class='id identifier rubyid_keg'>keg</span><span class='period'>.</span><span class='id identifier rubyid_replace_placeholders_with_locations'>replace_placeholders_with_locations</span> <span class='id identifier rubyid_changed_files'>changed_files</span> <span class='kw'>unless</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_skip_relocation?'>skip_relocation?</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_root_url'>root_url</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_root_url'>root_url</span>

  <span class='id identifier rubyid_bottle'>bottle</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="BottleSpecification.html" title="BottleSpecification (class)">BottleSpecification</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="BottleSpecification.html#initialize-instance_method" title="BottleSpecification#initialize (method)">new</a></span></span>
  <span class='id identifier rubyid_bottle'>bottle</span><span class='period'>.</span><span class='id identifier rubyid_tap'>tap</span> <span class='op'>=</span> <span class='id identifier rubyid_tap'>tap</span>
  <span class='id identifier rubyid_bottle'>bottle</span><span class='period'>.</span><span class='id identifier rubyid_root_url'>root_url</span><span class='lparen'>(</span><span class='id identifier rubyid_root_url'>root_url</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_root_url'>root_url</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_relocatable'>relocatable</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_skip_relocation'>skip_relocation</span>
      <span class='id identifier rubyid_bottle'>bottle</span><span class='period'>.</span><span class='id identifier rubyid_cellar'>cellar</span> <span class='symbol'>:any_skip_relocation</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_bottle'>bottle</span><span class='period'>.</span><span class='id identifier rubyid_cellar'>cellar</span> <span class='symbol'>:any</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_bottle'>bottle</span><span class='period'>.</span><span class='id identifier rubyid_cellar'>cellar</span> <span class='id identifier rubyid_cellar'>cellar</span>
    <span class='id identifier rubyid_bottle'>bottle</span><span class='period'>.</span><span class='id identifier rubyid_prefix'>prefix</span> <span class='id identifier rubyid_prefix'>prefix</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_bottle'>bottle</span><span class='period'>.</span><span class='id identifier rubyid_rebuild'>rebuild</span> <span class='id identifier rubyid_rebuild'>rebuild</span>
  <span class='id identifier rubyid_sha256'>sha256</span> <span class='op'>=</span> <span class='id identifier rubyid_bottle_path'>bottle_path</span><span class='period'>.</span><span class='id identifier rubyid_sha256'>sha256</span>
  <span class='id identifier rubyid_bottle'>bottle</span><span class='period'>.</span><span class='id identifier rubyid_sha256'>sha256</span> <span class='id identifier rubyid_sha256'>sha256</span> <span class='op'>=&gt;</span> <span class='const'><span class='object_link'><a href="Utils.html" title="Utils (module)">Utils</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Utils/Bottles.html" title="Utils::Bottles (class)">Bottles</a></span></span><span class='period'>.</span><span class='id identifier rubyid_tag'><span class='object_link'><a href="Utils/Bottles.html#tag-class_method" title="Utils::Bottles.tag (method)">tag</a></span></span>

  <span class='id identifier rubyid_old_spec'>old_spec</span> <span class='op'>=</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_bottle_specification'>bottle_specification</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_keep_old?'>keep_old?</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_old_spec'>old_spec</span><span class='period'>.</span><span class='id identifier rubyid_checksums'>checksums</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_mismatches'>mismatches</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='symbol'>:root_url</span><span class='comma'>,</span> <span class='symbol'>:prefix</span><span class='comma'>,</span> <span class='symbol'>:cellar</span><span class='comma'>,</span> <span class='symbol'>:rebuild</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_reject'>reject</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='op'>|</span>
      <span class='id identifier rubyid_old_spec'>old_spec</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='rparen'>)</span> <span class='op'>==</span> <span class='id identifier rubyid_bottle'>bottle</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_old_spec'>old_spec</span><span class='period'>.</span><span class='id identifier rubyid_cellar'>cellar</span> <span class='op'>==</span> <span class='symbol'>:any</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_bottle'>bottle</span><span class='period'>.</span><span class='id identifier rubyid_cellar'>cellar</span> <span class='op'>==</span> <span class='symbol'>:any_skip_relocation</span>
      <span class='id identifier rubyid_mismatches'>mismatches</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='symbol'>:cellar</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_bottle'>bottle</span><span class='period'>.</span><span class='id identifier rubyid_cellar'>cellar</span> <span class='symbol'>:any</span>
    <span class='kw'>end</span>
    <span class='kw'>unless</span> <span class='id identifier rubyid_mismatches'>mismatches</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
      <span class='id identifier rubyid_bottle_path'>bottle_path</span><span class='period'>.</span><span class='id identifier rubyid_unlink'>unlink</span> <span class='kw'>if</span> <span class='id identifier rubyid_bottle_path'>bottle_path</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span>

      <span class='id identifier rubyid_mismatches'>mismatches</span><span class='period'>.</span><span class='id identifier rubyid_map!'>map!</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='op'>|</span>
        <span class='id identifier rubyid_old_value'>old_value</span> <span class='op'>=</span> <span class='id identifier rubyid_old_spec'>old_spec</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span>
        <span class='id identifier rubyid_value'><span class='object_link'><a href="HomebrewArgvExtension.html#value-instance_method" title="HomebrewArgvExtension#value (method)">value</a></span></span> <span class='op'>=</span> <span class='id identifier rubyid_bottle'>bottle</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_key'>key</span><span class='embexpr_end'>}</span><span class='tstring_content'>: old: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_old_value'>old_value</span><span class='embexpr_end'>}</span><span class='tstring_content'>, new: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_value'><span class='object_link'><a href="HomebrewArgvExtension.html#value-instance_method" title="HomebrewArgvExtension#value (method)">value</a></span></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>

      <span class='id identifier rubyid_odie'>odie</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span>
<span class='tstring_content'>        --keep-old was passed but there are changes in:
</span><span class='tstring_content'>        </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_mismatches'>mismatches</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>
</span><span class='heredoc_end'>      EOS
</span>    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_output'>output</span> <span class='op'>=</span> <span class='id identifier rubyid_bottle_output'>bottle_output</span> <span class='id identifier rubyid_bottle'>bottle</span>

  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>./</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_filename'>filename</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_output'>output</span>

  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_json?'>json?</span>

  <span class='id identifier rubyid_tag'>tag</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Utils.html" title="Utils (module)">Utils</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Utils/Bottles.html" title="Utils::Bottles (class)">Bottles</a></span></span><span class='period'>.</span><span class='id identifier rubyid_tag'><span class='object_link'><a href="Utils/Bottles.html#tag-class_method" title="Utils::Bottles.tag (method)">tag</a></span></span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
  <span class='id identifier rubyid_tag'>tag</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>_or_later</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_or_later?'>or_later?</span>
  <span class='id identifier rubyid_json'>json</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>formula</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>pkg_version</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_pkg_version'>pkg_version</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='comma'>,</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>path</span><span class='tstring_end'>&quot;</span></span>        <span class='op'>=&gt;</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_delete_prefix'>delete_prefix</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_REPOSITORY-constant" title="HOMEBREW_REPOSITORY (constant)">HOMEBREW_REPOSITORY</a></span></span><span class='embexpr_end'>}</span><span class='tstring_content'>/</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
      <span class='rbrace'>}</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bottle</span><span class='tstring_end'>&quot;</span></span>  <span class='op'>=&gt;</span> <span class='lbrace'>{</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>root_url</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_bottle'>bottle</span><span class='period'>.</span><span class='id identifier rubyid_root_url'>root_url</span><span class='comma'>,</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>prefix</span><span class='tstring_end'>&quot;</span></span>   <span class='op'>=&gt;</span> <span class='id identifier rubyid_bottle'>bottle</span><span class='period'>.</span><span class='id identifier rubyid_prefix'>prefix</span><span class='comma'>,</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cellar</span><span class='tstring_end'>&quot;</span></span>   <span class='op'>=&gt;</span> <span class='id identifier rubyid_bottle'>bottle</span><span class='period'>.</span><span class='id identifier rubyid_cellar'>cellar</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='comma'>,</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rebuild</span><span class='tstring_end'>&quot;</span></span>  <span class='op'>=&gt;</span> <span class='id identifier rubyid_bottle'>bottle</span><span class='period'>.</span><span class='id identifier rubyid_rebuild'>rebuild</span><span class='comma'>,</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>tags</span><span class='tstring_end'>&quot;</span></span>     <span class='op'>=&gt;</span> <span class='lbrace'>{</span>
          <span class='id identifier rubyid_tag'>tag</span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>filename</span><span class='tstring_end'>&quot;</span></span>       <span class='op'>=&gt;</span> <span class='id identifier rubyid_filename'>filename</span><span class='period'>.</span><span class='id identifier rubyid_bintray'>bintray</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>local_filename</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_filename'>filename</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>sha256</span><span class='tstring_end'>&quot;</span></span>         <span class='op'>=&gt;</span> <span class='id identifier rubyid_sha256'>sha256</span><span class='comma'>,</span>
          <span class='rbrace'>}</span><span class='comma'>,</span>
        <span class='rbrace'>}</span><span class='comma'>,</span>
      <span class='rbrace'>}</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bintray</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>package</span><span class='tstring_end'>&quot;</span></span>    <span class='op'>=&gt;</span> <span class='const'><span class='object_link'><a href="Utils.html" title="Utils (module)">Utils</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Utils/Bottles.html" title="Utils::Bottles (class)">Bottles</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Utils/Bottles/Bintray.html" title="Utils::Bottles::Bintray (class)">Bintray</a></span></span><span class='period'>.</span><span class='id identifier rubyid_package'><span class='object_link'><a href="Utils/Bottles/Bintray.html#package-class_method" title="Utils::Bottles::Bintray.package (method)">package</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='comma'>,</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>repository</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'><span class='object_link'><a href="Utils.html" title="Utils (module)">Utils</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Utils/Bottles.html" title="Utils::Bottles (class)">Bottles</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Utils/Bottles/Bintray.html" title="Utils::Bottles::Bintray (class)">Bintray</a></span></span><span class='period'>.</span><span class='id identifier rubyid_repository'><span class='object_link'><a href="Utils/Bottles/Bintray.html#repository-class_method" title="Utils::Bottles::Bintray.repository (method)">repository</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_tap'>tap</span><span class='rparen'>)</span><span class='comma'>,</span>
      <span class='rbrace'>}</span><span class='comma'>,</span>
    <span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='rbrace'>}</span>
  <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='id identifier rubyid_filename'>filename</span><span class='period'>.</span><span class='id identifier rubyid_json'>json</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>w</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_file'>file</span><span class='op'>|</span>
    <span class='id identifier rubyid_file'>file</span><span class='period'>.</span><span class='id identifier rubyid_write'>write</span> <span class='const'>JSON</span><span class='period'>.</span><span class='id identifier rubyid_generate'>generate</span> <span class='id identifier rubyid_json'>json</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="bottle_output-class_method">
  
    .<strong>bottle_output</strong>(bottle)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


206
207
208
209</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/bottle.rb', line 206</span>

<span class='kw'>def</span> <span class='id identifier rubyid_bottle_output'>bottle_output</span><span class='lparen'>(</span><span class='id identifier rubyid_bottle'>bottle</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_erb'>erb</span> <span class='op'>=</span> <span class='const'>ERB</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='const'><span class='object_link'><a href="top-level-namespace.html#BOTTLE_ERB-constant" title="BOTTLE_ERB (constant)">BOTTLE_ERB</a></span></span>
  <span class='id identifier rubyid_erb'>erb</span><span class='period'>.</span><span class='id identifier rubyid_result'>result</span><span class='lparen'>(</span><span class='id identifier rubyid_bottle'>bottle</span><span class='period'>.</span><span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_binding'>binding</span> <span class='rbrace'>}</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\s*$\n</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="brief_build_info-class_method">
  
    .<strong>brief_build_info</strong>(f)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


79
80
81
82
83
84
85
86
87
88
89
90</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/gist-logs.rb', line 79</span>

<span class='kw'>def</span> <span class='id identifier rubyid_brief_build_info'>brief_build_info</span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_build_time_str'>build_time_str</span> <span class='op'>=</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_logs'>logs</span><span class='period'>.</span><span class='id identifier rubyid_ctime'>ctime</span><span class='period'>.</span><span class='id identifier rubyid_strftime'>strftime</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%Y-%m-%d %H:%M:%S</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='op'>+</span><span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>    Homebrew build logs for </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> on </span><span class='embexpr_beg'>#{</span><span class='const'>OS_VERSION</span><span class='embexpr_end'>}</span><span class='tstring_content'>
</span><span class='heredoc_end'>  EOS
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_with_hostname?'>with_hostname?</span>
    <span class='id identifier rubyid_hostname'>hostname</span> <span class='op'>=</span> <span class='const'>Socket</span><span class='period'>.</span><span class='id identifier rubyid_gethostname'>gethostname</span>
    <span class='id identifier rubyid_s'>s</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Host: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_hostname'>hostname</span><span class='embexpr_end'>}</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_s'>s</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Build date: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_build_time_str'>build_time_str</span><span class='embexpr_end'>}</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="broken_dependents-class_method">
  
    .<strong>broken_dependents</strong>(kegs, formulae)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/upgrade.rb', line 258</span>

<span class='kw'>def</span> <span class='id identifier rubyid_broken_dependents'>broken_dependents</span><span class='lparen'>(</span><span class='id identifier rubyid_kegs'><span class='object_link'><a href="HomebrewArgvExtension.html#kegs-instance_method" title="HomebrewArgvExtension#kegs (method)">kegs</a></span></span><span class='comma'>,</span> <span class='id identifier rubyid_formulae'><span class='object_link'><a href="HomebrewArgvExtension.html#formulae-instance_method" title="HomebrewArgvExtension#formulae (method)">formulae</a></span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_formulae_to_reinstall'>formulae_to_reinstall</span> <span class='op'>=</span> <span class='const'>Set</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
  <span class='id identifier rubyid_formulae_pinned_and_outdated'>formulae_pinned_and_outdated</span> <span class='op'>=</span> <span class='const'>Set</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>

  <span class='const'><span class='object_link'><a href="CacheStoreDatabase.html" title="CacheStoreDatabase (class)">CacheStoreDatabase</a></span></span><span class='period'>.</span><span class='id identifier rubyid_use'><span class='object_link'><a href="CacheStoreDatabase.html#use-class_method" title="CacheStoreDatabase.use (method)">use</a></span></span><span class='lparen'>(</span><span class='symbol'>:linkage</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_db'>db</span><span class='op'>|</span>
    <span class='id identifier rubyid_formulae'><span class='object_link'><a href="HomebrewArgvExtension.html#formulae-instance_method" title="HomebrewArgvExtension#formulae (method)">formulae</a></span></span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_formula'>formula</span><span class='op'>|</span>
      <span class='id identifier rubyid_descendants'>descendants</span> <span class='op'>=</span> <span class='const'>Set</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>

      <span class='id identifier rubyid_dependents'>dependents</span> <span class='op'>=</span> <span class='id identifier rubyid_kegs'><span class='object_link'><a href="HomebrewArgvExtension.html#kegs-instance_method" title="HomebrewArgvExtension#kegs (method)">kegs</a></span></span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_keg'>keg</span><span class='op'>|</span>
        <span class='id identifier rubyid_keg'>keg</span><span class='period'>.</span><span class='id identifier rubyid_runtime_dependencies'>runtime_dependencies</span>
           <span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_d'>d</span><span class='op'>|</span> <span class='id identifier rubyid_d'>d</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>full_name</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span> <span class='rbrace'>}</span>
      <span class='kw'>end</span>

      <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_dependents'>dependents</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

      <span class='id identifier rubyid_dependents'>dependents</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_keg'>keg</span><span class='op'>|</span>
        <span class='id identifier rubyid_f'>f</span> <span class='op'>=</span> <span class='id identifier rubyid_keg'>keg</span><span class='period'>.</span><span class='id identifier rubyid_to_formula'>to_formula</span>

        <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_formulae_to_reinstall'>formulae_to_reinstall</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='rparen'>)</span>
        <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_formulae_pinned_and_outdated'>formulae_pinned_and_outdated</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='rparen'>)</span>

        <span class='id identifier rubyid_checker'>checker</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="LinkageChecker.html" title="LinkageChecker (class)">LinkageChecker</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="LinkageChecker.html#initialize-instance_method" title="LinkageChecker#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_keg'>keg</span><span class='comma'>,</span> <span class='label'>cache_db:</span> <span class='id identifier rubyid_db'>db</span><span class='rparen'>)</span>

        <span class='kw'>if</span> <span class='id identifier rubyid_checker'>checker</span><span class='period'>.</span><span class='id identifier rubyid_broken_library_linkage?'>broken_library_linkage?</span>
          <span class='kw'>if</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_outdated?'>outdated?</span><span class='lparen'>(</span><span class='label'>fetch_head:</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_fetch_HEAD?'>fetch_HEAD?</span><span class='rparen'>)</span>
            <span class='comment'># Outdated formulae = pinned formulae (see function above)
</span>            <span class='id identifier rubyid_formulae_pinned_and_outdated'>formulae_pinned_and_outdated</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_f'>f</span>
          <span class='kw'>else</span>
            <span class='id identifier rubyid_formulae_to_reinstall'>formulae_to_reinstall</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_f'>f</span>
          <span class='kw'>end</span>
        <span class='kw'>end</span>

        <span class='id identifier rubyid_descendants'>descendants</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_f'>f</span>
      <span class='kw'>end</span>

      <span class='id identifier rubyid_descendants_to_reinstall'>descendants_to_reinstall</span><span class='comma'>,</span> <span class='id identifier rubyid_descendants_pinned'>descendants_pinned</span> <span class='op'>=</span> <span class='id identifier rubyid_broken_dependents'>broken_dependents</span><span class='lparen'>(</span><span class='id identifier rubyid_kegs'><span class='object_link'><a href="HomebrewArgvExtension.html#kegs-instance_method" title="HomebrewArgvExtension#kegs (method)">kegs</a></span></span><span class='comma'>,</span> <span class='id identifier rubyid_descendants'>descendants</span><span class='rparen'>)</span>

      <span class='id identifier rubyid_formulae_to_reinstall'>formulae_to_reinstall</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span> <span class='id identifier rubyid_descendants_to_reinstall'>descendants_to_reinstall</span>
      <span class='id identifier rubyid_formulae_pinned_and_outdated'>formulae_pinned_and_outdated</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span> <span class='id identifier rubyid_descendants_pinned'>descendants_pinned</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='lbracket'>[</span><span class='id identifier rubyid_formulae_to_reinstall'>formulae_to_reinstall</span><span class='comma'>,</span> <span class='id identifier rubyid_formulae_pinned_and_outdated'>formulae_pinned_and_outdated</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="build_env_keys-class_method">
  
    .<strong>build_env_keys</strong>(env)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


37
38
39
40
41
42
43
44
45
46
47
48
49
50
51</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/build_environment.rb', line 37</span>

<span class='kw'>def</span> <span class='id identifier rubyid_build_env_keys'>build_env_keys</span><span class='lparen'>(</span><span class='id identifier rubyid_env'><span class='object_link'><a href="HomebrewArgvExtension.html#env-instance_method" title="HomebrewArgvExtension#env (method)">env</a></span></span><span class='rparen'>)</span>
  <span class='qwords_beg'>%w[</span><span class='words_sep'>
    </span><span class='tstring_content'>CC</span><span class='words_sep'> </span><span class='tstring_content'>CXX</span><span class='words_sep'> </span><span class='tstring_content'>LD</span><span class='words_sep'> </span><span class='tstring_content'>OBJC</span><span class='words_sep'> </span><span class='tstring_content'>OBJCXX</span><span class='words_sep'>
    </span><span class='tstring_content'>HOMEBREW_CC</span><span class='words_sep'> </span><span class='tstring_content'>HOMEBREW_CXX</span><span class='words_sep'>
    </span><span class='tstring_content'>CFLAGS</span><span class='words_sep'> </span><span class='tstring_content'>CXXFLAGS</span><span class='words_sep'> </span><span class='tstring_content'>CPPFLAGS</span><span class='words_sep'> </span><span class='tstring_content'>LDFLAGS</span><span class='words_sep'> </span><span class='tstring_content'>SDKROOT</span><span class='words_sep'> </span><span class='tstring_content'>MAKEFLAGS</span><span class='words_sep'>
    </span><span class='tstring_content'>CMAKE_PREFIX_PATH</span><span class='words_sep'> </span><span class='tstring_content'>CMAKE_INCLUDE_PATH</span><span class='words_sep'> </span><span class='tstring_content'>CMAKE_LIBRARY_PATH</span><span class='words_sep'> </span><span class='tstring_content'>CMAKE_FRAMEWORK_PATH</span><span class='words_sep'>
    </span><span class='tstring_content'>MACOSX_DEPLOYMENT_TARGET</span><span class='words_sep'> </span><span class='tstring_content'>PKG_CONFIG_PATH</span><span class='words_sep'> </span><span class='tstring_content'>PKG_CONFIG_LIBDIR</span><span class='words_sep'>
    </span><span class='tstring_content'>HOMEBREW_DEBUG</span><span class='words_sep'> </span><span class='tstring_content'>HOMEBREW_MAKE_JOBS</span><span class='words_sep'> </span><span class='tstring_content'>HOMEBREW_VERBOSE</span><span class='words_sep'>
    </span><span class='tstring_content'>HOMEBREW_SVN</span><span class='words_sep'> </span><span class='tstring_content'>HOMEBREW_GIT</span><span class='words_sep'>
    </span><span class='tstring_content'>HOMEBREW_SDKROOT</span><span class='words_sep'>
    </span><span class='tstring_content'>MAKE</span><span class='words_sep'> </span><span class='tstring_content'>GIT</span><span class='words_sep'> </span><span class='tstring_content'>CPP</span><span class='words_sep'>
    </span><span class='tstring_content'>ACLOCAL_PATH</span><span class='words_sep'> </span><span class='tstring_content'>PATH</span><span class='words_sep'> </span><span class='tstring_content'>CPATH</span><span class='words_sep'>
    </span><span class='tstring_content'>LD_LIBRARY_PATH</span><span class='words_sep'> </span><span class='tstring_content'>LD_RUN_PATH</span><span class='words_sep'> </span><span class='tstring_content'>LD_PRELOAD</span><span class='words_sep'> </span><span class='tstring_content'>LIBRARY_PATH</span><span class='words_sep'>
  </span><span class='tstring_end'>]</span></span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='op'>|</span> <span class='id identifier rubyid_env'><span class='object_link'><a href="HomebrewArgvExtension.html#env-instance_method" title="HomebrewArgvExtension#env (method)">env</a></span></span><span class='period'>.</span><span class='id identifier rubyid_key?'>key?</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="build_man_page-class_method">
  
    .<strong>build_man_page</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/man.rb', line 63</span>

<span class='kw'>def</span> <span class='id identifier rubyid_build_man_page'>build_man_page</span>
  <span class='id identifier rubyid_template'>template</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#SOURCE_PATH-constant" title="Homebrew::SOURCE_PATH (constant)">SOURCE_PATH</a></span></span><span class='op'>/</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>brew.1.md.erb</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span>
  <span class='id identifier rubyid_variables'>variables</span> <span class='op'>=</span> <span class='const'>OpenStruct</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>

  <span class='id identifier rubyid_variables'>variables</span><span class='lbracket'>[</span><span class='symbol'>:commands</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_generate_cmd_manpages'>generate_cmd_manpages</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_LIBRARY_PATH-constant" title="HOMEBREW_LIBRARY_PATH (constant)">HOMEBREW_LIBRARY_PATH</a></span></span><span class='embexpr_end'>}</span><span class='tstring_content'>/cmd/*.{rb,sh}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_variables'>variables</span><span class='lbracket'>[</span><span class='symbol'>:developer_commands</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_generate_cmd_manpages'>generate_cmd_manpages</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_LIBRARY_PATH-constant" title="HOMEBREW_LIBRARY_PATH (constant)">HOMEBREW_LIBRARY_PATH</a></span></span><span class='embexpr_end'>}</span><span class='tstring_content'>/dev-cmd/{*.rb,sh}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_variables'>variables</span><span class='lbracket'>[</span><span class='symbol'>:global_options</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_global_options_manpage'>global_options_manpage</span>

  <span class='id identifier rubyid_readme'>readme</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_REPOSITORY-constant" title="HOMEBREW_REPOSITORY (constant)">HOMEBREW_REPOSITORY</a></span></span><span class='op'>/</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>README.md</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_variables'>variables</span><span class='lbracket'>[</span><span class='symbol'>:lead</span><span class='rbracket'>]</span> <span class='op'>=</span>
    <span class='id identifier rubyid_readme'>readme</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span><span class='lbracket'>[</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(Homebrew&#39;s \[Project Leader.*\.)</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='int'>1</span><span class='rbracket'>]</span>
          <span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\[([^\]]+)\]\([^)]+\)</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>\1</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_variables'>variables</span><span class='lbracket'>[</span><span class='symbol'>:plc</span><span class='rbracket'>]</span> <span class='op'>=</span>
    <span class='id identifier rubyid_readme'>readme</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span><span class='lbracket'>[</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(Homebrew&#39;s \[Project Leadership Committee.*\.)</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='int'>1</span><span class='rbracket'>]</span>
          <span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\[([^\]]+)\]\([^)]+\)</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>\1</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_variables'>variables</span><span class='lbracket'>[</span><span class='symbol'>:tsc</span><span class='rbracket'>]</span> <span class='op'>=</span>
    <span class='id identifier rubyid_readme'>readme</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span><span class='lbracket'>[</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(Homebrew&#39;s \[Technical Steering Committee.*\.)</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='int'>1</span><span class='rbracket'>]</span>
          <span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\[([^\]]+)\]\([^)]+\)</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>\1</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_variables'>variables</span><span class='lbracket'>[</span><span class='symbol'>:linux</span><span class='rbracket'>]</span> <span class='op'>=</span>
    <span class='id identifier rubyid_readme'>readme</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span><span class='lbracket'>[</span><span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>(Homebrew/brew&#39;s Linux maintainers .*\.)</span><span class='regexp_end'>}</span></span><span class='comma'>,</span> <span class='int'>1</span><span class='rbracket'>]</span>
          <span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\[([^\]]+)\]\([^)]+\)</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>\1</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_variables'>variables</span><span class='lbracket'>[</span><span class='symbol'>:maintainers</span><span class='rbracket'>]</span> <span class='op'>=</span>
    <span class='id identifier rubyid_readme'>readme</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span><span class='lbracket'>[</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(Homebrew&#39;s other current maintainers .*\.)</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='int'>1</span><span class='rbracket'>]</span>
          <span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\[([^\]]+)\]\([^)]+\)</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>\1</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_variables'>variables</span><span class='lbracket'>[</span><span class='symbol'>:alumni</span><span class='rbracket'>]</span> <span class='op'>=</span>
    <span class='id identifier rubyid_readme'>readme</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span><span class='lbracket'>[</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(Former maintainers .*\.)</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='int'>1</span><span class='rbracket'>]</span>
          <span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\[([^\]]+)\]\([^)]+\)</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>\1</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>

  <span class='const'>ERB</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_template'>template</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_result'>result</span><span class='lparen'>(</span><span class='id identifier rubyid_variables'>variables</span><span class='period'>.</span><span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_binding'>binding</span> <span class='rbrace'>}</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="bump_formula_pr-class_method">
  
    .<strong>bump_formula_pr</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="FormulaUnspecifiedError.html" title="FormulaUnspecifiedError (class)">FormulaUnspecifiedError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/bump-formula-pr.rb', line 69</span>

<span class='kw'>def</span> <span class='id identifier rubyid_bump_formula_pr'>bump_formula_pr</span>
  <span class='id identifier rubyid_bump_formula_pr_args'>bump_formula_pr_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='comment'># As this command is simplifying user run commands then let&#39;s just use a
</span>  <span class='comment'># user path, too.
</span>  <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PATH</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HOMEBREW_PATH</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>

  <span class='comment'># Use the user&#39;s browser, too.
</span>  <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>BROWSER</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HOMEBREW_BROWSER</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>

  <span class='id identifier rubyid_formula'>formula</span> <span class='op'>=</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_formulae'>formulae</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_formula'>formula</span>
    <span class='id identifier rubyid_check_for_duplicate_pull_requests'>check_for_duplicate_pull_requests</span><span class='lparen'>(</span><span class='id identifier rubyid_formula'>formula</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_checked_for_duplicates'>checked_for_duplicates</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_new_url'>new_url</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_new_url'>new_url</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_formula'>formula</span>
    <span class='comment'># Split the new URL on / and find any formulae that have the same URL
</span>    <span class='comment'># except for the last component, but don&#39;t try to match any more than the
</span>    <span class='comment'># first five components since sometimes the last component isn&#39;t the only
</span>    <span class='comment'># one to change.
</span>    <span class='id identifier rubyid_new_url_split'>new_url_split</span> <span class='op'>=</span> <span class='id identifier rubyid_new_url'>new_url</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_maximum_url_components_to_match'>maximum_url_components_to_match</span> <span class='op'>=</span> <span class='int'>5</span>
    <span class='id identifier rubyid_components_to_match'>components_to_match</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_new_url_split'>new_url_split</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span> <span class='op'>-</span> <span class='int'>1</span><span class='comma'>,</span> <span class='id identifier rubyid_maximum_url_components_to_match'>maximum_url_components_to_match</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>
    <span class='id identifier rubyid_base_url'>base_url</span> <span class='op'>=</span> <span class='id identifier rubyid_new_url_split'>new_url_split</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='lparen'>(</span><span class='id identifier rubyid_components_to_match'>components_to_match</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_base_url'>base_url</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='embexpr_beg'>#{</span><span class='const'>Regexp</span><span class='period'>.</span><span class='id identifier rubyid_escape'>escape</span><span class='lparen'>(</span><span class='id identifier rubyid_base_url'>base_url</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='regexp_end'>/</span></span>
    <span class='id identifier rubyid_is_devel'>is_devel</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_devel?'>devel?</span>
    <span class='id identifier rubyid_guesses'>guesses</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='const'><span class='object_link'><a href="Formula.html" title="Formula (class)">Formula</a></span></span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_is_devel'>is_devel</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_devel'>devel</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_devel'>devel</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_devel'>devel</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span><span class='period'>.</span><span class='id identifier rubyid_match'>match</span><span class='lparen'>(</span><span class='id identifier rubyid_base_url'>base_url</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_guesses'>guesses</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_f'>f</span>
      <span class='kw'>elsif</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_stable'>stable</span><span class='op'>&amp;.</span><span class='id identifier rubyid_url'>url</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_stable'>stable</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span><span class='period'>.</span><span class='id identifier rubyid_match'>match</span><span class='lparen'>(</span><span class='id identifier rubyid_base_url'>base_url</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_guesses'>guesses</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_f'>f</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_guesses'>guesses</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span> <span class='op'>==</span> <span class='int'>1</span>
      <span class='id identifier rubyid_formula'>formula</span> <span class='op'>=</span> <span class='id identifier rubyid_guesses'>guesses</span><span class='period'>.</span><span class='id identifier rubyid_shift'>shift</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_guesses'>guesses</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span> <span class='op'>&gt;</span> <span class='int'>1</span>
      <span class='id identifier rubyid_odie'>odie</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Couldn&#39;t guess formula for sure; could be one of these:\n</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_guesses'>guesses</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="FormulaUnspecifiedError.html" title="FormulaUnspecifiedError (class)">FormulaUnspecifiedError</a></span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_formula'>formula</span>

  <span class='id identifier rubyid_check_for_duplicate_pull_requests'>check_for_duplicate_pull_requests</span><span class='lparen'>(</span><span class='id identifier rubyid_formula'>formula</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_checked_for_duplicates'>checked_for_duplicates</span>

  <span class='id identifier rubyid_requested_spec'>requested_spec</span><span class='comma'>,</span> <span class='id identifier rubyid_formula_spec'>formula_spec</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_devel?'>devel?</span>
    <span class='id identifier rubyid_devel_message'>devel_message</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> (devel)</span><span class='tstring_end'>&quot;</span></span>
    <span class='lbracket'>[</span><span class='symbol'>:devel</span><span class='comma'>,</span> <span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_devel'>devel</span><span class='rbracket'>]</span>
  <span class='kw'>else</span>
    <span class='lbracket'>[</span><span class='symbol'>:stable</span><span class='comma'>,</span> <span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_stable'>stable</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_odie'>odie</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_formula'>formula</span><span class='embexpr_end'>}</span><span class='tstring_content'>: no </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_requested_spec'>requested_spec</span><span class='embexpr_end'>}</span><span class='tstring_content'> specification found!</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_formula_spec'>formula_spec</span>

  <span class='id identifier rubyid_hash_type'>hash_type</span><span class='comma'>,</span> <span class='id identifier rubyid_old_hash'>old_hash</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_checksum'>checksum</span> <span class='op'>=</span> <span class='id identifier rubyid_formula_spec'>formula_spec</span><span class='period'>.</span><span class='id identifier rubyid_checksum'>checksum</span><span class='rparen'>)</span>
    <span class='lbracket'>[</span><span class='id identifier rubyid_checksum'>checksum</span><span class='period'>.</span><span class='id identifier rubyid_hash_type'>hash_type</span><span class='comma'>,</span> <span class='id identifier rubyid_checksum'>checksum</span><span class='period'>.</span><span class='id identifier rubyid_hexdigest'>hexdigest</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_new_hash'>new_hash</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='lbracket'>[</span><span class='id identifier rubyid_hash_type'>hash_type</span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='id identifier rubyid_hash_type'>hash_type</span>
  <span class='id identifier rubyid_new_tag'>new_tag</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_tag'>tag</span>
  <span class='id identifier rubyid_new_revision'>new_revision</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_revision'>revision</span>
  <span class='id identifier rubyid_new_mirror'>new_mirror</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_mirror'>mirror</span>
  <span class='id identifier rubyid_forced_version'>forced_version</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span>
  <span class='id identifier rubyid_new_url_hash'>new_url_hash</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_new_url'>new_url</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_new_hash'>new_hash</span>
    <span class='kw'>true</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_new_tag'>new_tag</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_new_revision'>new_revision</span>
    <span class='kw'>false</span>
  <span class='kw'>elsif</span> <span class='op'>!</span><span class='id identifier rubyid_hash_type'>hash_type</span>
    <span class='id identifier rubyid_odie'>odie</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_formula'>formula</span><span class='embexpr_end'>}</span><span class='tstring_content'>: no --tag=/--revision= arguments specified!</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>elsif</span> <span class='op'>!</span><span class='id identifier rubyid_new_url'>new_url</span>
    <span class='id identifier rubyid_odie'>odie</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_formula'>formula</span><span class='embexpr_end'>}</span><span class='tstring_content'>: no --url= argument specified!</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_new_mirror'>new_mirror</span> <span class='op'>||=</span> <span class='kw'>case</span> <span class='id identifier rubyid_new_url'>new_url</span>
    <span class='kw'>when</span> <span class='id identifier rubyid_requested_spec'>requested_spec</span> <span class='op'>!=</span> <span class='symbol'>:devel</span> <span class='op'>&amp;&amp;</span> <span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>.*ftp.gnu.org/gnu.*</span><span class='regexp_end'>}</span></span>
      <span class='id identifier rubyid_new_url'>new_url</span><span class='period'>.</span><span class='id identifier rubyid_sub'>sub</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ftp.gnu.org/gnu</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ftpmirror.gnu.org</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>.*mirrors.ocf.berkeley.edu/debian.*</span><span class='regexp_end'>}</span></span>
      <span class='id identifier rubyid_new_url'>new_url</span><span class='period'>.</span><span class='id identifier rubyid_sub'>sub</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>mirrors.ocf.berkeley.edu/debian</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>mirrorservice.org/sites/ftp.debian.org/debian</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_resource'>resource</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Resource.html" title="Resource (class)">Resource</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Resource.html#initialize-instance_method" title="Resource#initialize (method)">new</a></span></span> <span class='lbrace'>{</span> <span class='ivar'>@url</span> <span class='op'>=</span> <span class='id identifier rubyid_new_url'>new_url</span> <span class='rbrace'>}</span>
    <span class='id identifier rubyid_resource'>resource</span><span class='period'>.</span><span class='id identifier rubyid_download_strategy'>download_strategy</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="DownloadStrategyDetector.html" title="DownloadStrategyDetector (class)">DownloadStrategyDetector</a></span></span><span class='period'>.</span><span class='id identifier rubyid_detect_from_url'><span class='object_link'><a href="DownloadStrategyDetector.html#detect_from_url-class_method" title="DownloadStrategyDetector.detect_from_url (method)">detect_from_url</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_new_url'>new_url</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_resource'>resource</span><span class='period'>.</span><span class='id identifier rubyid_owner'>owner</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Resource.html" title="Resource (class)">Resource</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Resource.html#initialize-instance_method" title="Resource#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_resource'>resource</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span> <span class='op'>=</span> <span class='id identifier rubyid_forced_version'>forced_version</span> <span class='kw'>if</span> <span class='id identifier rubyid_forced_version'>forced_version</span>
    <span class='id identifier rubyid_odie'>odie</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>No --version= argument specified!</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_resource'>resource</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span>
    <span class='id identifier rubyid_resource_path'>resource_path</span> <span class='op'>=</span> <span class='id identifier rubyid_resource'>resource</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span>
    <span class='id identifier rubyid_tar_file_extensions'>tar_file_extensions</span> <span class='op'>=</span> <span class='qwords_beg'>%w[</span><span class='tstring_content'>.tar</span><span class='words_sep'> </span><span class='tstring_content'>.tb2</span><span class='words_sep'> </span><span class='tstring_content'>.tbz</span><span class='words_sep'> </span><span class='tstring_content'>.tbz2</span><span class='words_sep'> </span><span class='tstring_content'>.tgz</span><span class='words_sep'> </span><span class='tstring_content'>.tlz</span><span class='words_sep'> </span><span class='tstring_content'>.txz</span><span class='words_sep'> </span><span class='tstring_content'>.tZ</span><span class='tstring_end'>]</span></span>
    <span class='kw'>if</span> <span class='id identifier rubyid_tar_file_extensions'>tar_file_extensions</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_extension'>extension</span><span class='op'>|</span> <span class='id identifier rubyid_new_url'>new_url</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='id identifier rubyid_extension'>extension</span> <span class='rbrace'>}</span>
      <span class='id identifier rubyid_gnu_tar_gtar_path'>gnu_tar_gtar_path</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_PREFIX-constant" title="HOMEBREW_PREFIX (constant)">HOMEBREW_PREFIX</a></span></span><span class='op'>/</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>opt/gnu-tar/bin/gtar</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_gnu_tar_gtar'>gnu_tar_gtar</span> <span class='op'>=</span> <span class='id identifier rubyid_gnu_tar_gtar_path'>gnu_tar_gtar_path</span> <span class='kw'>if</span> <span class='id identifier rubyid_gnu_tar_gtar_path'>gnu_tar_gtar_path</span><span class='period'>.</span><span class='id identifier rubyid_executable?'>executable?</span>
      <span class='id identifier rubyid_tar'>tar</span> <span class='op'>=</span> <span class='id identifier rubyid_which'>which</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>gtar</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>||</span> <span class='id identifier rubyid_gnu_tar_gtar'>gnu_tar_gtar</span> <span class='op'>||</span> <span class='id identifier rubyid_which'>which</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>tar</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='const'><span class='object_link'><a href="Utils.html" title="Utils (module)">Utils</a></span></span><span class='period'>.</span><span class='id identifier rubyid_popen_read'><span class='object_link'><a href="Utils.html#popen_read-class_method" title="Utils.popen_read (method)">popen_read</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_tar'>tar</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-tf</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_resource_path'>resource_path</span><span class='rparen'>)</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>/.*\.</span><span class='regexp_end'>}</span></span>
        <span class='id identifier rubyid_new_hash'>new_hash</span> <span class='op'>=</span> <span class='id identifier rubyid_resource_path'>resource_path</span><span class='period'>.</span><span class='id identifier rubyid_sha256'>sha256</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_odie'>odie</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_resource_path'>resource_path</span><span class='embexpr_end'>}</span><span class='tstring_content'> is not a valid tar file!</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_new_hash'>new_hash</span> <span class='op'>=</span> <span class='id identifier rubyid_resource_path'>resource_path</span><span class='period'>.</span><span class='id identifier rubyid_sha256'>sha256</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_old_formula_version'>old_formula_version</span> <span class='op'>=</span> <span class='id identifier rubyid_formula_version'>formula_version</span><span class='lparen'>(</span><span class='id identifier rubyid_formula'>formula</span><span class='comma'>,</span> <span class='id identifier rubyid_requested_spec'>requested_spec</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_replacement_pairs'>replacement_pairs</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_requested_spec'>requested_spec</span> <span class='op'>==</span> <span class='symbol'>:stable</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_revision'>revision</span><span class='period'>.</span><span class='id identifier rubyid_nonzero?'>nonzero?</span>
    <span class='id identifier rubyid_replacement_pairs'>replacement_pairs</span> <span class='op'>&lt;&lt;</span> <span class='lbracket'>[</span>
      <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^  revision \d+\n(\n(  head &quot;))?</span><span class='regexp_end'>/m</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\2</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='rbracket'>]</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_replacement_pairs'>replacement_pairs</span> <span class='op'>+=</span> <span class='id identifier rubyid_formula_spec'>formula_spec</span><span class='period'>.</span><span class='id identifier rubyid_mirrors'>mirrors</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_mirror'>mirror</span><span class='op'>|</span>
    <span class='lbracket'>[</span>
      <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'> +mirror \&quot;</span><span class='embexpr_beg'>#{</span><span class='const'>Regexp</span><span class='period'>.</span><span class='id identifier rubyid_escape'>escape</span><span class='lparen'>(</span><span class='id identifier rubyid_mirror'>mirror</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot;\n</span><span class='regexp_end'>/m</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='rbracket'>]</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_replacement_pairs'>replacement_pairs</span> <span class='op'>+=</span> <span class='kw'>if</span> <span class='id identifier rubyid_new_url_hash'>new_url_hash</span>
    <span class='lbracket'>[</span>
      <span class='lbracket'>[</span>
        <span class='tstring'><span class='regexp_beg'>/</span><span class='embexpr_beg'>#{</span><span class='const'>Regexp</span><span class='period'>.</span><span class='id identifier rubyid_escape'>escape</span><span class='lparen'>(</span><span class='id identifier rubyid_formula_spec'>formula_spec</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='regexp_end'>/</span></span><span class='comma'>,</span>
        <span class='id identifier rubyid_new_url'>new_url</span><span class='comma'>,</span>
      <span class='rbracket'>]</span><span class='comma'>,</span>
      <span class='lbracket'>[</span>
        <span class='id identifier rubyid_old_hash'>old_hash</span><span class='comma'>,</span>
        <span class='id identifier rubyid_new_hash'>new_hash</span><span class='comma'>,</span>
      <span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='rbracket'>]</span>
  <span class='kw'>else</span>
    <span class='lbracket'>[</span>
      <span class='lbracket'>[</span>
        <span class='id identifier rubyid_formula_spec'>formula_spec</span><span class='period'>.</span><span class='id identifier rubyid_specs'>specs</span><span class='lbracket'>[</span><span class='symbol'>:tag</span><span class='rbracket'>]</span><span class='comma'>,</span>
        <span class='id identifier rubyid_new_tag'>new_tag</span><span class='comma'>,</span>
      <span class='rbracket'>]</span><span class='comma'>,</span>
      <span class='lbracket'>[</span>
        <span class='id identifier rubyid_formula_spec'>formula_spec</span><span class='period'>.</span><span class='id identifier rubyid_specs'>specs</span><span class='lbracket'>[</span><span class='symbol'>:revision</span><span class='rbracket'>]</span><span class='comma'>,</span>
        <span class='id identifier rubyid_new_revision'>new_revision</span><span class='comma'>,</span>
      <span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='rbracket'>]</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_backup_file'>backup_file</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span><span class='lparen'>(</span><span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_dry_run?'>dry_run?</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_new_mirror'>new_mirror</span>
    <span class='id identifier rubyid_replacement_pairs'>replacement_pairs</span> <span class='op'>&lt;&lt;</span> <span class='lbracket'>[</span>
      <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^( +)(url \&quot;</span><span class='embexpr_beg'>#{</span><span class='const'>Regexp</span><span class='period'>.</span><span class='id identifier rubyid_escape'>escape</span><span class='lparen'>(</span><span class='id identifier rubyid_new_url'>new_url</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot;\n)</span><span class='regexp_end'>/m</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\1\\2\\1mirror \&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new_mirror'>new_mirror</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot;\n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='rbracket'>]</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_forced_version'>forced_version</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_forced_version'>forced_version</span> <span class='op'>!=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>if</span> <span class='id identifier rubyid_requested_spec'>requested_spec</span> <span class='op'>==</span> <span class='symbol'>:stable</span>
      <span class='kw'>if</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span><span class='lparen'>(</span><span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>version \&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_old_formula_version'>old_formula_version</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
        <span class='id identifier rubyid_replacement_pairs'>replacement_pairs</span> <span class='op'>&lt;&lt;</span> <span class='lbracket'>[</span>
          <span class='id identifier rubyid_old_formula_version'>old_formula_version</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='comma'>,</span>
          <span class='id identifier rubyid_forced_version'>forced_version</span><span class='comma'>,</span>
        <span class='rbracket'>]</span>
      <span class='kw'>elsif</span> <span class='id identifier rubyid_new_mirror'>new_mirror</span>
        <span class='id identifier rubyid_replacement_pairs'>replacement_pairs</span> <span class='op'>&lt;&lt;</span> <span class='lbracket'>[</span>
          <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^( +)(mirror \&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new_mirror'>new_mirror</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot;\n)</span><span class='regexp_end'>/m</span></span><span class='comma'>,</span>
          <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\1\\2\\1version \&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_forced_version'>forced_version</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot;\n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
        <span class='rbracket'>]</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_replacement_pairs'>replacement_pairs</span> <span class='op'>&lt;&lt;</span> <span class='lbracket'>[</span>
          <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^( +)(url \&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new_url'>new_url</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot;\n)</span><span class='regexp_end'>/m</span></span><span class='comma'>,</span>
          <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\1\\2\\1version \&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_forced_version'>forced_version</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot;\n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
        <span class='rbracket'>]</span>
      <span class='kw'>end</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_requested_spec'>requested_spec</span> <span class='op'>==</span> <span class='symbol'>:devel</span>
      <span class='id identifier rubyid_replacement_pairs'>replacement_pairs</span> <span class='op'>&lt;&lt;</span> <span class='lbracket'>[</span>
        <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(  devel do.+?version \&quot;)</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_old_formula_version'>old_formula_version</span><span class='embexpr_end'>}</span><span class='tstring_content'>(\&quot;\n.+?end\n)</span><span class='regexp_end'>/m</span></span><span class='comma'>,</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\1</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_forced_version'>forced_version</span><span class='embexpr_end'>}</span><span class='tstring_content'>\\2</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='rbracket'>]</span>
    <span class='kw'>end</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_forced_version'>forced_version</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_forced_version'>forced_version</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>if</span> <span class='id identifier rubyid_requested_spec'>requested_spec</span> <span class='op'>==</span> <span class='symbol'>:stable</span>
      <span class='id identifier rubyid_replacement_pairs'>replacement_pairs</span> <span class='op'>&lt;&lt;</span> <span class='lbracket'>[</span>
        <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^  version \&quot;[\w\.\-\+]+\&quot;\n</span><span class='regexp_end'>/m</span></span><span class='comma'>,</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='rbracket'>]</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_requested_spec'>requested_spec</span> <span class='op'>==</span> <span class='symbol'>:devel</span>
      <span class='id identifier rubyid_replacement_pairs'>replacement_pairs</span> <span class='op'>&lt;&lt;</span> <span class='lbracket'>[</span>
        <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(  devel do.+?)^ +version \&quot;[^\n]+\&quot;\n(.+?end\n)</span><span class='regexp_end'>/m</span></span><span class='comma'>,</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\1\\2</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='rbracket'>]</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_new_contents'>new_contents</span> <span class='op'>=</span> <span class='id identifier rubyid_inreplace_pairs'>inreplace_pairs</span><span class='lparen'>(</span><span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_replacement_pairs'>replacement_pairs</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_new_formula_version'>new_formula_version</span> <span class='op'>=</span> <span class='id identifier rubyid_formula_version'>formula_version</span><span class='lparen'>(</span><span class='id identifier rubyid_formula'>formula</span><span class='comma'>,</span> <span class='id identifier rubyid_requested_spec'>requested_spec</span><span class='comma'>,</span> <span class='id identifier rubyid_new_contents'>new_contents</span><span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_new_formula_version'>new_formula_version</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_old_formula_version'>old_formula_version</span>
    <span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_atomic_write'>atomic_write</span><span class='lparen'>(</span><span class='id identifier rubyid_backup_file'>backup_file</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_dry_run?'>dry_run?</span>
    <span class='id identifier rubyid_odie'>odie</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      You probably need to bump this formula manually since changing the
</span><span class='tstring_content'>      version from </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_old_formula_version'>old_formula_version</span><span class='embexpr_end'>}</span><span class='tstring_content'> to </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new_formula_version'>new_formula_version</span><span class='embexpr_end'>}</span><span class='tstring_content'> would be a downgrade.
</span><span class='heredoc_end'>    EOS
</span>  <span class='kw'>elsif</span> <span class='id identifier rubyid_new_formula_version'>new_formula_version</span> <span class='op'>==</span> <span class='id identifier rubyid_old_formula_version'>old_formula_version</span>
    <span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_atomic_write'>atomic_write</span><span class='lparen'>(</span><span class='id identifier rubyid_backup_file'>backup_file</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_dry_run?'>dry_run?</span>
    <span class='id identifier rubyid_odie'>odie</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      You probably need to bump this formula manually since the new version
</span><span class='tstring_content'>      and old version are both </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new_formula_version'>new_formula_version</span><span class='embexpr_end'>}</span><span class='tstring_content'>.
</span><span class='heredoc_end'>    EOS
</span>  <span class='kw'>end</span>

  <span class='id identifier rubyid_alias_rename'>alias_rename</span> <span class='op'>=</span> <span class='id identifier rubyid_alias_update_pair'>alias_update_pair</span><span class='lparen'>(</span><span class='id identifier rubyid_formula'>formula</span><span class='comma'>,</span> <span class='id identifier rubyid_new_formula_version'>new_formula_version</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_alias_rename'>alias_rename</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
    <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>renaming alias </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_alias_rename'>alias_rename</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='embexpr_end'>}</span><span class='tstring_content'> to </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_alias_rename'>alias_rename</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_alias_rename'>alias_rename</span><span class='period'>.</span><span class='id identifier rubyid_map!'>map!</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='op'>|</span> <span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_alias_dir'>alias_dir</span><span class='op'>/</span><span class='id identifier rubyid_a'>a</span> <span class='rbrace'>}</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_run_audit'>run_audit</span><span class='lparen'>(</span><span class='id identifier rubyid_formula'>formula</span><span class='comma'>,</span> <span class='id identifier rubyid_alias_rename'>alias_rename</span><span class='comma'>,</span> <span class='id identifier rubyid_backup_file'>backup_file</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_parent'>parent</span><span class='period'>.</span><span class='id identifier rubyid_cd'>cd</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_branch'>branch</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>-</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new_formula_version'>new_formula_version</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_git_dir'>git_dir</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Utils.html" title="Utils (module)">Utils</a></span></span><span class='period'>.</span><span class='id identifier rubyid_popen_read'><span class='object_link'><a href="Utils.html#popen_read-class_method" title="Utils.popen_read (method)">popen_read</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git rev-parse --git-dir</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span>
    <span class='id identifier rubyid_shallow'>shallow</span> <span class='op'>=</span> <span class='op'>!</span><span class='id identifier rubyid_git_dir'>git_dir</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>&amp;&amp;</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_git_dir'>git_dir</span><span class='embexpr_end'>}</span><span class='tstring_content'>/shallow</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_changed_files'>changed_files</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_changed_files'>changed_files</span> <span class='op'>+=</span> <span class='id identifier rubyid_alias_rename'>alias_rename</span> <span class='kw'>if</span> <span class='id identifier rubyid_alias_rename'>alias_rename</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_dry_run?'>dry_run?</span>
      <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>try to fork repository with GitHub API</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git fetch --unshallow origin</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_shallow'>shallow</span>
      <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git add </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_alias_rename'>alias_rename</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_alias_rename'>alias_rename</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_alias_rename'>alias_rename</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
      <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git checkout --no-track -b </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_branch'>branch</span><span class='embexpr_end'>}</span><span class='tstring_content'> origin/master</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git commit --no-edit --verbose --message=&#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span> \
           <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new_formula_version'>new_formula_version</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_devel_message'>devel_message</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; -- </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_changed_files'>changed_files</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git push --set-upstream $HUB_REMOTE </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_branch'>branch</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_branch'>branch</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git checkout --quiet -</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>create pull request with GitHub API</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>else</span>

      <span class='kw'>begin</span>
        <span class='id identifier rubyid_response'>response</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="GitHub.html" title="GitHub (module)">GitHub</a></span></span><span class='period'>.</span><span class='id identifier rubyid_create_fork'><span class='object_link'><a href="GitHub.html#create_fork-class_method" title="GitHub.create_fork (method)">create_fork</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span><span class='rparen'>)</span>
        <span class='comment'># GitHub API responds immediately but fork takes a few seconds to be ready.
</span>        <span class='id identifier rubyid_sleep'>sleep</span> <span class='int'>3</span>

        <span class='kw'>if</span> <span class='id identifier rubyid_system'>system</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>config</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--local</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--get-regexp</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>remote\..*\.url</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git@github.com:.*</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
          <span class='id identifier rubyid_remote_url'>remote_url</span> <span class='op'>=</span> <span class='id identifier rubyid_response'>response</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ssh_url</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
        <span class='kw'>else</span>
          <span class='id identifier rubyid_remote_url'>remote_url</span> <span class='op'>=</span> <span class='id identifier rubyid_response'>response</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>clone_url</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
        <span class='kw'>end</span>
        <span class='id identifier rubyid_username'>username</span> <span class='op'>=</span> <span class='id identifier rubyid_response'>response</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>owner</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>login</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="GitHub.html" title="GitHub (module)">GitHub</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="GitHub/AuthenticationFailedError.html" title="GitHub::AuthenticationFailedError (class)">AuthenticationFailedError</a></span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='kw'>unless</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_github_message'>github_message</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>forking is disabled</span><span class='regexp_end'>/</span></span>

        <span class='comment'># If the repository is private, forking might be disabled.
</span>        <span class='comment'># Create branches in the repository itself instead.
</span>        <span class='id identifier rubyid_remote_url'>remote_url</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Utils.html" title="Utils (module)">Utils</a></span></span><span class='period'>.</span><span class='id identifier rubyid_popen_read'><span class='object_link'><a href="Utils.html#popen_read-class_method" title="Utils.popen_read (method)">popen_read</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git remote get-url --push origin</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span>
        <span class='id identifier rubyid_username'>username</span> <span class='op'>=</span> <span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_user'>user</span>
      <span class='kw'>rescue</span> <span class='op'>*</span><span class='const'><span class='object_link'><a href="GitHub.html" title="GitHub (module)">GitHub</a></span></span><span class='period'>.</span><span class='id identifier rubyid_api_errors'><span class='object_link'><a href="GitHub.html#api_errors-class_method" title="GitHub.api_errors (method)">api_errors</a></span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
        <span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_atomic_write'>atomic_write</span><span class='lparen'>(</span><span class='id identifier rubyid_backup_file'>backup_file</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_dry_run?'>dry_run?</span>
        <span class='id identifier rubyid_odie'>odie</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unable to fork: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span><span class='embexpr_end'>}</span><span class='tstring_content'>!</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>

      <span class='id identifier rubyid_safe_system'>safe_system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>fetch</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--unshallow</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>origin</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_shallow'>shallow</span>
      <span class='id identifier rubyid_safe_system'>safe_system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>add</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_alias_rename'>alias_rename</span> <span class='kw'>if</span> <span class='id identifier rubyid_alias_rename'>alias_rename</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
      <span class='id identifier rubyid_safe_system'>safe_system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>checkout</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--no-track</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_branch'>branch</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>origin/master</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_safe_system'>safe_system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>commit</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--no-edit</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--verbose</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--message=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new_formula_version'>new_formula_version</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_devel_message'>devel_message</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_changed_files'>changed_files</span>
      <span class='id identifier rubyid_safe_system'>safe_system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>push</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--set-upstream</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_remote_url'>remote_url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_branch'>branch</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_branch'>branch</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_safe_system'>safe_system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>checkout</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--quiet</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_pr_message'>pr_message</span> <span class='op'>=</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>        Created with `brew bump-formula-pr`.
</span><span class='heredoc_end'>      EOS
</span>      <span class='id identifier rubyid_user_message'>user_message</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_user_message'>user_message</span>
        <span class='id identifier rubyid_pr_message'>pr_message</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>          ---
</span><span class='tstring_content'>
</span><span class='tstring_content'>          </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_user_message'>user_message</span><span class='embexpr_end'>}</span><span class='tstring_content'>
</span><span class='heredoc_end'>        EOS
</span>      <span class='kw'>end</span>
      <span class='id identifier rubyid_pr_title'>pr_title</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new_formula_version'>new_formula_version</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_devel_message'>devel_message</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>

      <span class='kw'>begin</span>
        <span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="GitHub.html" title="GitHub (module)">GitHub</a></span></span><span class='period'>.</span><span class='id identifier rubyid_create_pull_request'><span class='object_link'><a href="GitHub.html#create_pull_request-class_method" title="GitHub.create_pull_request (method)">create_pull_request</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span><span class='comma'>,</span> <span class='id identifier rubyid_pr_title'>pr_title</span><span class='comma'>,</span>
                                         <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_username'>username</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_branch'>branch</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>master</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_pr_message'>pr_message</span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>html_url</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_no_browse?'>no_browse?</span>
          <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_url'>url</span>
        <span class='kw'>else</span>
          <span class='id identifier rubyid_exec_browser'>exec_browser</span> <span class='id identifier rubyid_url'>url</span>
        <span class='kw'>end</span>
      <span class='kw'>rescue</span> <span class='op'>*</span><span class='const'><span class='object_link'><a href="GitHub.html" title="GitHub (module)">GitHub</a></span></span><span class='period'>.</span><span class='id identifier rubyid_api_errors'><span class='object_link'><a href="GitHub.html#api_errors-class_method" title="GitHub.api_errors (method)">api_errors</a></span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
        <span class='id identifier rubyid_odie'>odie</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unable to open pull request: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span><span class='embexpr_end'>}</span><span class='tstring_content'>!</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="bump_formula_pr_args-class_method">
  
    .<strong>bump_formula_pr_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/bump-formula-pr.rb', line 9</span>

<span class='kw'>def</span> <span class='id identifier rubyid_bump_formula_pr_args'>bump_formula_pr_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `bump-formula-pr` [&lt;options&gt;] [&lt;formula&gt;]
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Create a pull request to update &lt;formula&gt; with a new URL or a new tag.
</span><span class='tstring_content'>
</span><span class='tstring_content'>      If a &lt;URL&gt; is specified, the &lt;SHA-256&gt; checksum of the new download should also
</span><span class='tstring_content'>      be specified. A best effort to determine the &lt;SHA-256&gt; and &lt;formula&gt; name will
</span><span class='tstring_content'>      be made if either or both values are not supplied by the user.
</span><span class='tstring_content'>
</span><span class='tstring_content'>      If a &lt;tag&gt; is specified, the Git commit &lt;revision&gt; corresponding to that tag
</span><span class='tstring_content'>      must also be specified.
</span><span class='tstring_content'>
</span><span class='tstring_content'>      *Note:* this command cannot be used to transition a formula from a
</span><span class='tstring_content'>      URL-and-SHA-256 style specification into a tag-and-revision style specification,
</span><span class='tstring_content'>      nor vice versa. It must use whichever style specification the formula already uses.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--devel</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Bump the development rather than stable version. The development spec must already exist.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--dry-run</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Print what would be done rather than doing it.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--write</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>depends_on:</span>  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--dry-run</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>When passed along with `--dry-run`, perform a not-so-dry run by making the expected </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>file modifications but not taking any Git actions.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--no-audit</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Don&#39;t run `brew audit` before opening the PR.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--strict</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Run `brew audit --strict` before opening the PR.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--no-browse</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Print the pull request URL instead of opening in a browser.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_flag'>flag</span>   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--mirror=</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Use the specified &lt;URL&gt; as a mirror URL.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_flag'>flag</span>   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--version=</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Use the specified &lt;version&gt; to override the value parsed from the URL or tag. Note </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>that `--version=0` can be used to delete an existing version override from a </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>formula if it has become redundant.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_flag'>flag</span>   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--message=</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Append &lt;message&gt; to the default pull request message.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_flag'>flag</span>   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--url=</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Specify the &lt;URL&gt; for the new download. If a &lt;URL&gt; is specified, the &lt;SHA-256&gt; </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>checksum of the new download should also be specified.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_flag'>flag</span>   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--sha256=</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>depends_on:</span>  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--url=</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Specify the &lt;SHA-256&gt; checksum of the new download.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_flag'>flag</span>   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--tag=</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Specify the new git commit &lt;tag&gt; for the formula.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_flag'>flag</span>   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--revision=</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>required_for:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--tag=</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span>  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Specify the new git commit &lt;revision&gt; corresponding to the specified &lt;tag&gt;.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:force</span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:quiet</span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:verbose</span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:debug</span>
    <span class='id identifier rubyid_conflicts'>conflicts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--no-audit</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--strict</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_conflicts'>conflicts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--url</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--tag</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="bump_revision-class_method">
  
    .<strong>bump_revision</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="FormulaUnspecifiedError.html" title="FormulaUnspecifiedError (class)">FormulaUnspecifiedError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/bump-revision.rb', line 28</span>

<span class='kw'>def</span> <span class='id identifier rubyid_bump_revision'>bump_revision</span>
  <span class='id identifier rubyid_bump_revision_args'>bump_revision_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='comment'># As this command is simplifying user run commands then let&#39;s just use a
</span>  <span class='comment'># user path, too.
</span>  <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PATH</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HOMEBREW_PATH</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>

  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="FormulaUnspecifiedError.html" title="FormulaUnspecifiedError (class)">FormulaUnspecifiedError</a></span></span> <span class='kw'>if</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_formulae'>formulae</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Multiple formulae given, only one is allowed.</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_formulae'>formulae</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>&gt;</span> <span class='int'>1</span>

  <span class='id identifier rubyid_formula'>formula</span> <span class='op'>=</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_formulae'>formulae</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
  <span class='id identifier rubyid_current_revision'>current_revision</span> <span class='op'>=</span> <span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_revision'>revision</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_current_revision'>current_revision</span><span class='period'>.</span><span class='id identifier rubyid_zero?'>zero?</span>
    <span class='id identifier rubyid_formula_spec'>formula_spec</span> <span class='op'>=</span> <span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_stable'>stable</span>
    <span class='id identifier rubyid_hash_type'>hash_type</span><span class='comma'>,</span> <span class='id identifier rubyid_old_hash'>old_hash</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_checksum'>checksum</span> <span class='op'>=</span> <span class='id identifier rubyid_formula_spec'>formula_spec</span><span class='period'>.</span><span class='id identifier rubyid_checksum'>checksum</span><span class='rparen'>)</span>
      <span class='lbracket'>[</span><span class='id identifier rubyid_checksum'>checksum</span><span class='period'>.</span><span class='id identifier rubyid_hash_type'>hash_type</span><span class='comma'>,</span> <span class='id identifier rubyid_checksum'>checksum</span><span class='period'>.</span><span class='id identifier rubyid_hexdigest'>hexdigest</span><span class='rbracket'>]</span>
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_hash_type'>hash_type</span>
      <span class='comment'># insert replacement revision after hash
</span>      <span class='id identifier rubyid_old'>old</span> <span class='op'>=</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>        </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_hash_type'>hash_type</span><span class='embexpr_end'>}</span><span class='tstring_content'> &quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_old_hash'>old_hash</span><span class='embexpr_end'>}</span><span class='tstring_content'>&quot;
</span><span class='heredoc_end'>      EOS
</span>    <span class='kw'>else</span>
      <span class='comment'># insert replacement revision after :revision
</span>      <span class='id identifier rubyid_old'>old</span> <span class='op'>=</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>        :revision =&gt; &quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_formula_spec'>formula_spec</span><span class='period'>.</span><span class='id identifier rubyid_specs'>specs</span><span class='lbracket'>[</span><span class='symbeg'>:</span><span class='id identifier rubyid_revision'>revision</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'>&quot;
</span><span class='heredoc_end'>      EOS
</span>    <span class='kw'>end</span>
    <span class='id identifier rubyid_replacement'>replacement</span> <span class='op'>=</span> <span class='id identifier rubyid_old'>old</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  revision 1\n</span><span class='tstring_end'>&quot;</span></span>

  <span class='kw'>else</span>
    <span class='id identifier rubyid_old'>old</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>revision </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_current_revision'>current_revision</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_replacement'>replacement</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>revision </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_current_revision'>current_revision</span><span class='op'>+</span><span class='int'>1</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_dry_run?'>dry_run?</span>
    <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>replace </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_old'>old</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_content'> with </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_replacement'>replacement</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='period'>.</span><span class='id identifier rubyid_args'><span class='object_link'><a href="#args-class_method" title="Homebrew.args (method)">args</a></span></span><span class='period'>.</span><span class='id identifier rubyid_quiet?'>quiet?</span>
  <span class='kw'>else</span>
    <span class='const'><span class='object_link'><a href="Utils.html" title="Utils (module)">Utils</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Utils/Inreplace.html" title="Utils::Inreplace (module)">Inreplace</a></span></span><span class='period'>.</span><span class='id identifier rubyid_inreplace'><span class='object_link'><a href="Utils/Inreplace.html#inreplace-class_method" title="Utils::Inreplace.inreplace (method)">inreplace</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span>
      <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_gsub!'>gsub!</span><span class='lparen'>(</span><span class='id identifier rubyid_old'>old</span><span class='comma'>,</span> <span class='id identifier rubyid_replacement'>replacement</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>: revision bump </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_dry_run?'>dry_run?</span>
    <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git commit --no-edit --verbose --message=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_message'>message</span><span class='embexpr_end'>}</span><span class='tstring_content'> -- </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_parent'>parent</span><span class='period'>.</span><span class='id identifier rubyid_cd'>cd</span> <span class='kw'>do</span>
      <span class='id identifier rubyid_safe_system'>safe_system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>commit</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--no-edit</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--verbose</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--message=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_message'>message</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="bump_revision_args-class_method">
  
    .<strong>bump_revision_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/bump-revision.rb', line 9</span>

<span class='kw'>def</span> <span class='id identifier rubyid_bump_revision_args'>bump_revision_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `bump-revision` [&lt;options&gt;] &lt;formula&gt;
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Create a commit to increment the revision of &lt;formula&gt;. If no revision is
</span><span class='tstring_content'>      present, &quot;revision 1&quot; will be added.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--dry-run</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Print what would be done rather than doing it.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_flag'>flag</span>   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--message=</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Append &lt;message&gt; to the default commit message.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:force</span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:quiet</span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:verbose</span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:debug</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="cask-class_method">
  
    .<strong>cask</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


8
9
10</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/cask.rb', line 8</span>

<span class='kw'>def</span> <span class='id identifier rubyid_cask'>cask</span>
  <span class='const'><span class='object_link'><a href="Cask.html" title="Cask (module)">Cask</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Cask/Cmd.html" title="Cask::Cmd (class)">Cmd</a></span></span><span class='period'>.</span><span class='id identifier rubyid_run'><span class='object_link'><a href="Cask/Cmd.html#run-class_method" title="Cask::Cmd.run (method)">run</a></span></span><span class='lparen'>(</span><span class='op'>*</span><span class='const'>ARGV</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="cat-class_method">
  
    .<strong>cat</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="FormulaUnspecifiedError.html" title="FormulaUnspecifiedError (class)">FormulaUnspecifiedError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


18
19
20
21
22
23
24
25
26
27
28
29</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/cat.rb', line 18</span>

<span class='kw'>def</span> <span class='id identifier rubyid_cat'>cat</span>
  <span class='id identifier rubyid_cat_args'>cat_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>
  <span class='comment'># do not &quot;fix&quot; this to support multiple arguments, the output would be
</span>  <span class='comment'># unparsable, if the user wants to cat multiple formula they can call
</span>  <span class='comment'># brew cat multiple times.
</span>  <span class='id identifier rubyid_formulae'><span class='object_link'><a href="HomebrewArgvExtension.html#formulae-instance_method" title="HomebrewArgvExtension#formulae (method)">formulae</a></span></span> <span class='op'>=</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_formulae'>formulae</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="FormulaUnspecifiedError.html" title="FormulaUnspecifiedError (class)">FormulaUnspecifiedError</a></span></span> <span class='kw'>if</span> <span class='id identifier rubyid_formulae'><span class='object_link'><a href="HomebrewArgvExtension.html#formulae-instance_method" title="HomebrewArgvExtension#formulae (method)">formulae</a></span></span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>`brew cat` doesn&#39;t support multiple arguments</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_remaining'>remaining</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='int'>1</span>

  <span class='id identifier rubyid_cd'>cd</span> <span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_REPOSITORY-constant" title="HOMEBREW_REPOSITORY (constant)">HOMEBREW_REPOSITORY</a></span></span>
  <span class='id identifier rubyid_safe_system'>safe_system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cat</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_formulae'><span class='object_link'><a href="HomebrewArgvExtension.html#formulae-instance_method" title="HomebrewArgvExtension#formulae (method)">formulae</a></span></span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='op'>*</span><span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='period'>.</span><span class='id identifier rubyid_args'><span class='object_link'><a href="#args-class_method" title="Homebrew.args (method)">args</a></span></span><span class='period'>.</span><span class='id identifier rubyid_passthrough'>passthrough</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="cat_args-class_method">
  
    .<strong>cat_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


8
9
10
11
12
13
14
15
16</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/cat.rb', line 8</span>

<span class='kw'>def</span> <span class='id identifier rubyid_cat_args'>cat_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `cat` &lt;formula&gt;
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Display the source of &lt;formula&gt;.
</span><span class='heredoc_end'>    EOS
</span>  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="check_bintray_mirror-class_method">
  
    .<strong>check_bintray_mirror</strong>(name, url)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


463
464
465
466
467
468
469
470</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/pull.rb', line 463</span>

<span class='kw'>def</span> <span class='id identifier rubyid_check_bintray_mirror'>check_bintray_mirror</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_url'>url</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_headers'>headers</span><span class='comma'>,</span> <span class='op'>=</span> <span class='id identifier rubyid_curl_output'><span class='object_link'><a href="top-level-namespace.html#curl_output-instance_method" title="#curl_output (method)">curl_output</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--connect-timeout</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>15</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--location</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--head</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_url'>url</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_status_code'>status_code</span> <span class='op'>=</span> <span class='id identifier rubyid_headers'>headers</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>^HTTP\/.* (\d+)</span><span class='regexp_end'>}</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_status_code'>status_code</span><span class='period'>.</span><span class='id identifier rubyid_start_with?'>start_with?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>2</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

  <span class='id identifier rubyid_opoo'>opoo</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The Bintray mirror </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_url'>url</span><span class='embexpr_end'>}</span><span class='tstring_content'> is not reachable (HTTP status code </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_status_code'>status_code</span><span class='embexpr_end'>}</span><span class='tstring_content'>).</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_opoo'>opoo</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Do you need to upload it with `brew mirror </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>`?</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="check_bumps-class_method">
  
    .<strong>check_bumps</strong>(patch_changes)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


274
275
276
277
278
279
280
281
282</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/pull.rb', line 274</span>

<span class='kw'>def</span> <span class='id identifier rubyid_check_bumps'>check_bumps</span><span class='lparen'>(</span><span class='id identifier rubyid_patch_changes'>patch_changes</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_patch_changes'>patch_changes</span><span class='lbracket'>[</span><span class='symbol'>:formulae</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_odie'>odie</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>No changed formulae found to bump</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_patch_changes'>patch_changes</span><span class='lbracket'>[</span><span class='symbol'>:formulae</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>&gt;</span> <span class='int'>1</span>
    <span class='id identifier rubyid_odie'>odie</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Can only bump one changed formula; bumped </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_patch_changes'>patch_changes</span><span class='lbracket'>[</span><span class='symbol'>:formulae</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>elsif</span> <span class='op'>!</span><span class='id identifier rubyid_patch_changes'>patch_changes</span><span class='lbracket'>[</span><span class='symbol'>:others</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_odie'>odie</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Can not bump if non-formula files are changed</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="check_dependents-class_method">
  
    .<strong>check_dependents</strong>(formulae)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/upgrade.rb', line 322</span>

<span class='kw'>def</span> <span class='id identifier rubyid_check_dependents'>check_dependents</span><span class='lparen'>(</span><span class='id identifier rubyid_formulae'><span class='object_link'><a href="HomebrewArgvExtension.html#formulae-instance_method" title="HomebrewArgvExtension#formulae (method)">formulae</a></span></span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_formulae'><span class='object_link'><a href="HomebrewArgvExtension.html#formulae-instance_method" title="HomebrewArgvExtension#formulae (method)">formulae</a></span></span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='comment'># First find all the outdated dependents.
</span>  <span class='id identifier rubyid_kegs'><span class='object_link'><a href="HomebrewArgvExtension.html#kegs-instance_method" title="HomebrewArgvExtension#kegs (method)">kegs</a></span></span> <span class='op'>=</span> <span class='id identifier rubyid_formulae_with_runtime_dependencies'>formulae_with_runtime_dependencies</span>

  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_kegs'><span class='object_link'><a href="HomebrewArgvExtension.html#kegs-instance_method" title="HomebrewArgvExtension#kegs (method)">kegs</a></span></span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='id identifier rubyid_oh1'>oh1</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Checking dependents for outdated formulae</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_verbose?'>verbose?</span>
  <span class='id identifier rubyid_upgradable'>upgradable</span><span class='comma'>,</span> <span class='id identifier rubyid_pinned'>pinned</span> <span class='op'>=</span> <span class='id identifier rubyid_upgradable_dependents'>upgradable_dependents</span><span class='lparen'>(</span><span class='id identifier rubyid_kegs'><span class='object_link'><a href="HomebrewArgvExtension.html#kegs-instance_method" title="HomebrewArgvExtension#kegs (method)">kegs</a></span></span><span class='comma'>,</span> <span class='id identifier rubyid_formulae'><span class='object_link'><a href="HomebrewArgvExtension.html#formulae-instance_method" title="HomebrewArgvExtension#formulae (method)">formulae</a></span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:to_a</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_upgradable'>upgradable</span><span class='period'>.</span><span class='id identifier rubyid_sort!'>sort!</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='op'>|</span> <span class='id identifier rubyid_depends_on'>depends_on</span><span class='lparen'>(</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='rparen'>)</span> <span class='rbrace'>}</span>

  <span class='id identifier rubyid_pinned'>pinned</span><span class='period'>.</span><span class='id identifier rubyid_sort!'>sort!</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='op'>|</span> <span class='id identifier rubyid_depends_on'>depends_on</span><span class='lparen'>(</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='rparen'>)</span> <span class='rbrace'>}</span>

  <span class='comment'># Print the pinned dependents.
</span>  <span class='kw'>unless</span> <span class='id identifier rubyid_pinned'>pinned</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Not upgrading </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pinned'>pinned</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span><span class='embexpr_end'>}</span><span class='tstring_content'> pinned </span><span class='embexpr_beg'>#{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>dependent</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_pluralize'>pluralize</span><span class='lparen'>(</span><span class='id identifier rubyid_pinned'>pinned</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_pinned'>pinned</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_full_specified_name'>full_specified_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_pkg_version'>pkg_version</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span> <span class='op'>*</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='comment'># Print the upgradable dependents.
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_upgradable'>upgradable</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>No dependents to upgrade</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_verbose?'>verbose?</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Upgrading </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_upgradable'>upgradable</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>dependent</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_pluralize'>pluralize</span><span class='lparen'>(</span><span class='id identifier rubyid_upgradable'>upgradable</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_formulae_upgrades'>formulae_upgrades</span> <span class='op'>=</span> <span class='id identifier rubyid_upgradable'>upgradable</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_optlinked?'>optlinked?</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_full_specified_name'>full_specified_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="Keg.html" title="Keg (class)">Keg</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Keg.html#initialize-instance_method" title="Keg#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_opt_prefix'>opt_prefix</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_version'><span class='object_link'><a href="Keg.html#version-instance_method" title="Keg#version (method)">version</a></span></span><span class='embexpr_end'>}</span><span class='tstring_content'> -&gt; </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_pkg_version'>pkg_version</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>else</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_full_specified_name'>full_specified_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_pkg_version'>pkg_version</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_formulae_upgrades'>formulae_upgrades</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_upgrade_formulae'>upgrade_formulae</span><span class='lparen'>(</span><span class='id identifier rubyid_upgradable'>upgradable</span><span class='rparen'>)</span>

  <span class='comment'># Assess the dependents tree again.
</span>  <span class='id identifier rubyid_kegs'><span class='object_link'><a href="HomebrewArgvExtension.html#kegs-instance_method" title="HomebrewArgvExtension#kegs (method)">kegs</a></span></span> <span class='op'>=</span> <span class='id identifier rubyid_formulae_with_runtime_dependencies'>formulae_with_runtime_dependencies</span>

  <span class='id identifier rubyid_oh1'>oh1</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Checking dependents for broken library links</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_verbose?'>verbose?</span>
  <span class='id identifier rubyid_reinstallable'>reinstallable</span><span class='comma'>,</span> <span class='id identifier rubyid_pinned'>pinned</span> <span class='op'>=</span> <span class='id identifier rubyid_broken_dependents'>broken_dependents</span><span class='lparen'>(</span><span class='id identifier rubyid_kegs'><span class='object_link'><a href="HomebrewArgvExtension.html#kegs-instance_method" title="HomebrewArgvExtension#kegs (method)">kegs</a></span></span><span class='comma'>,</span> <span class='id identifier rubyid_formulae'><span class='object_link'><a href="HomebrewArgvExtension.html#formulae-instance_method" title="HomebrewArgvExtension#formulae (method)">formulae</a></span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:to_a</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_reinstallable'>reinstallable</span><span class='period'>.</span><span class='id identifier rubyid_sort!'>sort!</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='op'>|</span> <span class='id identifier rubyid_depends_on'>depends_on</span><span class='lparen'>(</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='rparen'>)</span> <span class='rbrace'>}</span>

  <span class='id identifier rubyid_pinned'>pinned</span><span class='period'>.</span><span class='id identifier rubyid_sort!'>sort!</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='op'>|</span> <span class='id identifier rubyid_depends_on'>depends_on</span><span class='lparen'>(</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='rparen'>)</span> <span class='rbrace'>}</span>

  <span class='comment'># Print the pinned dependents.
</span>  <span class='kw'>unless</span> <span class='id identifier rubyid_pinned'>pinned</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_onoe'>onoe</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Not reinstalling </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pinned'>pinned</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span><span class='embexpr_end'>}</span><span class='tstring_content'> broken and outdated, but pinned </span><span class='embexpr_beg'>#{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>dependent</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_pluralize'>pluralize</span><span class='lparen'>(</span><span class='id identifier rubyid_pinned'>pinned</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span>
    <span class='gvar'>$stderr</span><span class='period'>.</span><span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_pinned'>pinned</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_full_specified_name'>full_specified_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_pkg_version'>pkg_version</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span> <span class='op'>*</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='comment'># Print the broken dependents.
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_reinstallable'>reinstallable</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>No broken dependents to reinstall</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_verbose?'>verbose?</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Reinstalling </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_reinstallable'>reinstallable</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span><span class='embexpr_end'>}</span><span class='tstring_content'> broken </span><span class='embexpr_beg'>#{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>dependent</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_pluralize'>pluralize</span><span class='lparen'>(</span><span class='id identifier rubyid_reinstallable'>reinstallable</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'> from source:</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_reinstallable'>reinstallable</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:full_specified_name</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_reinstallable'>reinstallable</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
    <span class='kw'>begin</span>
      <span class='id identifier rubyid_reinstall_formula'>reinstall_formula</span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='comma'>,</span> <span class='label'>build_from_source:</span> <span class='kw'>true</span><span class='rparen'>)</span>
    <span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="FormulaInstallationAlreadyAttemptedError.html" title="FormulaInstallationAlreadyAttemptedError (class)">FormulaInstallationAlreadyAttemptedError</a></span></span>
      <span class='comment'># We already attempted to reinstall f as part of the dependency tree of
</span>      <span class='comment'># another formula. In that case, don&#39;t generate an error, just move on.
</span>      <span class='kw'>nil</span>
    <span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="CannotInstallFormulaError.html" title="CannotInstallFormulaError (class)">CannotInstallFormulaError</a></span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
      <span class='id identifier rubyid_ofail'>ofail</span> <span class='id identifier rubyid_e'>e</span>
    <span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="BuildError.html" title="BuildError (class)">BuildError</a></span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
      <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_dump'>dump</span>
      <span class='id identifier rubyid_puts'>puts</span>
      <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='period'>.</span><span class='id identifier rubyid_failed'>failed</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="DownloadError.html" title="DownloadError (class)">DownloadError</a></span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
      <span class='id identifier rubyid_ofail'>ofail</span> <span class='id identifier rubyid_e'>e</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="check_for_dependents-class_method">
  
    .<strong>check_for_dependents</strong>(kegs)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


111
112
113
114
115
116
117
118
119
120
121</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/uninstall.rb', line 111</span>

<span class='kw'>def</span> <span class='id identifier rubyid_check_for_dependents'>check_for_dependents</span><span class='lparen'>(</span><span class='id identifier rubyid_kegs'><span class='object_link'><a href="HomebrewArgvExtension.html#kegs-instance_method" title="HomebrewArgvExtension#kegs (method)">kegs</a></span></span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Keg.html" title="Keg (class)">Keg</a></span></span><span class='period'>.</span><span class='id identifier rubyid_find_some_installed_dependents'><span class='object_link'><a href="Keg.html#find_some_installed_dependents-class_method" title="Keg.find_some_installed_dependents (method)">find_some_installed_dependents</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_kegs'><span class='object_link'><a href="HomebrewArgvExtension.html#kegs-instance_method" title="HomebrewArgvExtension#kegs (method)">kegs</a></span></span><span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_homebrew_developer?'>homebrew_developer?</span>
    <span class='const'><span class='object_link'><a href="Homebrew/DeveloperDependentsMessage.html" title="Homebrew::DeveloperDependentsMessage (class)">DeveloperDependentsMessage</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/DependentsMessage.html#initialize-instance_method" title="Homebrew::DependentsMessage#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_result'>result</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_output'>output</span>
  <span class='kw'>else</span>
    <span class='const'><span class='object_link'><a href="Homebrew/NondeveloperDependentsMessage.html" title="Homebrew::NondeveloperDependentsMessage (class)">NondeveloperDependentsMessage</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/DependentsMessage.html#initialize-instance_method" title="Homebrew::DependentsMessage#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_result'>result</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_output'>output</span>
  <span class='kw'>end</span>

  <span class='kw'>true</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="check_for_duplicate_pull_requests-class_method">
  
    .<strong>check_for_duplicate_pull_requests</strong>(formula)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/bump-formula-pr.rb', line 407</span>

<span class='kw'>def</span> <span class='id identifier rubyid_check_for_duplicate_pull_requests'>check_for_duplicate_pull_requests</span><span class='lparen'>(</span><span class='id identifier rubyid_formula'>formula</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pull_requests'>pull_requests</span> <span class='op'>=</span> <span class='id identifier rubyid_fetch_pull_requests'>fetch_pull_requests</span><span class='lparen'>(</span><span class='id identifier rubyid_formula'>formula</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_pull_requests'>pull_requests</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_pull_requests'>pull_requests</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='id identifier rubyid_duplicates_message'>duplicates_message</span> <span class='op'>=</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>    These open pull requests may be duplicates:
</span><span class='tstring_content'>    </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pull_requests'>pull_requests</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_pr'>pr</span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pr'>pr</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>title</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pr'>pr</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>html_url</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>
</span><span class='heredoc_end'>  EOS
</span>  <span class='id identifier rubyid_error_message'>error_message</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Duplicate PRs should not be opened. Use --force to override this error.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>if</span> <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='period'>.</span><span class='id identifier rubyid_args'><span class='object_link'><a href="#args-class_method" title="Homebrew.args (method)">args</a></span></span><span class='period'>.</span><span class='id identifier rubyid_force?'>force?</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='period'>.</span><span class='id identifier rubyid_args'><span class='object_link'><a href="#args-class_method" title="Homebrew.args (method)">args</a></span></span><span class='period'>.</span><span class='id identifier rubyid_quiet?'>quiet?</span>
    <span class='id identifier rubyid_opoo'>opoo</span> <span class='id identifier rubyid_duplicates_message'>duplicates_message</span>
  <span class='kw'>elsif</span> <span class='op'>!</span><span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='period'>.</span><span class='id identifier rubyid_args'><span class='object_link'><a href="#args-class_method" title="Homebrew.args (method)">args</a></span></span><span class='period'>.</span><span class='id identifier rubyid_force?'>force?</span> <span class='op'>&amp;&amp;</span> <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='period'>.</span><span class='id identifier rubyid_args'><span class='object_link'><a href="#args-class_method" title="Homebrew.args (method)">args</a></span></span><span class='period'>.</span><span class='id identifier rubyid_quiet?'>quiet?</span>
    <span class='id identifier rubyid_odie'>odie</span> <span class='id identifier rubyid_error_message'>error_message</span>
  <span class='kw'>elsif</span> <span class='op'>!</span><span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='period'>.</span><span class='id identifier rubyid_args'><span class='object_link'><a href="#args-class_method" title="Homebrew.args (method)">args</a></span></span><span class='period'>.</span><span class='id identifier rubyid_force?'>force?</span>
    <span class='id identifier rubyid_odie'>odie</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_duplicates_message'>duplicates_message</span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span><span class='embexpr_end'>}</span><span class='tstring_content'>
</span><span class='tstring_content'>      </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_error_message'>error_message</span><span class='embexpr_end'>}</span><span class='tstring_content'>
</span><span class='heredoc_end'>    EOS
</span>  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="cleanup-class_method">
  
    .<strong>cleanup</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/cleanup.rb', line 33</span>

<span class='kw'>def</span> <span class='id identifier rubyid_cleanup'>cleanup</span>
  <span class='id identifier rubyid_cleanup_args'>cleanup_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='id identifier rubyid_cleanup'>cleanup</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Homebrew/Cleanup.html" title="Homebrew::Cleanup (class)">Cleanup</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/Cleanup.html#initialize-instance_method" title="Homebrew::Cleanup#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_remaining'>remaining</span><span class='comma'>,</span> <span class='label'>dry_run:</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_dry_run?'>dry_run?</span><span class='comma'>,</span> <span class='label'>scrub:</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_s?'>s?</span><span class='comma'>,</span> <span class='label'>days:</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_prune'>prune</span><span class='op'>&amp;.</span><span class='id identifier rubyid_to_i'>to_i</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_prune_prefix?'>prune_prefix?</span>
    <span class='id identifier rubyid_cleanup'>cleanup</span><span class='period'>.</span><span class='id identifier rubyid_prune_prefix_symlinks_and_directories'>prune_prefix_symlinks_and_directories</span>
    <span class='kw'>return</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_cleanup'>cleanup</span><span class='period'>.</span><span class='id identifier rubyid_clean!'>clean!</span>

  <span class='kw'>unless</span> <span class='id identifier rubyid_cleanup'>cleanup</span><span class='period'>.</span><span class='id identifier rubyid_disk_cleanup_size'>disk_cleanup_size</span><span class='period'>.</span><span class='id identifier rubyid_zero?'>zero?</span>
    <span class='id identifier rubyid_disk_space'>disk_space</span> <span class='op'>=</span> <span class='id identifier rubyid_disk_usage_readable'>disk_usage_readable</span><span class='lparen'>(</span><span class='id identifier rubyid_cleanup'>cleanup</span><span class='period'>.</span><span class='id identifier rubyid_disk_cleanup_size'>disk_cleanup_size</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_dry_run?'>dry_run?</span>
      <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>This operation would free approximately </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_disk_space'>disk_space</span><span class='embexpr_end'>}</span><span class='tstring_content'> of disk space.</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>This operation has freed approximately </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_disk_space'>disk_space</span><span class='embexpr_end'>}</span><span class='tstring_content'> of disk space.</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_cleanup'>cleanup</span><span class='period'>.</span><span class='id identifier rubyid_unremovable_kegs'>unremovable_kegs</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='id identifier rubyid_ofail'>ofail</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>    Could not cleanup old kegs! Fix your permissions on:
</span><span class='tstring_content'>      </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_cleanup'>cleanup</span><span class='period'>.</span><span class='id identifier rubyid_unremovable_kegs'>unremovable_kegs</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n  </span><span class='tstring_end'>&quot;</span></span><span class='embexpr_end'>}</span><span class='tstring_content'>
</span><span class='heredoc_end'>  EOS
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="cleanup_args-class_method">
  
    .<strong>cleanup_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/cleanup.rb', line 9</span>

<span class='kw'>def</span> <span class='id identifier rubyid_cleanup_args'>cleanup_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `cleanup` [&lt;options&gt;] [&lt;formula&gt;|&lt;cask&gt;]
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Remove stale lock files and outdated downloads for all formulae and casks,
</span><span class='tstring_content'>      and remove old versions of installed formulae. If arguments are specified,
</span><span class='tstring_content'>      only do this for the given formulae and casks.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_flag'>flag</span>   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--prune=</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Remove all cache files older than specified &lt;days&gt;.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--dry-run</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Show what would be removed, but do not actually remove anything.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-s</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Scrub the cache, including downloads for even the latest versions. </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Note downloads for any installed formula or cask will still not be deleted. </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>If you want to delete those too: `rm -rf \&quot;$(brew --cache)\&quot;`</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--prune-prefix</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Only prune the symlinks and directories from the prefix and remove no other files.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:verbose</span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:debug</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="cmd_arg_parser-class_method">
  
    .<strong>cmd_arg_parser</strong>(cmd_path)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


177
178
179</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/man.rb', line 177</span>

<span class='kw'>def</span> <span class='id identifier rubyid_cmd_arg_parser'>cmd_arg_parser</span><span class='lparen'>(</span><span class='id identifier rubyid_cmd_path'>cmd_path</span><span class='rparen'>)</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_cmd_path'>cmd_path</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.rb</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_tr'>tr</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>_</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>_args</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="cmd_comment_manpage_lines-class_method">
  
    .<strong>cmd_comment_manpage_lines</strong>(cmd_path)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/man.rb', line 191</span>

<span class='kw'>def</span> <span class='id identifier rubyid_cmd_comment_manpage_lines'>cmd_comment_manpage_lines</span><span class='lparen'>(</span><span class='id identifier rubyid_cmd_path'>cmd_path</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_comment_lines'>comment_lines</span> <span class='op'>=</span> <span class='id identifier rubyid_cmd_path'>cmd_path</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span><span class='period'>.</span><span class='id identifier rubyid_lines'>lines</span><span class='period'>.</span><span class='id identifier rubyid_grep'>grep</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^#:</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_comment_lines'>comment_lines</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_comment_lines'>comment_lines</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>@hide_from_man_page</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

  <span class='id identifier rubyid_lines'>lines</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_format_usage_banner'>format_usage_banner</span><span class='lparen'>(</span><span class='id identifier rubyid_comment_lines'>comment_lines</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_comment_lines'>comment_lines</span><span class='period'>.</span><span class='id identifier rubyid_slice'>slice</span><span class='lparen'>(</span><span class='int'>1</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span><span class='rparen'>)</span>
               <span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_line'>line</span><span class='op'>|</span>
    <span class='id identifier rubyid_line'>line</span> <span class='op'>=</span> <span class='id identifier rubyid_line'>line</span><span class='period'>.</span><span class='id identifier rubyid_slice'>slice</span><span class='lparen'>(</span><span class='int'>4</span><span class='op'>..</span><span class='op'>-</span><span class='int'>2</span><span class='rparen'>)</span>
    <span class='kw'>unless</span> <span class='id identifier rubyid_line'>line</span>
      <span class='id identifier rubyid_lines'>lines</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>next</span>
    <span class='kw'>end</span>

    <span class='comment'># Omit the common global_options documented separately in the man page.
</span>    <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_line'>line</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>--(debug|force|help|quiet|verbose) </span><span class='regexp_end'>/</span></span>

    <span class='comment'># Format one option or a comma-separated pair of short and long options.
</span>    <span class='id identifier rubyid_lines'>lines</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_line'>line</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^ +(-+[a-z-]+), (-+[a-z-]+) +</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>* `\\1`, `\\2`:\n  </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
                 <span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^ +(-+[a-z-]+) +</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>* `\\1`:\n  </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_lines'>lines</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_lines'>lines</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="cmd_parser_manpage_lines-class_method">
  
    .<strong>cmd_parser_manpage_lines</strong>(cmd_parser)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


181
182
183
184
185
186
187
188
189</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/man.rb', line 181</span>

<span class='kw'>def</span> <span class='id identifier rubyid_cmd_parser_manpage_lines'>cmd_parser_manpage_lines</span><span class='lparen'>(</span><span class='id identifier rubyid_cmd_parser'>cmd_parser</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_lines'>lines</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_format_usage_banner'>format_usage_banner</span><span class='lparen'>(</span><span class='id identifier rubyid_cmd_parser'>cmd_parser</span><span class='period'>.</span><span class='id identifier rubyid_usage_banner_text'>usage_banner_text</span><span class='rparen'>)</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_lines'>lines</span> <span class='op'>+=</span> <span class='id identifier rubyid_cmd_parser'>cmd_parser</span><span class='period'>.</span><span class='id identifier rubyid_processed_options'>processed_options</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_short'>short</span><span class='comma'>,</span> <span class='id identifier rubyid_long'>long</span><span class='comma'>,</span> <span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='id identifier rubyid_desc'>desc</span><span class='op'>|</span>
    <span class='kw'>next</span> <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_long'>long</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_cmd_parser'>cmd_parser</span><span class='period'>.</span><span class='id identifier rubyid_global_option?'>global_option?</span><span class='lparen'>(</span><span class='id identifier rubyid_cmd_parser'>cmd_parser</span><span class='period'>.</span><span class='id identifier rubyid_option_to_name'>option_to_name</span><span class='lparen'>(</span><span class='id identifier rubyid_long'>long</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_desc'>desc</span><span class='rparen'>)</span>

    <span class='id identifier rubyid_generate_option_doc'>generate_option_doc</span><span class='lparen'>(</span><span class='id identifier rubyid_short'>short</span><span class='comma'>,</span> <span class='id identifier rubyid_long'>long</span><span class='comma'>,</span> <span class='id identifier rubyid_desc'>desc</span><span class='rparen'>)</span>
  <span class='kw'>end</span><span class='period'>.</span><span class='id identifier rubyid_reject'>reject</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:blank?</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_lines'>lines</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="command-class_method">
  
    .<strong>command</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


21
22
23
24
25
26
27
28
29
30
31
32
33
34
35</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/command.rb', line 21</span>

<span class='kw'>def</span> <span class='id identifier rubyid_command'>command</span>
  <span class='id identifier rubyid_command_args'>command_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>
  <span class='id identifier rubyid_abort'>abort</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>This command requires a command argument</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_remaining'>remaining</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='id identifier rubyid_cmd'>cmd</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_INTERNAL_COMMAND_ALIASES-constant" title="HOMEBREW_INTERNAL_COMMAND_ALIASES (constant)">HOMEBREW_INTERNAL_COMMAND_ALIASES</a></span></span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_remaining'>remaining</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='comma'>,</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_remaining'>remaining</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Commands.html" title="Commands (module)">Commands</a></span></span><span class='period'>.</span><span class='id identifier rubyid_path'><span class='object_link'><a href="Commands.html#path-class_method" title="Commands.path (method)">path</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_cmd'>cmd</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_cmd_paths'>cmd_paths</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="PATH.html" title="PATH (class)">PATH</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="PATH.html#initialize-instance_method" title="PATH#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PATH</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_append'><span class='object_link'><a href="PATH.html#append-instance_method" title="PATH#append (method)">append</a></span></span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="Tap.html" title="Tap (class)">Tap</a></span></span><span class='period'>.</span><span class='id identifier rubyid_cmd_directories'><span class='object_link'><a href="Tap.html#cmd_directories-class_method" title="Tap.cmd_directories (method)">cmd_directories</a></span></span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_path'>path</span>
  <span class='id identifier rubyid_path'>path</span> <span class='op'>||=</span> <span class='id identifier rubyid_which'>which</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>brew-</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_cmd'>cmd</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_cmd_paths'>cmd_paths</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_path'>path</span> <span class='op'>||=</span> <span class='id identifier rubyid_which'>which</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>brew-</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_cmd'>cmd</span><span class='embexpr_end'>}</span><span class='tstring_content'>.rb</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_cmd_paths'>cmd_paths</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_odie'>odie</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unknown command: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_cmd'>cmd</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_path'>path</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_path'>path</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="command_args-class_method">
  
    .<strong>command_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


9
10
11
12
13
14
15
16
17
18
19</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/command.rb', line 9</span>

<span class='kw'>def</span> <span class='id identifier rubyid_command_args'>command_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `command` &lt;cmd&gt;
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Display the path to the file being used when invoking `brew` &lt;cmd&gt;.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:verbose</span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:debug</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="commands-class_method">
  
    .<strong>commands</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/commands.rb', line 25</span>

<span class='kw'>def</span> <span class='id identifier rubyid_commands'>commands</span>
  <span class='id identifier rubyid_commands_args'>commands_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_quiet?'>quiet?</span>
    <span class='id identifier rubyid_cmds'>cmds</span> <span class='op'>=</span> <span class='id identifier rubyid_internal_commands'>internal_commands</span>
    <span class='id identifier rubyid_cmds'>cmds</span> <span class='op'>+=</span> <span class='id identifier rubyid_external_commands'>external_commands</span>
    <span class='id identifier rubyid_cmds'>cmds</span> <span class='op'>+=</span> <span class='id identifier rubyid_internal_developer_commands'>internal_developer_commands</span>
    <span class='id identifier rubyid_cmds'>cmds</span> <span class='op'>+=</span> <span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_INTERNAL_COMMAND_ALIASES-constant" title="HOMEBREW_INTERNAL_COMMAND_ALIASES (constant)">HOMEBREW_INTERNAL_COMMAND_ALIASES</a></span></span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_include_aliases?'>include_aliases?</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='const'><span class='object_link'><a href="Formatter.html" title="Formatter (module)">Formatter</a></span></span><span class='period'>.</span><span class='id identifier rubyid_columns'><span class='object_link'><a href="Formatter.html#columns-class_method" title="Formatter.columns (method)">columns</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_cmds'>cmds</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span><span class='rparen'>)</span>
    <span class='kw'>return</span>
  <span class='kw'>end</span>

  <span class='comment'># Find commands in Homebrew/cmd
</span>  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Built-in commands</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='const'><span class='object_link'><a href="Formatter.html" title="Formatter (module)">Formatter</a></span></span><span class='period'>.</span><span class='id identifier rubyid_columns'><span class='object_link'><a href="Formatter.html#columns-class_method" title="Formatter.columns (method)">columns</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_internal_commands'>internal_commands</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span><span class='rparen'>)</span>

  <span class='comment'># Find commands in Homebrew/dev-cmd
</span>  <span class='id identifier rubyid_puts'>puts</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Built-in developer commands</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='const'><span class='object_link'><a href="Formatter.html" title="Formatter (module)">Formatter</a></span></span><span class='period'>.</span><span class='id identifier rubyid_columns'><span class='object_link'><a href="Formatter.html#columns-class_method" title="Formatter.columns (method)">columns</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_internal_developer_commands'>internal_developer_commands</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_exts'>exts</span> <span class='op'>=</span> <span class='id identifier rubyid_external_commands'>external_commands</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_exts'>exts</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='comment'># Find commands in the PATH
</span>  <span class='id identifier rubyid_puts'>puts</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>External commands</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='const'><span class='object_link'><a href="Formatter.html" title="Formatter (module)">Formatter</a></span></span><span class='period'>.</span><span class='id identifier rubyid_columns'><span class='object_link'><a href="Formatter.html#columns-class_method" title="Formatter.columns (method)">columns</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_exts'>exts</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="commands_args-class_method">
  
    .<strong>commands_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/commands.rb', line 8</span>

<span class='kw'>def</span> <span class='id identifier rubyid_commands_args'>commands_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `commands` [&lt;options&gt;]
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Show lists of built-in and external commands.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:quiet</span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>List only the names of commands without category headers.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--include-aliases</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>depends_on:</span>  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--quiet</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Include aliases of internal commands.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:verbose</span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:debug</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="condense_requirements-class_method">
  
    .<strong>condense_requirements</strong>(deps)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


111
112
113
114
115</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/deps.rb', line 111</span>

<span class='kw'>def</span> <span class='id identifier rubyid_condense_requirements'>condense_requirements</span><span class='lparen'>(</span><span class='id identifier rubyid_deps'>deps</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_deps'>deps</span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_include_requirements?'>include_requirements?</span>

  <span class='id identifier rubyid_deps'>deps</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_dep'>dep</span><span class='op'>|</span> <span class='id identifier rubyid_dep'>dep</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span> <span class='const'><span class='object_link'><a href="Dependency.html" title="Dependency (class)">Dependency</a></span></span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="config-class_method">
  
    .<strong>config</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="UsageError.html" title="UsageError (class)">UsageError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


22
23
24
25
26
27</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/config.rb', line 22</span>

<span class='kw'>def</span> <span class='id identifier rubyid_config'>config</span>
  <span class='id identifier rubyid_config_args'>config_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="UsageError.html" title="UsageError (class)">UsageError</a></span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_remaining'>remaining</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='const'><span class='object_link'><a href="SystemConfig.html" title="SystemConfig (class)">SystemConfig</a></span></span><span class='period'>.</span><span class='id identifier rubyid_dump_verbose_config'><span class='object_link'><a href="SystemConfig.html#dump_verbose_config-class_method" title="SystemConfig.dump_verbose_config (method)">dump_verbose_config</a></span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="config_args-class_method">
  
    .<strong>config_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


9
10
11
12
13
14
15
16
17
18
19
20</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/config.rb', line 9</span>

<span class='kw'>def</span> <span class='id identifier rubyid_config_args'>config_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `config`
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Show Homebrew and system configuration info useful for debugging. If you file
</span><span class='tstring_content'>      a bug report, you will be required to provide this information.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:verbose</span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:debug</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="convert_man_page-class_method">
  
    .<strong>convert_man_page</strong>(markup, target)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/man.rb', line 99</span>

<span class='kw'>def</span> <span class='id identifier rubyid_convert_man_page'>convert_man_page</span><span class='lparen'>(</span><span class='id identifier rubyid_markup'>markup</span><span class='comma'>,</span> <span class='id identifier rubyid_target'>target</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_manual'>manual</span> <span class='op'>=</span> <span class='id identifier rubyid_target'>target</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.1</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_organisation'>organisation</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Homebrew</span><span class='tstring_end'>&quot;</span></span>

  <span class='comment'># Set the manpage date to the existing one if we&#39;re checking for changes.
</span>  <span class='comment'># This avoids the only change being e.g. a new date.
</span>  <span class='id identifier rubyid_date'>date</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_fail_if_changed?'>fail_if_changed?</span> <span class='op'>&amp;&amp;</span>
            <span class='id identifier rubyid_target'>target</span><span class='period'>.</span><span class='id identifier rubyid_extname'>extname</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.1</span><span class='tstring_end'>&quot;</span></span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_target'>target</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span>
    <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>&quot;(\d{1,2})&quot; &quot;([A-Z][a-z]+) (\d{4})&quot; &quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_organisation'>organisation</span><span class='embexpr_end'>}</span><span class='tstring_content'>&quot; &quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_manual'>manual</span><span class='embexpr_end'>}</span><span class='tstring_content'>&quot;</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='id identifier rubyid_target'>target</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span>
    <span class='const'>Date</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'>Regexp</span><span class='period'>.</span><span class='id identifier rubyid_last_match'>last_match</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='const'>Regexp</span><span class='period'>.</span><span class='id identifier rubyid_last_match'>last_match</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='const'>Regexp</span><span class='period'>.</span><span class='id identifier rubyid_last_match'>last_match</span><span class='lparen'>(</span><span class='int'>3</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='const'>Date</span><span class='period'>.</span><span class='id identifier rubyid_today'>today</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_date'>date</span> <span class='op'>=</span> <span class='id identifier rubyid_date'>date</span><span class='period'>.</span><span class='id identifier rubyid_strftime'>strftime</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%Y-%m-%d</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

  <span class='id identifier rubyid_shared_args'>shared_args</span> <span class='op'>=</span> <span class='words_beg'>%W[</span><span class='words_sep'>
    </span><span class='tstring_content'>--pipe</span><span class='words_sep'>
    </span><span class='tstring_content'>--organization=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_organisation'>organisation</span><span class='embexpr_end'>}</span><span class='words_sep'>
    </span><span class='tstring_content'>--manual=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_target'>target</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.1</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='words_sep'>
    </span><span class='tstring_content'>--date=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_date'>date</span><span class='embexpr_end'>}</span><span class='words_sep'>
  </span><span class='tstring_end'>]</span></span>

  <span class='id identifier rubyid_format_flag'>format_flag</span><span class='comma'>,</span> <span class='id identifier rubyid_format_desc'>format_desc</span> <span class='op'>=</span> <span class='id identifier rubyid_target_path_to_format'>target_path_to_format</span><span class='lparen'>(</span><span class='id identifier rubyid_target'>target</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Writing </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_format_desc'>format_desc</span><span class='embexpr_end'>}</span><span class='tstring_content'> to </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_target'>target</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='const'><span class='object_link'><a href="Utils.html" title="Utils (module)">Utils</a></span></span><span class='period'>.</span><span class='id identifier rubyid_popen'><span class='object_link'><a href="Utils.html#popen-class_method" title="Utils.popen (method)">popen</a></span></span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ronn</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_format_flag'>format_flag</span><span class='rbracket'>]</span> <span class='op'>+</span> <span class='id identifier rubyid_shared_args'>shared_args</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rb+</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_ronn'>ronn</span><span class='op'>|</span>
    <span class='id identifier rubyid_ronn'>ronn</span><span class='period'>.</span><span class='id identifier rubyid_write'>write</span> <span class='id identifier rubyid_markup'>markup</span>
    <span class='id identifier rubyid_ronn'>ronn</span><span class='period'>.</span><span class='id identifier rubyid_close_write'>close_write</span>
    <span class='id identifier rubyid_ronn_output'>ronn_output</span> <span class='op'>=</span> <span class='id identifier rubyid_ronn'>ronn</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span>
    <span class='id identifier rubyid_odie'>odie</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Got no output from ronn!</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_ronn_output'>ronn_output</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_format_flag'>format_flag</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--markdown</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_ronn_output'>ronn_output</span> <span class='op'>=</span> <span class='id identifier rubyid_ronn_output'>ronn_output</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>&lt;var&gt;(.*?)&lt;/var&gt;</span><span class='regexp_end'>}</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>*`\\1`*</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
                               <span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\n\n\n+</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n\n</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_format_flag'>format_flag</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--roff</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_ronn_output'>ronn_output</span> <span class='op'>=</span> <span class='id identifier rubyid_ronn_output'>ronn_output</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>&lt;code&gt;(.*?)&lt;/code&gt;</span><span class='regexp_end'>}</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\fB\\1\\fR</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
                               <span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>&lt;var&gt;(.*?)&lt;/var&gt;</span><span class='regexp_end'>}</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\fI\\1\\fR</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
                               <span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(^\[?\\fB.+): </span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\1\n    </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_target'>target</span><span class='period'>.</span><span class='id identifier rubyid_atomic_write'>atomic_write</span> <span class='id identifier rubyid_ronn_output'>ronn_output</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="create-class_method">
  
    .<strong>create</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Create a formula from a tarball URL</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="UsageError.html" title="UsageError (class)">UsageError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/create.rb', line 56</span>

<span class='kw'>def</span> <span class='id identifier rubyid_create'>create</span>
  <span class='id identifier rubyid_create_args'>create_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="UsageError.html" title="UsageError (class)">UsageError</a></span></span> <span class='kw'>if</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='comment'># Ensure that the cache exists so we can fetch the tarball
</span>  <span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_CACHE-constant" title="HOMEBREW_CACHE (constant)">HOMEBREW_CACHE</a></span></span><span class='period'>.</span><span class='id identifier rubyid_mkpath'>mkpath</span>

  <span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span> <span class='comment'># Pull the first (and only) url from ARGV
</span>
  <span class='id identifier rubyid_version'>version</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_set_version'>set_version</span>
  <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_set_name'>set_name</span>
  <span class='id identifier rubyid_tap'>tap</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_tap'>tap</span>

  <span class='id identifier rubyid_fc'>fc</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Homebrew/FormulaCreator.html" title="Homebrew::FormulaCreator (class)">FormulaCreator</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
  <span class='id identifier rubyid_fc'>fc</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_name'>name</span>
  <span class='id identifier rubyid_fc'>fc</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span> <span class='op'>=</span> <span class='id identifier rubyid_version'>version</span>
  <span class='id identifier rubyid_fc'>fc</span><span class='period'>.</span><span class='id identifier rubyid_tap'>tap</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Tap.html" title="Tap (class)">Tap</a></span></span><span class='period'>.</span><span class='id identifier rubyid_fetch'><span class='object_link'><a href="Tap.html#fetch-class_method" title="Tap.fetch (method)">fetch</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_tap'>tap</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>homebrew/core</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="TapUnavailableError.html" title="TapUnavailableError (class)">TapUnavailableError</a></span></span><span class='comma'>,</span> <span class='id identifier rubyid_tap'>tap</span> <span class='kw'>unless</span> <span class='id identifier rubyid_fc'>fc</span><span class='period'>.</span><span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_installed?'>installed?</span>

  <span class='id identifier rubyid_fc'>fc</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='id identifier rubyid_url'>url</span>

  <span class='id identifier rubyid_fc'>fc</span><span class='period'>.</span><span class='id identifier rubyid_mode'>mode</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_cmake?'>cmake?</span>
    <span class='symbol'>:cmake</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_autotools?'>autotools?</span>
    <span class='symbol'>:autotools</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_meson?'>meson?</span>
    <span class='symbol'>:meson</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_go?'>go?</span>
    <span class='symbol'>:go</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_perl?'>perl?</span>
    <span class='symbol'>:perl</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_python?'>python?</span>
    <span class='symbol'>:python</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_rust?'>rust?</span>
    <span class='symbol'>:rust</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_fc'>fc</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='id identifier rubyid_fc'>fc</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_strip'>strip</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_stem'>stem</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Pathname.html" title="Pathname (class)">Pathname</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_stem'><span class='object_link'><a href="Pathname.html#stem-instance_method" title="Pathname#stem (method)">stem</a></span></span>
    <span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Formula name [</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_stem'>stem</span><span class='embexpr_end'>}</span><span class='tstring_content'>]: </span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_fc'>fc</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid___gets'>__gets</span> <span class='op'>||</span> <span class='id identifier rubyid_stem'>stem</span>
    <span class='id identifier rubyid_fc'>fc</span><span class='period'>.</span><span class='id identifier rubyid_update_path'>update_path</span>
  <span class='kw'>end</span>

  <span class='comment'># Don&#39;t allow blacklisted formula, or names that shadow aliases,
</span>  <span class='comment'># unless --force is specified.
</span>  <span class='kw'>unless</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_force?'>force?</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_reason'>reason</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Homebrew/MissingFormula.html" title="Homebrew::MissingFormula (module)">MissingFormula</a></span></span><span class='period'>.</span><span class='id identifier rubyid_blacklisted_reason'><span class='object_link'><a href="Homebrew/MissingFormula.html#blacklisted_reason-class_method" title="Homebrew::MissingFormula.blacklisted_reason (method)">blacklisted_reason</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_fc'>fc</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>        </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_fc'>fc</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> is blacklisted for creation.
</span><span class='tstring_content'>        </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_reason'>reason</span><span class='embexpr_end'>}</span><span class='tstring_content'>
</span><span class='tstring_content'>        If you really want to create this formula use --force.
</span><span class='heredoc_end'>      EOS
</span>    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='const'><span class='object_link'><a href="Formula.html" title="Formula (class)">Formula</a></span></span><span class='period'>.</span><span class='id identifier rubyid_aliases'>aliases</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='id identifier rubyid_fc'>fc</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
      <span class='id identifier rubyid_realname'>realname</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Formulary.html" title="Formulary (module)">Formulary</a></span></span><span class='period'>.</span><span class='id identifier rubyid_canonical_name'><span class='object_link'><a href="Formulary.html#canonical_name-class_method" title="Formulary.canonical_name (method)">canonical_name</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_fc'>fc</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>        The formula </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_realname'>realname</span><span class='embexpr_end'>}</span><span class='tstring_content'> is already aliased to </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_fc'>fc</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>
</span><span class='tstring_content'>        Please check that you are not creating a duplicate.
</span><span class='tstring_content'>        To force creation use --force.
</span><span class='heredoc_end'>      EOS
</span>    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_fc'>fc</span><span class='period'>.</span><span class='id identifier rubyid_generate!'>generate!</span>

  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Please `brew audit --new-formula </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_fc'>fc</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>` before submitting, thanks.</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_exec_editor'>exec_editor</span> <span class='id identifier rubyid_fc'>fc</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="create_args-class_method">
  
    .<strong>create_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/create.rb', line 11</span>

<span class='kw'>def</span> <span class='id identifier rubyid_create_args'>create_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `create` [&lt;options&gt;] &lt;URL&gt;
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Generate a formula for the downloadable file at &lt;URL&gt; and open it in the editor.
</span><span class='tstring_content'>      Homebrew will attempt to automatically derive the formula name and version, but
</span><span class='tstring_content'>      if it fails, you&#39;ll have to make your own template. The `wget` formula serves as
</span><span class='tstring_content'>      a simple example. For the complete API, see:
</span><span class='tstring_content'>      &lt;http://www.rubydoc.info/github/Homebrew/brew/master/Formula&gt;
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--autotools</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Create a basic template for an Autotools-style build.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--cmake</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Create a basic template for a CMake-style build.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--go</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Create a basic template for a Go build.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--meson</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Create a basic template for a Meson-style build.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--perl</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Create a basic template for a Perl build.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--python</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Create a basic template for a Python build.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--rust</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Create a basic template for a Rust build.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--no-fetch</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Homebrew will not download &lt;URL&gt; to the cache and will thus not add its SHA-256 </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>to the formula for you, nor will it check the GitHub API for GitHub projects </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(to fill out its description and homepage).</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--HEAD</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Indicate that &lt;URL&gt; points to the package&#39;s repository rather than a file.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_flag'>flag</span>   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--set-name=</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Explicitly set the &lt;name&gt; of the new formula.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_flag'>flag</span>   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--set-version=</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Explicitly set the &lt;version&gt; of the new formula.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_flag'>flag</span>   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--tap=</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Generate the new formula within the given tap, specified as &lt;user&gt;`/`&lt;repo&gt;.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:force</span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:verbose</span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:debug</span>
    <span class='id identifier rubyid_conflicts'>conflicts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--autotools</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--cmake</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--go</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--meson</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--perl</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--python</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--rust</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="create_gist-class_method">
  
    .<strong>create_gist</strong>(files, description)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


129
130
131
132
133
134</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/gist-logs.rb', line 129</span>

<span class='kw'>def</span> <span class='id identifier rubyid_create_gist'>create_gist</span><span class='lparen'>(</span><span class='id identifier rubyid_files'>files</span><span class='comma'>,</span> <span class='id identifier rubyid_description'>description</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>https://api.github.com/gists</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_data'>data</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>public</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='op'>!</span><span class='id identifier rubyid_create_private?'>create_private?</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>files</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_files'>files</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>description</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_description'>description</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_scopes'>scopes</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="GitHub.html" title="GitHub (module)">GitHub</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="GitHub.html#CREATE_GIST_SCOPES-constant" title="GitHub::CREATE_GIST_SCOPES (constant)">CREATE_GIST_SCOPES</a></span></span>
  <span class='const'><span class='object_link'><a href="GitHub.html" title="GitHub (module)">GitHub</a></span></span><span class='period'>.</span><span class='id identifier rubyid_open_api'><span class='object_link'><a href="GitHub.html#open_api-class_method" title="GitHub.open_api (method)">open_api</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='label'>data:</span> <span class='id identifier rubyid_data'>data</span><span class='comma'>,</span> <span class='label'>scopes:</span> <span class='id identifier rubyid_scopes'>scopes</span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>html_url</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="create_issue-class_method">
  
    .<strong>create_issue</strong>(repo, title, body)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


136
137
138
139
140
141</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/gist-logs.rb', line 136</span>

<span class='kw'>def</span> <span class='id identifier rubyid_create_issue'>create_issue</span><span class='lparen'>(</span><span class='id identifier rubyid_repo'>repo</span><span class='comma'>,</span> <span class='id identifier rubyid_title'>title</span><span class='comma'>,</span> <span class='id identifier rubyid_body'>body</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>https://api.github.com/repos/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_repo'>repo</span><span class='embexpr_end'>}</span><span class='tstring_content'>/issues</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_data'>data</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>title</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_title'>title</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>body</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_body'>body</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_scopes'>scopes</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="GitHub.html" title="GitHub (module)">GitHub</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="GitHub.html#CREATE_ISSUE_FORK_OR_PR_SCOPES-constant" title="GitHub::CREATE_ISSUE_FORK_OR_PR_SCOPES (constant)">CREATE_ISSUE_FORK_OR_PR_SCOPES</a></span></span>
  <span class='const'><span class='object_link'><a href="GitHub.html" title="GitHub (module)">GitHub</a></span></span><span class='period'>.</span><span class='id identifier rubyid_open_api'><span class='object_link'><a href="GitHub.html#open_api-class_method" title="GitHub.open_api (method)">open_api</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='label'>data:</span> <span class='id identifier rubyid_data'>data</span><span class='comma'>,</span> <span class='label'>scopes:</span> <span class='id identifier rubyid_scopes'>scopes</span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>html_url</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="create_private?-class_method">
  
    .<strong>create_private?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


125
126
127</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/gist-logs.rb', line 125</span>

<span class='kw'>def</span> <span class='id identifier rubyid_create_private?'>create_private?</span>
  <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_private?'>private?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="current_versions_from_info_external-class_method">
  
    .<strong>current_versions_from_info_external</strong>(formula_name)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Get current formula versions without loading formula definition in this process.
Returns info as a hash (type =&gt; version), for pull.rb’s internal use.
Uses special key <code>:nonexistent =&gt; true</code> for nonexistent formulae.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


407
408
409
410
411
412
413
414
415
416
417
418</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/pull.rb', line 407</span>

<span class='kw'>def</span> <span class='id identifier rubyid_current_versions_from_info_external'>current_versions_from_info_external</span><span class='lparen'>(</span><span class='id identifier rubyid_formula_name'>formula_name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_info'>info</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="FormulaInfo.html" title="FormulaInfo (class)">FormulaInfo</a></span></span><span class='period'>.</span><span class='id identifier rubyid_lookup'><span class='object_link'><a href="FormulaInfo.html#lookup-class_method" title="FormulaInfo.lookup (method)">lookup</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_formula_name'>formula_name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_versions'>versions</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_info'>info</span>
    <span class='lbracket'>[</span><span class='symbol'>:stable</span><span class='comma'>,</span> <span class='symbol'>:devel</span><span class='comma'>,</span> <span class='symbol'>:head</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_spec_type'>spec_type</span><span class='op'>|</span>
      <span class='id identifier rubyid_versions'>versions</span><span class='lbracket'>[</span><span class='id identifier rubyid_spec_type'>spec_type</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_info'>info</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span><span class='lparen'>(</span><span class='id identifier rubyid_spec_type'>spec_type</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_versions'>versions</span><span class='lbracket'>[</span><span class='symbol'>:nonexistent</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_versions'>versions</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="decorate_dependencies-class_method">
  
    .<strong>decorate_dependencies</strong>(dependencies)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


383
384
385
386
387
388
389
390
391
392</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/info.rb', line 383</span>

<span class='kw'>def</span> <span class='id identifier rubyid_decorate_dependencies'>decorate_dependencies</span><span class='lparen'>(</span><span class='id identifier rubyid_dependencies'>dependencies</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_deps_status'>deps_status</span> <span class='op'>=</span> <span class='id identifier rubyid_dependencies'>dependencies</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_dep'>dep</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_dep'>dep</span><span class='period'>.</span><span class='id identifier rubyid_satisfied?'>satisfied?</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='rbracket'>]</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_pretty_installed'>pretty_installed</span><span class='lparen'>(</span><span class='id identifier rubyid_dep_display_s'>dep_display_s</span><span class='lparen'>(</span><span class='id identifier rubyid_dep'>dep</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_pretty_uninstalled'>pretty_uninstalled</span><span class='lparen'>(</span><span class='id identifier rubyid_dep_display_s'>dep_display_s</span><span class='lparen'>(</span><span class='id identifier rubyid_dep'>dep</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_deps_status'>deps_status</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="decorate_requirements-class_method">
  
    .<strong>decorate_requirements</strong>(requirements)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


394
395
396
397
398
399
400</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/info.rb', line 394</span>

<span class='kw'>def</span> <span class='id identifier rubyid_decorate_requirements'>decorate_requirements</span><span class='lparen'>(</span><span class='id identifier rubyid_requirements'>requirements</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_req_status'>req_status</span> <span class='op'>=</span> <span class='id identifier rubyid_requirements'>requirements</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_req'>req</span><span class='op'>|</span>
    <span class='id identifier rubyid_req_s'>req_s</span> <span class='op'>=</span> <span class='id identifier rubyid_req'>req</span><span class='period'>.</span><span class='id identifier rubyid_display_s'>display_s</span>
    <span class='id identifier rubyid_req'>req</span><span class='period'>.</span><span class='id identifier rubyid_satisfied?'>satisfied?</span> <span class='op'>?</span> <span class='id identifier rubyid_pretty_installed'>pretty_installed</span><span class='lparen'>(</span><span class='id identifier rubyid_req_s'>req_s</span><span class='rparen'>)</span> <span class='op'>:</span> <span class='id identifier rubyid_pretty_uninstalled'>pretty_uninstalled</span><span class='lparen'>(</span><span class='id identifier rubyid_req_s'>req_s</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_req_status'>req_status</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="default_prefix?-class_method">
  
    .<strong>default_prefix?</strong>(prefix = HOMEBREW_PREFIX)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


69
70
71</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/global.rb', line 69</span>

<span class='kw'>def</span> <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='period'>.</span><span class='id identifier rubyid_default_prefix?'>default_prefix?</span><span class='lparen'>(</span><span class='id identifier rubyid_prefix'>prefix</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_PREFIX-constant" title="HOMEBREW_PREFIX (constant)">HOMEBREW_PREFIX</a></span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_prefix'>prefix</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>==</span> <span class='const'>DEFAULT_PREFIX</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dep_display_name-class_method">
  
    .<strong>dep_display_name</strong>(dep)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/deps.rb', line 117</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dep_display_name'>dep_display_name</span><span class='lparen'>(</span><span class='id identifier rubyid_dep'>dep</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_str'>str</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_dep'>dep</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span> <span class='const'><span class='object_link'><a href="Requirement.html" title="Requirement (class)">Requirement</a></span></span>
    <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_include_requirements?'>include_requirements?</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_dep'>dep</span><span class='period'>.</span><span class='id identifier rubyid_display_s'>display_s</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>else</span>
      <span class='comment'># This shouldn&#39;t happen, but we&#39;ll put something here to help debugging
</span>      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>::</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_dep'>dep</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_full_name?'>full_name?</span>
    <span class='id identifier rubyid_dep'>dep</span><span class='period'>.</span><span class='id identifier rubyid_to_formula'>to_formula</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_dep'>dep</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_annotate?'>annotate?</span>
    <span class='id identifier rubyid_str'>str</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_str'>str</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_tree?'>tree?</span>
    <span class='id identifier rubyid_str'>str</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_str'>str</span><span class='embexpr_end'>}</span><span class='tstring_content'> [build]</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_dep'>dep</span><span class='period'>.</span><span class='id identifier rubyid_build?'>build?</span>
    <span class='id identifier rubyid_str'>str</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_str'>str</span><span class='embexpr_end'>}</span><span class='tstring_content'> [test]</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_dep'>dep</span><span class='period'>.</span><span class='id identifier rubyid_test?'>test?</span>
    <span class='id identifier rubyid_str'>str</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_str'>str</span><span class='embexpr_end'>}</span><span class='tstring_content'> [optional]</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_dep'>dep</span><span class='period'>.</span><span class='id identifier rubyid_optional?'>optional?</span>
    <span class='id identifier rubyid_str'>str</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_str'>str</span><span class='embexpr_end'>}</span><span class='tstring_content'> [recommended]</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_dep'>dep</span><span class='period'>.</span><span class='id identifier rubyid_recommended?'>recommended?</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_str'>str</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dep_display_s-class_method">
  
    .<strong>dep_display_s</strong>(dep)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


402
403
404
405
406</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/info.rb', line 402</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dep_display_s'>dep_display_s</span><span class='lparen'>(</span><span class='id identifier rubyid_dep'>dep</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_dep'>dep</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='kw'>if</span> <span class='id identifier rubyid_dep'>dep</span><span class='period'>.</span><span class='id identifier rubyid_option_tags'>option_tags</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_dep'>dep</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_dep'>dep</span><span class='period'>.</span><span class='id identifier rubyid_option_tags'>option_tags</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_o'>o</span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_o'>o</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="deps-class_method">
  
    .<strong>deps</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/deps.rb', line 59</span>

<span class='kw'>def</span> <span class='id identifier rubyid_deps'>deps</span>
  <span class='id identifier rubyid_deps_args'>deps_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>
  <span class='id identifier rubyid_mode'>mode</span> <span class='op'>=</span> <span class='const'>OpenStruct</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span>
    <span class='label'>installed?:</span>  <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_installed?'>installed?</span><span class='comma'>,</span>
    <span class='label'>tree?:</span>       <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_tree?'>tree?</span><span class='comma'>,</span>
    <span class='label'>all?:</span>        <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_all?'>all?</span><span class='comma'>,</span>
    <span class='label'>topo_order?:</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_n?'>n?</span><span class='comma'>,</span>
    <span class='label'>union?:</span>      <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_union?'>union?</span><span class='comma'>,</span>
    <span class='label'>for_each?:</span>   <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_for_each?'>for_each?</span><span class='comma'>,</span>
    <span class='label'>recursive?:</span>  <span class='op'>!</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1?</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
  <span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_mode'>mode</span><span class='period'>.</span><span class='id identifier rubyid_tree?'>tree?</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_mode'>mode</span><span class='period'>.</span><span class='id identifier rubyid_installed?'>installed?</span>
      <span class='id identifier rubyid_puts_deps_tree'>puts_deps_tree</span> <span class='const'><span class='object_link'><a href="Formula.html" title="Formula (class)">Formula</a></span></span><span class='period'>.</span><span class='id identifier rubyid_installed'>installed</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span><span class='comma'>,</span> <span class='id identifier rubyid_mode'>mode</span><span class='period'>.</span><span class='id identifier rubyid_recursive?'>recursive?</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="FormulaUnspecifiedError.html" title="FormulaUnspecifiedError (class)">FormulaUnspecifiedError</a></span></span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_remaining'>remaining</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

      <span class='id identifier rubyid_puts_deps_tree'>puts_deps_tree</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_formulae'>formulae</span><span class='comma'>,</span> <span class='id identifier rubyid_mode'>mode</span><span class='period'>.</span><span class='id identifier rubyid_recursive?'>recursive?</span>
    <span class='kw'>end</span>
    <span class='kw'>return</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_mode'>mode</span><span class='period'>.</span><span class='id identifier rubyid_all?'>all?</span>
    <span class='id identifier rubyid_puts_deps'>puts_deps</span> <span class='const'><span class='object_link'><a href="Formula.html" title="Formula (class)">Formula</a></span></span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span><span class='comma'>,</span> <span class='id identifier rubyid_mode'>mode</span><span class='period'>.</span><span class='id identifier rubyid_recursive?'>recursive?</span>
    <span class='kw'>return</span>
  <span class='kw'>elsif</span> <span class='op'>!</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_remaining'>remaining</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_mode'>mode</span><span class='period'>.</span><span class='id identifier rubyid_for_each?'>for_each?</span>
    <span class='id identifier rubyid_puts_deps'>puts_deps</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_formulae'>formulae</span><span class='comma'>,</span> <span class='id identifier rubyid_mode'>mode</span><span class='period'>.</span><span class='id identifier rubyid_recursive?'>recursive?</span>
    <span class='kw'>return</span>
  <span class='kw'>end</span>

  <span class='ivar'>@only_installed_arg</span> <span class='op'>=</span> <span class='id identifier rubyid_mode'>mode</span><span class='period'>.</span><span class='id identifier rubyid_installed?'>installed?</span> <span class='op'>&amp;&amp;</span>
                        <span class='id identifier rubyid_mode'>mode</span><span class='period'>.</span><span class='id identifier rubyid_recursive?'>recursive?</span> <span class='op'>&amp;&amp;</span>
                        <span class='op'>!</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_include_build?'>include_build?</span> <span class='op'>&amp;&amp;</span>
                        <span class='op'>!</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_include_test?'>include_test?</span> <span class='op'>&amp;&amp;</span>
                        <span class='op'>!</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_include_optional?'>include_optional?</span> <span class='op'>&amp;&amp;</span>
                        <span class='op'>!</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_skip_recommended?'>skip_recommended?</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_remaining'>remaining</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="FormulaUnspecifiedError.html" title="FormulaUnspecifiedError (class)">FormulaUnspecifiedError</a></span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_mode'>mode</span><span class='period'>.</span><span class='id identifier rubyid_installed?'>installed?</span>

    <span class='id identifier rubyid_puts_deps'>puts_deps</span> <span class='const'><span class='object_link'><a href="Formula.html" title="Formula (class)">Formula</a></span></span><span class='period'>.</span><span class='id identifier rubyid_installed'>installed</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span><span class='comma'>,</span> <span class='id identifier rubyid_mode'>mode</span><span class='period'>.</span><span class='id identifier rubyid_recursive?'>recursive?</span>
    <span class='kw'>return</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_all_deps'>all_deps</span> <span class='op'>=</span> <span class='id identifier rubyid_deps_for_formulae'>deps_for_formulae</span><span class='lparen'>(</span><span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_formulae'>formulae</span><span class='comma'>,</span> <span class='id identifier rubyid_mode'>mode</span><span class='period'>.</span><span class='id identifier rubyid_recursive?'>recursive?</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='lparen'>(</span><span class='id identifier rubyid_mode'>mode</span><span class='period'>.</span><span class='id identifier rubyid_union?'>union?</span> <span class='op'>?</span> <span class='symbol'>:|</span> <span class='op'>:</span> <span class='symbol'>:&amp;</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_all_deps'>all_deps</span> <span class='op'>=</span> <span class='id identifier rubyid_condense_requirements'>condense_requirements</span><span class='lparen'>(</span><span class='id identifier rubyid_all_deps'>all_deps</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_all_deps'>all_deps</span><span class='period'>.</span><span class='id identifier rubyid_select!'>select!</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:installed?</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_mode'>mode</span><span class='period'>.</span><span class='id identifier rubyid_installed?'>installed?</span>
  <span class='id identifier rubyid_all_deps'>all_deps</span><span class='period'>.</span><span class='id identifier rubyid_map!'>map!</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_method'>method</span><span class='lparen'>(</span><span class='symbol'>:dep_display_name</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_all_deps'>all_deps</span><span class='period'>.</span><span class='id identifier rubyid_uniq!'>uniq!</span>
  <span class='id identifier rubyid_all_deps'>all_deps</span><span class='period'>.</span><span class='id identifier rubyid_sort!'>sort!</span> <span class='kw'>unless</span> <span class='id identifier rubyid_mode'>mode</span><span class='period'>.</span><span class='id identifier rubyid_topo_order?'>topo_order?</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_all_deps'>all_deps</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="deps_args-class_method">
  
    .<strong>deps_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/deps.rb', line 10</span>

<span class='kw'>def</span> <span class='id identifier rubyid_deps_args'>deps_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `deps` [&lt;options&gt;] [&lt;formula&gt;]
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Show dependencies for &lt;formula&gt;. Additional options specific to &lt;formula&gt;
</span><span class='tstring_content'>      may be appended to the command. When given multiple formula arguments,
</span><span class='tstring_content'>      show the intersection of dependencies for each formula.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Sort dependencies in topological order.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--1</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Only show dependencies one level down, instead of recursing.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--union</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Show the union of dependencies for multiple &lt;formula&gt;, instead of the intersection.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--full-name</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>List dependencies by their full name.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--include-build</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Include `:build` dependencies for &lt;formula&gt;.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--include-optional</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Include `:optional` dependencies for &lt;formula&gt;.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--include-test</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Include `:test` dependencies for &lt;formula&gt; (non-recursive).</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--skip-recommended</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Skip `:recommended` dependencies for &lt;formula&gt;.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--include-requirements</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Include requirements in addition to dependencies for &lt;formula&gt;.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--tree</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Show dependencies as a tree. When given multiple formula arguments, </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>show individual trees for each formula.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--annotate</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Mark any build, test, optional, or recommended dependencies as </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>such in the output.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--installed</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>List dependencies for formulae that are currently installed. If &lt;formula&gt; is </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>specified, list only its dependencies that are currently installed.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--all</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>List dependencies for all available formulae.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--for-each</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Switch into the mode used by the `--all` option, but only list dependencies </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>for each provided &lt;formula&gt;, one formula per line. This is used for </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>debugging the `--installed`/`--all` display mode.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:verbose</span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:debug</span>
    <span class='id identifier rubyid_conflicts'>conflicts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--installed</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--all</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_formula_options'>formula_options</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="deps_for_formula-class_method">
  
    .<strong>deps_for_formula</strong>(f, recursive = false)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


142
143
144
145
146
147
148
149
150
151
152
153
154
155
156</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/deps.rb', line 142</span>

<span class='kw'>def</span> <span class='id identifier rubyid_deps_for_formula'>deps_for_formula</span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='comma'>,</span> <span class='id identifier rubyid_recursive'>recursive</span> <span class='op'>=</span> <span class='kw'>false</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_includes'>includes</span><span class='comma'>,</span> <span class='id identifier rubyid_ignores'>ignores</span> <span class='op'>=</span> <span class='id identifier rubyid_argv_includes_ignores'>argv_includes_ignores</span><span class='lparen'>(</span><span class='const'>ARGV</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_deps'>deps</span> <span class='op'>=</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_runtime_dependencies'>runtime_dependencies</span> <span class='kw'>if</span> <span class='ivar'>@only_installed_arg</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_recursive'>recursive</span>
    <span class='id identifier rubyid_deps'>deps</span> <span class='op'>||=</span> <span class='id identifier rubyid_recursive_includes'>recursive_includes</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="Dependency.html" title="Dependency (class)">Dependency</a></span></span><span class='comma'>,</span>  <span class='id identifier rubyid_f'>f</span><span class='comma'>,</span> <span class='id identifier rubyid_includes'>includes</span><span class='comma'>,</span> <span class='id identifier rubyid_ignores'>ignores</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_reqs'>reqs</span>   <span class='op'>=</span> <span class='id identifier rubyid_recursive_includes'>recursive_includes</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="Requirement.html" title="Requirement (class)">Requirement</a></span></span><span class='comma'>,</span> <span class='id identifier rubyid_f'>f</span><span class='comma'>,</span> <span class='id identifier rubyid_includes'>includes</span><span class='comma'>,</span> <span class='id identifier rubyid_ignores'>ignores</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_deps'>deps</span> <span class='op'>||=</span> <span class='id identifier rubyid_reject_ignores'>reject_ignores</span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_deps'>deps</span><span class='comma'>,</span> <span class='id identifier rubyid_ignores'>ignores</span><span class='comma'>,</span> <span class='id identifier rubyid_includes'>includes</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_reqs'>reqs</span>   <span class='op'>=</span> <span class='id identifier rubyid_reject_ignores'>reject_ignores</span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_requirements'>requirements</span><span class='comma'>,</span> <span class='id identifier rubyid_ignores'>ignores</span><span class='comma'>,</span> <span class='id identifier rubyid_includes'>includes</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_deps'>deps</span> <span class='op'>+</span> <span class='id identifier rubyid_reqs'>reqs</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="deps_for_formulae-class_method">
  
    .<strong>deps_for_formulae</strong>(formulae, recursive = false, &amp;block)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


158
159
160</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/deps.rb', line 158</span>

<span class='kw'>def</span> <span class='id identifier rubyid_deps_for_formulae'>deps_for_formulae</span><span class='lparen'>(</span><span class='id identifier rubyid_formulae'><span class='object_link'><a href="HomebrewArgvExtension.html#formulae-instance_method" title="HomebrewArgvExtension#formulae (method)">formulae</a></span></span><span class='comma'>,</span> <span class='id identifier rubyid_recursive'>recursive</span> <span class='op'>=</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_formulae'><span class='object_link'><a href="HomebrewArgvExtension.html#formulae-instance_method" title="HomebrewArgvExtension#formulae (method)">formulae</a></span></span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span> <span class='id identifier rubyid_deps_for_formula'>deps_for_formula</span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='comma'>,</span> <span class='id identifier rubyid_recursive'>recursive</span><span class='rparen'>)</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_reduce'>reduce</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="desc-class_method">
  
    .<strong>desc</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/desc.rb', line 36</span>

<span class='kw'>def</span> <span class='id identifier rubyid_desc'>desc</span>
  <span class='id identifier rubyid_desc_args'>desc_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='id identifier rubyid_search_type'>search_type</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_search_type'>search_type</span> <span class='op'>&lt;&lt;</span> <span class='symbol'>:either</span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_search'>search</span>
  <span class='id identifier rubyid_search_type'>search_type</span> <span class='op'>&lt;&lt;</span> <span class='symbol'>:name</span>   <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
  <span class='id identifier rubyid_search_type'>search_type</span> <span class='op'>&lt;&lt;</span> <span class='symbol'>:desc</span>   <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_search_type'>search_type</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='int'>1</span>
    <span class='id identifier rubyid_odie'>odie</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Pick one, and only one, of -s/--search, -n/--name, or -d/--description.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_search_type'>search_type</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span> <span class='op'>&amp;&amp;</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_odie'>odie</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>You must provide a search term.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_results'>results</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_search_type'>search_type</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="FormulaUnspecifiedError.html" title="FormulaUnspecifiedError (class)">FormulaUnspecifiedError</a></span></span> <span class='kw'>if</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

    <span class='id identifier rubyid_desc'>desc</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
    <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_formulae'>formulae</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span> <span class='id identifier rubyid_desc'>desc</span><span class='lbracket'>[</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_desc'>desc</span> <span class='rbrace'>}</span>
    <span class='const'><span class='object_link'><a href="Descriptions.html" title="Descriptions (class)">Descriptions</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Descriptions.html#initialize-instance_method" title="Descriptions#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_desc'>desc</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_arg'>arg</span> <span class='op'>=</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_string_or_regex'>string_or_regex</span> <span class='op'>=</span> <span class='id identifier rubyid_query_regexp'>query_regexp</span><span class='lparen'>(</span><span class='id identifier rubyid_arg'>arg</span><span class='rparen'>)</span>
    <span class='const'><span class='object_link'><a href="CacheStoreDatabase.html" title="CacheStoreDatabase (class)">CacheStoreDatabase</a></span></span><span class='period'>.</span><span class='id identifier rubyid_use'><span class='object_link'><a href="CacheStoreDatabase.html#use-class_method" title="CacheStoreDatabase.use (method)">use</a></span></span><span class='lparen'>(</span><span class='symbol'>:descriptions</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_db'>db</span><span class='op'>|</span>
      <span class='id identifier rubyid_cache_store'>cache_store</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="DescriptionCacheStore.html" title="DescriptionCacheStore (class)">DescriptionCacheStore</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="CacheStore.html#initialize-instance_method" title="CacheStore#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_db'>db</span><span class='rparen'>)</span>
      <span class='const'><span class='object_link'><a href="Descriptions.html" title="Descriptions (class)">Descriptions</a></span></span><span class='period'>.</span><span class='id identifier rubyid_search'><span class='object_link'><a href="Descriptions.html#search-class_method" title="Descriptions.search (method)">search</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_string_or_regex'>string_or_regex</span><span class='comma'>,</span> <span class='id identifier rubyid_search_type'>search_type</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='comma'>,</span> <span class='id identifier rubyid_cache_store'>cache_store</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_results'>results</span><span class='period'>.</span><span class='id identifier rubyid_print'>print</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="desc_args-class_method">
  
    .<strong>desc_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/desc.rb', line 13</span>

<span class='kw'>def</span> <span class='id identifier rubyid_desc_args'>desc_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `desc` [&lt;options&gt;] (&lt;text&gt;|`/`&lt;text&gt;`/`|&lt;formula&gt;)
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Display &lt;formula&gt;&#39;s name and one-line description.
</span><span class='tstring_content'>      Formula descriptions are cached; the cache is created on the
</span><span class='tstring_content'>      first search, making that search slower than subsequent ones.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_flag'>flag</span>   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-s</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--search=</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Search both names and descriptions for &lt;text&gt;. If &lt;text&gt; is flanked by </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>slashes, it is interpreted as a regular expression.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_flag'>flag</span>   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--name=</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Search just names for &lt;text&gt;. If &lt;text&gt; is flanked by slashes, it is </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>interpreted as a regular expression.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_flag'>flag</span>   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--description=</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Search just descriptions for &lt;text&gt;. If &lt;text&gt; is flanked by slashes, </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>it is interpreted as a regular expression.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:verbose</span>
    <span class='id identifier rubyid_conflicts'>conflicts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--search=</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--name=</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--description=</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="detect_name-class_method">
  
    .<strong>detect_name</strong>(path, version)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/diy.rb', line 56</span>

<span class='kw'>def</span> <span class='id identifier rubyid_detect_name'>detect_name</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_version'>version</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_basename'>basename</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
  <span class='id identifier rubyid_detected_name'>detected_name</span> <span class='op'>=</span> <span class='id identifier rubyid_basename'>basename</span><span class='lbracket'>[</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(.*?)-?</span><span class='embexpr_beg'>#{</span><span class='const'>Regexp</span><span class='period'>.</span><span class='id identifier rubyid_escape'>escape</span><span class='lparen'>(</span><span class='id identifier rubyid_version'>version</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='int'>1</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='id identifier rubyid_basename'>basename</span>
  <span class='id identifier rubyid_canonical_name'>canonical_name</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Formulary.html" title="Formulary (module)">Formulary</a></span></span><span class='period'>.</span><span class='id identifier rubyid_canonical_name'><span class='object_link'><a href="Formulary.html#canonical_name-class_method" title="Formulary.canonical_name (method)">canonical_name</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_detected_name'>detected_name</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_odie'>odie</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span> <span class='kw'>if</span> <span class='id identifier rubyid_detected_name'>detected_name</span> <span class='op'>!=</span> <span class='id identifier rubyid_canonical_name'>canonical_name</span>
<span class='tstring_content'>    The detected name </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_detected_name'>detected_name</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_content'> exists in Homebrew as an alias
</span><span class='tstring_content'>    of </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_canonical_name'>canonical_name</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_content'>. Consider using the canonical name instead:
</span><span class='tstring_content'>      brew diy --name=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_canonical_name'>canonical_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>
</span><span class='tstring_content'>
</span><span class='tstring_content'>    To continue using the detected name, pass it explicitly:
</span><span class='tstring_content'>      brew diy --name=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_detected_name'>detected_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>
</span><span class='heredoc_end'>  EOS
</span>
  <span class='id identifier rubyid_detected_name'>detected_name</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="detect_version-class_method">
  
    .<strong>detect_version</strong>(path)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


48
49
50
51
52
53
54</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/diy.rb', line 48</span>

<span class='kw'>def</span> <span class='id identifier rubyid_detect_version'>detect_version</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_version'>version</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>

  <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Couldn&#39;t determine version, set it with --version=&lt;version&gt;</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_version'>version</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='id identifier rubyid_version'>version</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="diy-class_method">
  
    .<strong>diy</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/diy.rb', line 27</span>

<span class='kw'>def</span> <span class='id identifier rubyid_diy'>diy</span>
  <span class='id identifier rubyid_diy_args'>diy_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Pathname.html" title="Pathname (class)">Pathname</a></span></span><span class='period'>.</span><span class='id identifier rubyid_getwd'>getwd</span>

  <span class='id identifier rubyid_version'>version</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span> <span class='op'>||</span> <span class='id identifier rubyid_detect_version'>detect_version</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>||</span> <span class='id identifier rubyid_detect_name'>detect_name</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_version'>version</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_prefix'>prefix</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_CELLAR-constant" title="HOMEBREW_CELLAR (constant)">HOMEBREW_CELLAR</a></span></span><span class='op'>/</span><span class='id identifier rubyid_name'>name</span><span class='op'>/</span><span class='id identifier rubyid_version'>version</span>

  <span class='kw'>if</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_file?'>file?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CMakeLists.txt</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-DCMAKE_INSTALL_PREFIX=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_prefix'>prefix</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>elsif</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_file?'>file?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>configure</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--prefix=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_prefix'>prefix</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>elsif</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_file?'>file?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>meson.build</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-Dprefix=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_prefix'>prefix</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Couldn&#39;t determine build system. You can manually put files into </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_prefix'>prefix</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="diy_args-class_method">
  
    .<strong>diy_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/diy.rb', line 9</span>

<span class='kw'>def</span> <span class='id identifier rubyid_diy_args'>diy_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `diy` [&lt;options&gt;]
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Automatically determine the installation prefix for non-Homebrew software.
</span><span class='tstring_content'>      Using the output from this command, you can install your own software into
</span><span class='tstring_content'>      the Cellar and then link it into Homebrew&#39;s prefix with `brew link`.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_flag'>flag</span>   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--name=</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Explicitly set the &lt;name&gt; of the package being installed.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_flag'>flag</span>   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--version=</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Explicitly set the &lt;version&gt; of the package being installed.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:verbose</span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:debug</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="doctor-class_method">
  
    .<strong>doctor</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/doctor.rb', line 29</span>

<span class='kw'>def</span> <span class='id identifier rubyid_doctor'>doctor</span>
  <span class='id identifier rubyid_doctor_args'>doctor_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='id identifier rubyid_inject_dump_stats!'>inject_dump_stats!</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="Homebrew/Diagnostic.html" title="Homebrew::Diagnostic (module)">Diagnostic</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/Diagnostic/Checks.html" title="Homebrew::Diagnostic::Checks (class)">Checks</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^check_*</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_audit_debug?'>audit_debug?</span>

  <span class='id identifier rubyid_checks'>checks</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Homebrew/Diagnostic.html" title="Homebrew::Diagnostic (module)">Diagnostic</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/Diagnostic/Checks.html" title="Homebrew::Diagnostic::Checks (class)">Checks</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_list_checks?'>list_checks?</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_checks'>checks</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span>
    <span class='id identifier rubyid_exit'>exit</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_slow_checks'>slow_checks</span> <span class='op'>=</span> <span class='qwords_beg'>%w[</span><span class='words_sep'>
      </span><span class='tstring_content'>check_for_broken_symlinks</span><span class='words_sep'>
      </span><span class='tstring_content'>check_missing_deps</span><span class='words_sep'>
    </span><span class='tstring_end'>]</span></span>
    <span class='id identifier rubyid_methods'>methods</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_checks'>checks</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span> <span class='op'>-</span> <span class='id identifier rubyid_slow_checks'>slow_checks</span><span class='rparen'>)</span> <span class='op'>+</span> <span class='id identifier rubyid_slow_checks'>slow_checks</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_methods'>methods</span> <span class='op'>=</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_first_warning'>first_warning</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='id identifier rubyid_methods'>methods</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_method'>method</span><span class='op'>|</span>
    <span class='gvar'>$stderr</span><span class='period'>.</span><span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Checking </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_method'>method</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_debug?'>debug?</span>
    <span class='kw'>unless</span> <span class='id identifier rubyid_checks'>checks</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='id identifier rubyid_method'>method</span><span class='rparen'>)</span>
      <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='period'>.</span><span class='id identifier rubyid_failed'>failed</span> <span class='op'>=</span> <span class='kw'>true</span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>No check available by the name: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_method'>method</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>next</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_out'>out</span> <span class='op'>=</span> <span class='id identifier rubyid_checks'>checks</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='id identifier rubyid_method'>method</span><span class='rparen'>)</span>
    <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_out'>out</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='id identifier rubyid_out'>out</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_first_warning'>first_warning</span>
      <span class='gvar'>$stderr</span><span class='period'>.</span><span class='id identifier rubyid_puts'>puts</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>        </span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="Tty.html" title="Tty (module)">Tty</a></span></span><span class='period'>.</span><span class='id identifier rubyid_bold'>bold</span><span class='embexpr_end'>}</span><span class='tstring_content'>Please note that these warnings are just used to help the Homebrew maintainers
</span><span class='tstring_content'>        with debugging if you file an issue. If everything you use Homebrew for is
</span><span class='tstring_content'>        working fine: please don&#39;t worry or file an issue; just ignore this. Thanks!</span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="Tty.html" title="Tty (module)">Tty</a></span></span><span class='period'>.</span><span class='id identifier rubyid_reset'>reset</span><span class='embexpr_end'>}</span><span class='tstring_content'>
</span><span class='heredoc_end'>      EOS
</span>    <span class='kw'>end</span>

    <span class='gvar'>$stderr</span><span class='period'>.</span><span class='id identifier rubyid_puts'>puts</span>
    <span class='id identifier rubyid_opoo'>opoo</span> <span class='id identifier rubyid_out'>out</span>
    <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='period'>.</span><span class='id identifier rubyid_failed'>failed</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='id identifier rubyid_first_warning'>first_warning</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Your system is ready to brew.</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='period'>.</span><span class='id identifier rubyid_failed?'><span class='object_link'><a href="#failed%3F-class_method" title="Homebrew.failed? (method)">failed?</a></span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="doctor_args-class_method">
  
    .<strong>doctor_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/doctor.rb', line 9</span>

<span class='kw'>def</span> <span class='id identifier rubyid_doctor_args'>doctor_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `doctor` [&lt;options&gt;]
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Check your system for potential problems. Will exit with a non-zero status
</span><span class='tstring_content'>      if any potential problems are found. Please note that these warnings are just
</span><span class='tstring_content'>      used to help the Homebrew maintainers with debugging if you file an issue. If
</span><span class='tstring_content'>      everything you use Homebrew for is working fine: please don&#39;t worry or file
</span><span class='tstring_content'>      an issue; just ignore this.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--list-checks</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>List all audit methods.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-D</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--audit-debug</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Enable debugging and profiling of audit methods.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:verbose</span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:debug</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dump_build_env-class_method">
  
    .<strong>dump_build_env</strong>(env, f = $stdout)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


53
54
55
56
57
58
59
60
61
62
63
64
65
66
67</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/build_environment.rb', line 53</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dump_build_env'>dump_build_env</span><span class='lparen'>(</span><span class='id identifier rubyid_env'><span class='object_link'><a href="HomebrewArgvExtension.html#env-instance_method" title="HomebrewArgvExtension#env (method)">env</a></span></span><span class='comma'>,</span> <span class='id identifier rubyid_f'>f</span> <span class='op'>=</span> <span class='gvar'>$stdout</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_keys'>keys</span> <span class='op'>=</span> <span class='id identifier rubyid_build_env_keys'>build_env_keys</span><span class='lparen'>(</span><span class='id identifier rubyid_env'><span class='object_link'><a href="HomebrewArgvExtension.html#env-instance_method" title="HomebrewArgvExtension#env (method)">env</a></span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_keys'>keys</span> <span class='op'>-=</span> <span class='qwords_beg'>%w[</span><span class='tstring_content'>CC</span><span class='words_sep'> </span><span class='tstring_content'>CXX</span><span class='words_sep'> </span><span class='tstring_content'>OBJC</span><span class='words_sep'> </span><span class='tstring_content'>OBJCXX</span><span class='tstring_end'>]</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_env'><span class='object_link'><a href="HomebrewArgvExtension.html#env-instance_method" title="HomebrewArgvExtension#env (method)">env</a></span></span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CC</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='id identifier rubyid_env'><span class='object_link'><a href="HomebrewArgvExtension.html#env-instance_method" title="HomebrewArgvExtension#env (method)">env</a></span></span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HOMEBREW_CC</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>

  <span class='id identifier rubyid_keys'>keys</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='op'>|</span>
    <span class='id identifier rubyid_value'><span class='object_link'><a href="HomebrewArgvExtension.html#value-instance_method" title="HomebrewArgvExtension#value (method)">value</a></span></span> <span class='op'>=</span> <span class='id identifier rubyid_env'><span class='object_link'><a href="HomebrewArgvExtension.html#env-instance_method" title="HomebrewArgvExtension#env (method)">env</a></span></span><span class='lbracket'>[</span><span class='id identifier rubyid_key'>key</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='op'>+</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_key'>key</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_value'><span class='object_link'><a href="HomebrewArgvExtension.html#value-instance_method" title="HomebrewArgvExtension#value (method)">value</a></span></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>case</span> <span class='id identifier rubyid_key'>key</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CC</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CXX</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>LD</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_s'>s</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> =&gt; </span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="Pathname.html" title="Pathname (class)">Pathname</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_value'><span class='object_link'><a href="HomebrewArgvExtension.html#value-instance_method" title="HomebrewArgvExtension#value (method)">value</a></span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_realpath'>realpath</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_symlink?'>symlink?</span><span class='lparen'>(</span><span class='id identifier rubyid_value'><span class='object_link'><a href="HomebrewArgvExtension.html#value-instance_method" title="HomebrewArgvExtension#value (method)">value</a></span></span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span>
    <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_s'>s</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dump_options_for_formula-class_method">
  
    .<strong>dump_options_for_formula</strong>(f)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


120
121
122
123
124
125
126</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/options.rb', line 120</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dump_options_for_formula'>dump_options_for_formula</span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_sort_by'>sort_by</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:flag</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_opt'>opt</span><span class='op'>|</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_opt'>opt</span><span class='period'>.</span><span class='id identifier rubyid_flag'>flag</span><span class='embexpr_end'>}</span><span class='tstring_content'>\n\t</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_opt'>opt</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--devel\n\tInstall development version </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_devel'>devel</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_devel'>devel</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--HEAD\n\tInstall HEAD version</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_head'>head</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="edit-class_method">
  
    .<strong>edit</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/edit.rb', line 23</span>

<span class='kw'>def</span> <span class='id identifier rubyid_edit'>edit</span>
  <span class='id identifier rubyid_edit_args'>edit_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='kw'>unless</span> <span class='lparen'>(</span><span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_REPOSITORY-constant" title="HOMEBREW_REPOSITORY (constant)">HOMEBREW_REPOSITORY</a></span></span><span class='op'>/</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.git</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_directory?'>directory?</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      Changes will be lost!
</span><span class='tstring_content'>      The first time you `brew update`, all local changes will be lost; you should
</span><span class='tstring_content'>      thus `brew update` before you `brew edit`!
</span><span class='heredoc_end'>    EOS
</span>  <span class='kw'>end</span>

  <span class='comment'># If no brews are listed, open the project root in an editor.
</span>  <span class='id identifier rubyid_paths'>paths</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_REPOSITORY-constant" title="HOMEBREW_REPOSITORY (constant)">HOMEBREW_REPOSITORY</a></span></span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='comment'># Don&#39;t use ARGV.formulae as that will throw if the file doesn&#39;t parse
</span>  <span class='id identifier rubyid_paths'>paths</span> <span class='op'>||=</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='op'>|</span>
    <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Formulary.html" title="Formulary (module)">Formulary</a></span></span><span class='period'>.</span><span class='id identifier rubyid_path'><span class='object_link'><a href="Formulary.html#path-class_method" title="Formulary.path (method)">path</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="FormulaUnavailableError.html" title="FormulaUnavailableError (class)">FormulaUnavailableError</a></span></span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span> <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_file?'>file?</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_force?'>force?</span>

    <span class='id identifier rubyid_path'>path</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_exec_editor'>exec_editor</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_paths'>paths</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="edit_args-class_method">
  
    .<strong>edit_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


9
10
11
12
13
14
15
16
17
18
19
20
21</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/edit.rb', line 9</span>

<span class='kw'>def</span> <span class='id identifier rubyid_edit_args'>edit_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `edit` [&lt;formula&gt;]
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Open &lt;formula&gt; in the editor set by `EDITOR` or `HOMEBREW_EDITOR`, or open the
</span><span class='tstring_content'>      Homebrew repository for editing if no formula is provided.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:force</span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:verbose</span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:debug</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ensure_relocation_formulae_installed!-class_method">
  
    .<strong>ensure_relocation_formulae_installed!</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


100
101
102
103
104
105
106
107</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/bottle.rb', line 100</span>

<span class='kw'>def</span> <span class='id identifier rubyid_ensure_relocation_formulae_installed!'>ensure_relocation_formulae_installed!</span>
  <span class='const'><span class='object_link'><a href="Keg.html" title="Keg (class)">Keg</a></span></span><span class='period'>.</span><span class='id identifier rubyid_relocation_formulae'><span class='object_link'><a href="Keg.html#relocation_formulae-class_method" title="Keg.relocation_formulae (method)">relocation_formulae</a></span></span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
    <span class='kw'>next</span> <span class='kw'>if</span> <span class='const'><span class='object_link'><a href="Formula.html" title="Formula (class)">Formula</a></span></span><span class='lbracket'>[</span><span class='id identifier rubyid_f'>f</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_installed?'>installed?</span>

    <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Installing </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='embexpr_end'>}</span><span class='tstring_content'>...</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_safe_system'>safe_system</span> <span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_BREW_FILE-constant" title="HOMEBREW_BREW_FILE (constant)">HOMEBREW_BREW_FILE</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>install</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_f'>f</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="external_commands-class_method">
  
    .<strong>external_commands</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


63
64
65
66
67
68
69
70
71
72
73
74
75</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/commands.rb', line 63</span>

<span class='kw'>def</span> <span class='id identifier rubyid_external_commands'>external_commands</span>
  <span class='id identifier rubyid_cmd_paths'>cmd_paths</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="PATH.html" title="PATH (class)">PATH</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="PATH.html#initialize-instance_method" title="PATH#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PATH</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_append'><span class='object_link'><a href="PATH.html#append-instance_method" title="PATH#append (method)">append</a></span></span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="Tap.html" title="Tap (class)">Tap</a></span></span><span class='period'>.</span><span class='id identifier rubyid_cmd_directories'><span class='object_link'><a href="Tap.html#cmd_directories-class_method" title="Tap.cmd_directories (method)">cmd_directories</a></span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_cmd_paths'>cmd_paths</span><span class='period'>.</span><span class='id identifier rubyid_each_with_object'>each_with_object</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_cmds'>cmds</span><span class='op'>|</span>
    <span class='const'>Dir</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_path'>path</span><span class='embexpr_end'>}</span><span class='tstring_content'>/brew-*</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_file'>file</span><span class='op'>|</span>
      <span class='kw'>next</span> <span class='kw'>unless</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_executable?'>executable?</span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='rparen'>)</span>

      <span class='id identifier rubyid_cmd'>cmd</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.rb</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='int'>5</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span>
      <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_cmd'>cmd</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

      <span class='id identifier rubyid_cmds'>cmds</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_cmd'>cmd</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="extract-class_method">
  
    .<strong>extract</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="UsageError.html" title="UsageError (class)">UsageError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/extract.rb', line 97</span>

<span class='kw'>def</span> <span class='id identifier rubyid_extract'>extract</span>
  <span class='id identifier rubyid_extract_args'>extract_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='comment'># Expect exactly two named arguments: formula and tap
</span>  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="UsageError.html" title="UsageError (class)">UsageError</a></span></span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_remaining'>remaining</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>!=</span> <span class='int'>2</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_remaining'>remaining</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span> <span class='op'>!~</span> <span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_TAP_FORMULA_REGEX-constant" title="HOMEBREW_TAP_FORMULA_REGEX (constant)">HOMEBREW_TAP_FORMULA_REGEX</a></span></span>
    <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_remaining'>remaining</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span>
    <span class='id identifier rubyid_source_tap'>source_tap</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="CoreTap.html" title="CoreTap (class)">CoreTap</a></span></span><span class='period'>.</span><span class='id identifier rubyid_instance'><span class='object_link'><a href="CoreTap.html#instance-class_method" title="CoreTap.instance (method)">instance</a></span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='const'>Regexp</span><span class='period'>.</span><span class='id identifier rubyid_last_match'>last_match</span><span class='lparen'>(</span><span class='int'>3</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span>
    <span class='id identifier rubyid_source_tap'>source_tap</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Tap.html" title="Tap (class)">Tap</a></span></span><span class='period'>.</span><span class='id identifier rubyid_fetch'><span class='object_link'><a href="Tap.html#fetch-class_method" title="Tap.fetch (method)">fetch</a></span></span><span class='lparen'>(</span><span class='const'>Regexp</span><span class='period'>.</span><span class='id identifier rubyid_last_match'>last_match</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='const'>Regexp</span><span class='period'>.</span><span class='id identifier rubyid_last_match'>last_match</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="TapFormulaUnavailableError.html" title="TapFormulaUnavailableError (class)">TapFormulaUnavailableError</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="TapFormulaUnavailableError.html#initialize-instance_method" title="TapFormulaUnavailableError#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_source_tap'>source_tap</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_source_tap'>source_tap</span><span class='period'>.</span><span class='id identifier rubyid_installed?'>installed?</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_destination_tap'>destination_tap</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Tap.html" title="Tap (class)">Tap</a></span></span><span class='period'>.</span><span class='id identifier rubyid_fetch'><span class='object_link'><a href="Tap.html#fetch-class_method" title="Tap.fetch (method)">fetch</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_remaining'>remaining</span><span class='period'>.</span><span class='id identifier rubyid_second'>second</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_odie'>odie</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Cannot extract formula to homebrew/core!</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_destination_tap'>destination_tap</span><span class='period'>.</span><span class='id identifier rubyid_core_tap?'>core_tap?</span>
  <span class='id identifier rubyid_odie'>odie</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Cannot extract formula to the same tap!</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_destination_tap'>destination_tap</span> <span class='op'>==</span> <span class='id identifier rubyid_source_tap'>source_tap</span>
  <span class='id identifier rubyid_destination_tap'>destination_tap</span><span class='period'>.</span><span class='id identifier rubyid_install'>install</span> <span class='kw'>unless</span> <span class='id identifier rubyid_destination_tap'>destination_tap</span><span class='period'>.</span><span class='id identifier rubyid_installed?'>installed?</span>

  <span class='id identifier rubyid_repo'>repo</span> <span class='op'>=</span> <span class='id identifier rubyid_source_tap'>source_tap</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span>
  <span class='id identifier rubyid_pattern'>pattern</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_source_tap'>source_tap</span><span class='period'>.</span><span class='id identifier rubyid_core_tap?'>core_tap?</span>
    <span class='lbracket'>[</span><span class='id identifier rubyid_repo'>repo</span><span class='op'>/</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Formula/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>.rb</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
  <span class='kw'>else</span>
    <span class='comment'># A formula can technically live in the root directory of a tap or in any of its subdirectories
</span>    <span class='lbracket'>[</span><span class='id identifier rubyid_repo'>repo</span><span class='op'>/</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>.rb</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_repo'>repo</span><span class='op'>/</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>**/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>.rb</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span>
    <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Searching repository history</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_version'>version</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span>
    <span class='id identifier rubyid_rev'>rev</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HEAD</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_test_formula'>test_formula</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
      <span class='id identifier rubyid_rev'>rev</span><span class='comma'>,</span> <span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span><span class='rparen'>)</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Git.html" title="Git (module)">Git</a></span></span><span class='period'>.</span><span class='id identifier rubyid_last_revision_commit_of_files'><span class='object_link'><a href="Git.html#last_revision_commit_of_files-class_method" title="Git.last_revision_commit_of_files (method)">last_revision_commit_of_files</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_repo'>repo</span><span class='comma'>,</span> <span class='id identifier rubyid_pattern'>pattern</span><span class='comma'>,</span> <span class='label'>before_commit:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_rev'>rev</span><span class='embexpr_end'>}</span><span class='tstring_content'>~1</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_odie'>odie</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Could not find </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>! The formula or version may not have existed.</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_rev'>rev</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>

      <span class='id identifier rubyid_file'>file</span> <span class='op'>=</span> <span class='id identifier rubyid_repo'>repo</span><span class='op'>/</span><span class='id identifier rubyid_path'>path</span>
      <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Git.html" title="Git (module)">Git</a></span></span><span class='period'>.</span><span class='id identifier rubyid_last_revision_of_file'><span class='object_link'><a href="Git.html#last_revision_of_file-class_method" title="Git.last_revision_of_file (method)">last_revision_of_file</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_repo'>repo</span><span class='comma'>,</span> <span class='id identifier rubyid_file'>file</span><span class='comma'>,</span> <span class='label'>before_commit:</span> <span class='id identifier rubyid_rev'>rev</span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
        <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Skipping revision </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_rev'>rev</span><span class='embexpr_end'>}</span><span class='tstring_content'> - file is empty at this revision</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_debug?'>debug?</span>
        <span class='kw'>next</span>
      <span class='kw'>end</span>

      <span class='id identifier rubyid_test_formula'>test_formula</span> <span class='op'>=</span> <span class='id identifier rubyid_formula_at_revision'>formula_at_revision</span><span class='lparen'>(</span><span class='id identifier rubyid_repo'>repo</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_file'>file</span><span class='comma'>,</span> <span class='id identifier rubyid_rev'>rev</span><span class='rparen'>)</span>
      <span class='kw'>break</span> <span class='kw'>if</span> <span class='id identifier rubyid_test_formula'>test_formula</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='id identifier rubyid_test_formula'>test_formula</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span> <span class='op'>==</span> <span class='id identifier rubyid_version'>version</span>

      <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Trying </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_test_formula'>test_formula</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span><span class='embexpr_end'>}</span><span class='tstring_content'> from revision </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_rev'>rev</span><span class='embexpr_end'>}</span><span class='tstring_content'> against desired </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_version'>version</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_debug?'>debug?</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_odie'>odie</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Could not find </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>! The formula or version may not have existed.</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_test_formula'>test_formula</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
  <span class='kw'>else</span>
    <span class='comment'># Search in the root directory of &lt;repo&gt; as well as recursively in all of its subdirectories
</span>    <span class='id identifier rubyid_files'>files</span> <span class='op'>=</span> <span class='const'>Dir</span><span class='lbracket'>[</span><span class='id identifier rubyid_repo'>repo</span><span class='op'>/</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>{,**/}</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_dir'>dir</span><span class='op'>|</span>
      <span class='const'><span class='object_link'><a href="Pathname.html" title="Pathname (class)">Pathname</a></span></span><span class='period'>.</span><span class='id identifier rubyid_glob'>glob</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_dir'>dir</span><span class='embexpr_end'>}</span><span class='tstring_content'>/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>.rb</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:file?</span><span class='rparen'>)</span>
    <span class='kw'>end</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_files'>files</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
      <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Searching repository history</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_rev'>rev</span><span class='comma'>,</span> <span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span><span class='rparen'>)</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Git.html" title="Git (module)">Git</a></span></span><span class='period'>.</span><span class='id identifier rubyid_last_revision_commit_of_files'><span class='object_link'><a href="Git.html#last_revision_commit_of_files-class_method" title="Git.last_revision_commit_of_files (method)">last_revision_commit_of_files</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_repo'>repo</span><span class='comma'>,</span> <span class='id identifier rubyid_pattern'>pattern</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_odie'>odie</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Could not find </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>! The formula or version may not have existed.</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_rev'>rev</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='id identifier rubyid_file'>file</span> <span class='op'>=</span> <span class='id identifier rubyid_repo'>repo</span><span class='op'>/</span><span class='id identifier rubyid_path'>path</span>
      <span class='id identifier rubyid_version'>version</span> <span class='op'>=</span> <span class='id identifier rubyid_formula_at_revision'>formula_at_revision</span><span class='lparen'>(</span><span class='id identifier rubyid_repo'>repo</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_file'>file</span><span class='comma'>,</span> <span class='id identifier rubyid_rev'>rev</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span>
      <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Git.html" title="Git (module)">Git</a></span></span><span class='period'>.</span><span class='id identifier rubyid_last_revision_of_file'><span class='object_link'><a href="Git.html#last_revision_of_file-class_method" title="Git.last_revision_of_file (method)">last_revision_of_file</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_repo'>repo</span><span class='comma'>,</span> <span class='id identifier rubyid_file'>file</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_file'>file</span> <span class='op'>=</span> <span class='id identifier rubyid_files'>files</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='period'>.</span><span class='id identifier rubyid_realpath'>realpath</span>
      <span class='id identifier rubyid_rev'>rev</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HEAD</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_version'>version</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Formulary.html" title="Formulary (module)">Formulary</a></span></span><span class='period'>.</span><span class='id identifier rubyid_factory'><span class='object_link'><a href="Formulary.html#factory-class_method" title="Formulary.factory (method)">factory</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span>
      <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='comment'># The class name has to be renamed to match the new filename,
</span>  <span class='comment'># e.g. Foo version 1.2.3 becomes FooAT123 and resides in Foo@1.2.3.rb.
</span>  <span class='id identifier rubyid_class_name'>class_name</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Formulary.html" title="Formulary (module)">Formulary</a></span></span><span class='period'>.</span><span class='id identifier rubyid_class_s'><span class='object_link'><a href="Formulary.html#class_s-class_method" title="Formulary.class_s (method)">class_s</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_versioned_name'>versioned_name</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Formulary.html" title="Formulary (module)">Formulary</a></span></span><span class='period'>.</span><span class='id identifier rubyid_class_s'><span class='object_link'><a href="Formulary.html#class_s-class_method" title="Formulary.class_s (method)">class_s</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>@</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_version'>version</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_gsub!'>gsub!</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>class </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_class_name'>class_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> &lt; Formula</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>class </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_versioned_name'>versioned_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> &lt; Formula</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

  <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_destination_tap'>destination_tap</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='op'>/</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Formula/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>@</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_version'>version</span><span class='embexpr_end'>}</span><span class='tstring_content'>.rb</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>if</span> <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span>
    <span class='kw'>unless</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_force?'>force?</span>
      <span class='id identifier rubyid_odie'>odie</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>        Destination formula already exists: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_path'>path</span><span class='embexpr_end'>}</span><span class='tstring_content'>
</span><span class='tstring_content'>        To overwrite it and continue anyways, run:
</span><span class='tstring_content'>          brew extract --force --version=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_version'>version</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_destination_tap'>destination_tap</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>
</span><span class='heredoc_end'>      EOS
</span>    <span class='kw'>end</span>
    <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Overwriting existing formula at </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_path'>path</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_debug?'>debug?</span>
    <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Writing formula for </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> from revision </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_rev'>rev</span><span class='embexpr_end'>}</span><span class='tstring_content'> to </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_path'>path</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_write'>write</span> <span class='id identifier rubyid_result'>result</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="extract_args-class_method">
  
    .<strong>extract_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/extract.rb', line 79</span>

<span class='kw'>def</span> <span class='id identifier rubyid_extract_args'>extract_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `extract` [&lt;options&gt;] &lt;formula&gt; &lt;tap&gt;
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Look through repository history to find the most recent version of &lt;formula&gt; and
</span><span class='tstring_content'>      create a copy in &lt;tap&gt;`/Formula/`&lt;formula&gt;`@`&lt;version&gt;`.rb`. If the tap is not
</span><span class='tstring_content'>      installed yet, attempt to install/clone the tap before continuing. To extract
</span><span class='tstring_content'>      a formula from a tap that is not `homebrew/core` use its fully-qualified form of
</span><span class='tstring_content'>      &lt;user&gt;`/`&lt;repo&gt;`/`&lt;formula&gt;.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_flag'>flag</span>   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--version=</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Extract the specified &lt;version&gt; of &lt;formula&gt; instead of the most recent.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:force</span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:debug</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="failed?-class_method">
  
    .<strong>failed?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


73
74
75
76</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/global.rb', line 73</span>

<span class='kw'>def</span> <span class='id identifier rubyid_failed?'>failed?</span>
  <span class='ivar'>@failed</span> <span class='op'>||=</span> <span class='kw'>false</span>
  <span class='ivar'>@failed</span> <span class='op'>==</span> <span class='kw'>true</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="fetch-class_method">
  
    .<strong>fetch</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="FormulaUnspecifiedError.html" title="FormulaUnspecifiedError (class)">FormulaUnspecifiedError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/fetch.rb', line 45</span>

<span class='kw'>def</span> <span class='id identifier rubyid_fetch'>fetch</span>
  <span class='id identifier rubyid_fetch_args'>fetch_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="FormulaUnspecifiedError.html" title="FormulaUnspecifiedError (class)">FormulaUnspecifiedError</a></span></span> <span class='kw'>if</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_deps?'>deps?</span>
    <span class='id identifier rubyid_bucket'>bucket</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_formulae'>formulae</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
      <span class='id identifier rubyid_bucket'>bucket</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_f'>f</span>
      <span class='id identifier rubyid_bucket'>bucket</span><span class='period'>.</span><span class='id identifier rubyid_concat'>concat</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_recursive_dependencies'>recursive_dependencies</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:to_formula</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_bucket'>bucket</span><span class='period'>.</span><span class='id identifier rubyid_uniq!'>uniq!</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_bucket'>bucket</span> <span class='op'>=</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_formulae'>formulae</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Fetching: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_bucket'>bucket</span> <span class='op'>*</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_bucket'>bucket</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='int'>1</span>
  <span class='id identifier rubyid_bucket'>bucket</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
    <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_print_tap_action'>print_tap_action</span> <span class='label'>verb:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Fetching</span><span class='tstring_end'>&quot;</span></span>

    <span class='id identifier rubyid_fetched_bottle'>fetched_bottle</span> <span class='op'>=</span> <span class='kw'>false</span>
    <span class='kw'>if</span> <span class='const'><span class='object_link'><a href="Homebrew/Fetch.html" title="Homebrew::Fetch (module)">Fetch</a></span></span><span class='period'>.</span><span class='id identifier rubyid_fetch_bottle?'><span class='object_link'><a href="Homebrew/Fetch.html#fetch_bottle%3F-class_method" title="Homebrew::Fetch.fetch_bottle? (method)">fetch_bottle?</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='rparen'>)</span>
      <span class='kw'>begin</span>
        <span class='id identifier rubyid_fetch_formula'>fetch_formula</span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_bottle'>bottle</span><span class='rparen'>)</span>
      <span class='kw'>rescue</span> <span class='const'>Interrupt</span>
        <span class='id identifier rubyid_raise'>raise</span>
      <span class='kw'>rescue</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='kw'>if</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_homebrew_developer?'>homebrew_developer?</span>

        <span class='id identifier rubyid_fetched_bottle'>fetched_bottle</span> <span class='op'>=</span> <span class='kw'>false</span>
        <span class='id identifier rubyid_onoe'>onoe</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span>
        <span class='id identifier rubyid_opoo'>opoo</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Bottle fetch failed: fetching the source.</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_fetched_bottle'>fetched_bottle</span> <span class='op'>=</span> <span class='kw'>true</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_fetched_bottle'>fetched_bottle</span>

    <span class='id identifier rubyid_fetch_formula'>fetch_formula</span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='rparen'>)</span>

    <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_resources'>resources</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_r'>r</span><span class='op'>|</span>
      <span class='id identifier rubyid_fetch_resource'>fetch_resource</span><span class='lparen'>(</span><span class='id identifier rubyid_r'>r</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_r'>r</span><span class='period'>.</span><span class='id identifier rubyid_patches'>patches</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_p'>p</span><span class='op'>|</span> <span class='id identifier rubyid_fetch_patch'>fetch_patch</span><span class='lparen'>(</span><span class='id identifier rubyid_p'>p</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_external?'>external?</span> <span class='rbrace'>}</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_patchlist'>patchlist</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_p'>p</span><span class='op'>|</span> <span class='id identifier rubyid_fetch_patch'>fetch_patch</span><span class='lparen'>(</span><span class='id identifier rubyid_p'>p</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_external?'>external?</span> <span class='rbrace'>}</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="fetch_args-class_method">
  
    .<strong>fetch_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/fetch.rb', line 10</span>

<span class='kw'>def</span> <span class='id identifier rubyid_fetch_args'>fetch_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `fetch` [&lt;options&gt;] &lt;formula&gt;
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Download a bottle (if available) or source packages for &lt;formula&gt;.
</span><span class='tstring_content'>      For tarballs, also print SHA-256 checksums.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--HEAD</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Fetch HEAD version instead of stable version.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--devel</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Fetch development version instead of stable version.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:force</span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Remove a previously cached version and re-fetch.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:verbose</span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Do a verbose VCS checkout, if the URL represents a VCS. This is useful for </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>seeing if an existing VCS cache has been updated.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--retry</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Retry if downloading fails or re-download if the checksum of a previously cached </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>version no longer matches.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--deps</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Also download dependencies for any listed &lt;formula&gt;.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-s</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--build-from-source</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Download source packages rather than a bottle.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--build-bottle</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Download source packages (for eventual bottling) rather than a bottle.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--force-bottle</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Download a bottle if it exists for the current or newest version of macOS, </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>even if it would not be used during installation.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:debug</span>
    <span class='id identifier rubyid_conflicts'>conflicts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--devel</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--HEAD</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_conflicts'>conflicts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--build-from-source</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--build-bottle</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--force-bottle</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="fetch_bottles_patch-class_method">
  
    .<strong>fetch_bottles_patch</strong>(bottle_commit_url, args, bottle_branch, branch, orig_revision)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


296
297
298
299
300
301
302
303</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/pull.rb', line 296</span>

<span class='kw'>def</span> <span class='id identifier rubyid_fetch_bottles_patch'>fetch_bottles_patch</span><span class='lparen'>(</span><span class='id identifier rubyid_bottle_commit_url'>bottle_commit_url</span><span class='comma'>,</span> <span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='id identifier rubyid_bottle_branch'>bottle_branch</span><span class='comma'>,</span> <span class='id identifier rubyid_branch'>branch</span><span class='comma'>,</span> <span class='id identifier rubyid_orig_revision'>orig_revision</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_safe_system'>safe_system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>checkout</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--quiet</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-B</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_bottle_branch'>bottle_branch</span><span class='comma'>,</span> <span class='id identifier rubyid_orig_revision'>orig_revision</span>
  <span class='const'><span class='object_link'><a href="Homebrew/PatchPuller.html" title="Homebrew::PatchPuller (class)">PatchPuller</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/PatchPuller.html#initialize-instance_method" title="Homebrew::PatchPuller#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_bottle_commit_url'>bottle_commit_url</span><span class='comma'>,</span> <span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bottle commit</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_pull_patch'><span class='object_link'><a href="Homebrew/PatchPuller.html#pull_patch-instance_method" title="Homebrew::PatchPuller#pull_patch (method)">pull_patch</a></span></span>
  <span class='id identifier rubyid_safe_system'>safe_system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rebase</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--quiet</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_branch'>branch</span>
  <span class='id identifier rubyid_safe_system'>safe_system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>checkout</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--quiet</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_branch'>branch</span>
  <span class='id identifier rubyid_safe_system'>safe_system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>merge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--quiet</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--ff-only</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--no-edit</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_bottle_branch'>bottle_branch</span>
  <span class='id identifier rubyid_safe_system'>safe_system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>branch</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--quiet</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-D</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_bottle_branch'>bottle_branch</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="fetch_fetchable-class_method">
  
    .<strong>fetch_fetchable</strong>(f)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/fetch.rb', line 129</span>

<span class='kw'>def</span> <span class='id identifier rubyid_fetch_fetchable'>fetch_fetchable</span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_clear_cache'>clear_cache</span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_force?'>force?</span>

  <span class='id identifier rubyid_already_fetched'>already_fetched</span> <span class='op'>=</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_cached_download'>cached_download</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span>

  <span class='kw'>begin</span>
    <span class='id identifier rubyid_download'>download</span> <span class='op'>=</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='label'>verify_download_integrity:</span> <span class='kw'>false</span><span class='rparen'>)</span>
  <span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="DownloadError.html" title="DownloadError (class)">DownloadError</a></span></span>
    <span class='kw'>retry</span> <span class='kw'>if</span> <span class='id identifier rubyid_retry_fetch?'>retry_fetch?</span> <span class='id identifier rubyid_f'>f</span>
    <span class='id identifier rubyid_raise'>raise</span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_download'>download</span><span class='period'>.</span><span class='id identifier rubyid_file?'>file?</span>

  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Downloaded to: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_download'>download</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_already_fetched'>already_fetched</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='const'><span class='object_link'><a href="Checksum.html" title="Checksum (class)">Checksum</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Checksum.html#TYPES-constant" title="Checksum::TYPES (constant)">TYPES</a></span></span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_t'>t</span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_upcase'>upcase</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_download'>download</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='id identifier rubyid_t'>t</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>

  <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_verify_download_integrity'>verify_download_integrity</span><span class='lparen'>(</span><span class='id identifier rubyid_download'>download</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="fetch_formula-class_method">
  
    .<strong>fetch_formula</strong>(f)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


103
104
105
106
107
108</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/fetch.rb', line 103</span>

<span class='kw'>def</span> <span class='id identifier rubyid_fetch_formula'>fetch_formula</span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_fetch_fetchable'>fetch_fetchable</span> <span class='id identifier rubyid_f'>f</span>
<span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="ChecksumMismatchError.html" title="ChecksumMismatchError (class)">ChecksumMismatchError</a></span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
  <span class='kw'>retry</span> <span class='kw'>if</span> <span class='id identifier rubyid_retry_fetch?'>retry_fetch?</span> <span class='id identifier rubyid_f'>f</span>
  <span class='id identifier rubyid_opoo'>opoo</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Formula reports different </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_hash_type'>hash_type</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_expected'>expected</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="fetch_merge_patch-class_method">
  
    .<strong>fetch_merge_patch</strong>(url, args, issue)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


305
306
307</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/pull.rb', line 305</span>

<span class='kw'>def</span> <span class='id identifier rubyid_fetch_merge_patch'>fetch_merge_patch</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='id identifier rubyid_issue'>issue</span><span class='rparen'>)</span>
  <span class='const'><span class='object_link'><a href="Homebrew/PatchPuller.html" title="Homebrew::PatchPuller (class)">PatchPuller</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/PatchPuller.html#initialize-instance_method" title="Homebrew::PatchPuller#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>merge commit</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_pull_merge_commit'><span class='object_link'><a href="Homebrew/PatchPuller.html#pull_merge_commit-instance_method" title="Homebrew::PatchPuller#pull_merge_commit (method)">pull_merge_commit</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_issue'>issue</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="fetch_patch-class_method">
  
    .<strong>fetch_patch</strong>(p)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


110
111
112
113
114
115</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/fetch.rb', line 110</span>

<span class='kw'>def</span> <span class='id identifier rubyid_fetch_patch'>fetch_patch</span><span class='lparen'>(</span><span class='id identifier rubyid_p'>p</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_fetch_fetchable'>fetch_fetchable</span> <span class='id identifier rubyid_p'>p</span>
<span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="ChecksumMismatchError.html" title="ChecksumMismatchError (class)">ChecksumMismatchError</a></span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='period'>.</span><span class='id identifier rubyid_failed'>failed</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='id identifier rubyid_opoo'>opoo</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Patch reports different </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_hash_type'>hash_type</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_expected'>expected</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="fetch_pull_requests-class_method">
  
    .<strong>fetch_pull_requests</strong>(formula)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


397
398
399
400
401
402
403
404
405</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/bump-formula-pr.rb', line 397</span>

<span class='kw'>def</span> <span class='id identifier rubyid_fetch_pull_requests'>fetch_pull_requests</span><span class='lparen'>(</span><span class='id identifier rubyid_formula'>formula</span><span class='rparen'>)</span>
  <span class='const'><span class='object_link'><a href="GitHub.html" title="GitHub (module)">GitHub</a></span></span><span class='period'>.</span><span class='id identifier rubyid_issues_for_formula'><span class='object_link'><a href="GitHub.html#issues_for_formula-class_method" title="GitHub.issues_for_formula (method)">issues_for_formula</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='label'>tap:</span> <span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_tap'>tap</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_pr'>pr</span><span class='op'>|</span>
    <span class='id identifier rubyid_pr'>pr</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>html_url</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/pull/</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span>
      <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(^|\s)</span><span class='embexpr_beg'>#{</span><span class='const'>Regexp</span><span class='period'>.</span><span class='id identifier rubyid_quote'>quote</span><span class='lparen'>(</span><span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>(:|\s|$)</span><span class='regexp_end'>/i</span></span> <span class='op'>=~</span> <span class='id identifier rubyid_pr'>pr</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>title</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
  <span class='kw'>end</span>
<span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="GitHub.html" title="GitHub (module)">GitHub</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="GitHub/RateLimitExceededError.html" title="GitHub::RateLimitExceededError (class)">RateLimitExceededError</a></span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
  <span class='id identifier rubyid_opoo'>opoo</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span>
  <span class='lbracket'>[</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="fetch_resource-class_method">
  
    .<strong>fetch_resource</strong>(r)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


95
96
97
98
99
100
101</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/fetch.rb', line 95</span>

<span class='kw'>def</span> <span class='id identifier rubyid_fetch_resource'>fetch_resource</span><span class='lparen'>(</span><span class='id identifier rubyid_r'>r</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Resource: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_r'>r</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_fetch_fetchable'>fetch_fetchable</span> <span class='id identifier rubyid_r'>r</span>
<span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="ChecksumMismatchError.html" title="ChecksumMismatchError (class)">ChecksumMismatchError</a></span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
  <span class='kw'>retry</span> <span class='kw'>if</span> <span class='id identifier rubyid_retry_fetch?'>retry_fetch?</span> <span class='id identifier rubyid_r'>r</span>
  <span class='id identifier rubyid_opoo'>opoo</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Resource </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_r'>r</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> reports different </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_hash_type'>hash_type</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_expected'>expected</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="files_changed_in_patch-class_method">
  
    .<strong>files_changed_in_patch</strong>(patchfile, tap)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>List files changed by a patch, partitioned in to those that are (probably)
formula definitions, and those which aren’t. Only applies to patches on
Homebrew core or taps, based simply on relative pathnames of affected files.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/pull.rb', line 386</span>

<span class='kw'>def</span> <span class='id identifier rubyid_files_changed_in_patch'>files_changed_in_patch</span><span class='lparen'>(</span><span class='id identifier rubyid_patchfile'>patchfile</span><span class='comma'>,</span> <span class='id identifier rubyid_tap'>tap</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_files'>files</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_formulae'><span class='object_link'><a href="HomebrewArgvExtension.html#formulae-instance_method" title="HomebrewArgvExtension#formulae (method)">formulae</a></span></span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_others'>others</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_foreach'>foreach</span><span class='lparen'>(</span><span class='id identifier rubyid_patchfile'>patchfile</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_line'>line</span><span class='op'>|</span>
    <span class='id identifier rubyid_files'>files</span> <span class='op'>&lt;&lt;</span> <span class='const'>Regexp</span><span class='period'>.</span><span class='id identifier rubyid_last_match'>last_match</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_line'>line</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>^\+\+\+ b/(.*)</span><span class='regexp_end'>}</span></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_files'>files</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_file'>file</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_tap'>tap</span><span class='op'>&amp;.</span><span class='id identifier rubyid_formula_file?'>formula_file?</span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_formula_name'>formula_name</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.rb</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_formulae'><span class='object_link'><a href="HomebrewArgvExtension.html#formulae-instance_method" title="HomebrewArgvExtension#formulae (method)">formulae</a></span></span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_formula_name'>formula_name</span> <span class='kw'>unless</span> <span class='id identifier rubyid_formulae'><span class='object_link'><a href="HomebrewArgvExtension.html#formulae-instance_method" title="HomebrewArgvExtension#formulae (method)">formulae</a></span></span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_formula_name'>formula_name</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_others'>others</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_file'>file</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='lbrace'>{</span> <span class='label'>files:</span> <span class='id identifier rubyid_files'>files</span><span class='comma'>,</span> <span class='label'>formulae:</span> <span class='id identifier rubyid_formulae'><span class='object_link'><a href="HomebrewArgvExtension.html#formulae-instance_method" title="HomebrewArgvExtension#formulae (method)">formulae</a></span></span><span class='comma'>,</span> <span class='label'>others:</span> <span class='id identifier rubyid_others'>others</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="filtered_list-class_method">
  
    .<strong>filtered_list</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/list.rb', line 125</span>

<span class='kw'>def</span> <span class='id identifier rubyid_filtered_list'>filtered_list</span>
  <span class='id identifier rubyid_names'>names</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='const'><span class='object_link'><a href="Formula.html" title="Formula (class)">Formula</a></span></span><span class='period'>.</span><span class='id identifier rubyid_racks'>racks</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_racks'>racks</span> <span class='op'>=</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_n'>n</span><span class='op'>|</span> <span class='const'><span class='object_link'><a href="Formulary.html" title="Formulary (module)">Formulary</a></span></span><span class='period'>.</span><span class='id identifier rubyid_to_rack'><span class='object_link'><a href="Formulary.html#to_rack-class_method" title="Formulary.to_rack (method)">to_rack</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_n'>n</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
    <span class='id identifier rubyid_racks'>racks</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_rack'>rack</span><span class='op'>|</span>
      <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='period'>.</span><span class='id identifier rubyid_failed'>failed</span> <span class='op'>=</span> <span class='kw'>true</span> <span class='kw'>unless</span> <span class='id identifier rubyid_rack'>rack</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span>
      <span class='id identifier rubyid_rack'>rack</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_pinned?'>pinned?</span>
    <span class='id identifier rubyid_pinned_versions'>pinned_versions</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
    <span class='id identifier rubyid_names'>names</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_d'>d</span><span class='op'>|</span>
      <span class='id identifier rubyid_keg_pin'>keg_pin</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_PINNED_KEGS-constant" title="HOMEBREW_PINNED_KEGS (constant)">HOMEBREW_PINNED_KEGS</a></span></span><span class='op'>/</span><span class='id identifier rubyid_d'>d</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_pinned_versions'>pinned_versions</span><span class='lbracket'>[</span><span class='id identifier rubyid_d'>d</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_keg_pin'>keg_pin</span><span class='period'>.</span><span class='id identifier rubyid_readlink'>readlink</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='kw'>if</span> <span class='id identifier rubyid_keg_pin'>keg_pin</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span> <span class='op'>||</span> <span class='id identifier rubyid_keg_pin'>keg_pin</span><span class='period'>.</span><span class='id identifier rubyid_symlink?'>symlink?</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_pinned_versions'>pinned_versions</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_d'>d</span><span class='comma'>,</span> <span class='id identifier rubyid_version'>version</span><span class='op'>|</span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_d'>d</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_concat'>concat</span><span class='lparen'>(</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_versions?'>versions?</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_version'>version</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span> <span class='comment'># --versions without --pinned
</span>    <span class='id identifier rubyid_names'>names</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_d'>d</span><span class='op'>|</span>
      <span class='id identifier rubyid_versions'>versions</span> <span class='op'>=</span> <span class='id identifier rubyid_d'>d</span><span class='period'>.</span><span class='id identifier rubyid_subdirs'>subdirs</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_pn'>pn</span><span class='op'>|</span> <span class='id identifier rubyid_pn'>pn</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='rbrace'>}</span>
      <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_multiple?'>multiple?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_versions'>versions</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>&lt;</span> <span class='int'>2</span>

      <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_d'>d</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_versions'>versions</span> <span class='op'>*</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find_internal_commands-class_method">
  
    .<strong>find_internal_commands</strong>(directory)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


77
78
79
80
81</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/commands.rb', line 77</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_internal_commands'>find_internal_commands</span><span class='lparen'>(</span><span class='id identifier rubyid_directory'>directory</span><span class='rparen'>)</span>
  <span class='const'><span class='object_link'><a href="Pathname.html" title="Pathname (class)">Pathname</a></span></span><span class='period'>.</span><span class='id identifier rubyid_glob'>glob</span><span class='lparen'>(</span><span class='id identifier rubyid_directory'>directory</span><span class='op'>/</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>*</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
          <span class='period'>.</span><span class='id identifier rubyid_select'>select</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:file?</span><span class='rparen'>)</span>
          <span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_sub'>sub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\.(?:rb|sh)$</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="force_auto_update?-class_method">
  
    .<strong>force_auto_update?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


71
72
73
74</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/tap.rb', line 71</span>

<span class='kw'>def</span> <span class='id identifier rubyid_force_auto_update?'>force_auto_update?</span>
  <span class='comment'># if no relevant flag is present, return nil, meaning &quot;no change&quot;
</span>  <span class='kw'>true</span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_force_auto_update?'>force_auto_update?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="format_count-class_method">
  
    .<strong>format_count</strong>(count)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


408
409
410</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/info.rb', line 408</span>

<span class='kw'>def</span> <span class='id identifier rubyid_format_count'>format_count</span><span class='lparen'>(</span><span class='id identifier rubyid_count'>count</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_count'>count</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_reverse'>reverse</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(\d{3})(?=\d)</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>\\1,</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_reverse'>reverse</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="format_long_opt-class_method">
  
    .<strong>format_long_opt</strong>(opt)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


234
235
236</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/man.rb', line 234</span>

<span class='kw'>def</span> <span class='id identifier rubyid_format_long_opt'>format_long_opt</span><span class='lparen'>(</span><span class='id identifier rubyid_opt'>opt</span><span class='rparen'>)</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>`</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_opt'>opt</span><span class='embexpr_end'>}</span><span class='tstring_content'>`</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_opt'>opt</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="format_percent-class_method">
  
    .<strong>format_percent</strong>(percent)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


412
413
414</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/info.rb', line 412</span>

<span class='kw'>def</span> <span class='id identifier rubyid_format_percent'>format_percent</span><span class='lparen'>(</span><span class='id identifier rubyid_percent'>percent</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_format'>format</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%.2f</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_percent'>percent</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="format_problem_lines-class_method">
  
    .<strong>format_problem_lines</strong>(problems)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


166
167
168</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/audit.rb', line 166</span>

<span class='kw'>def</span> <span class='id identifier rubyid_format_problem_lines'>format_problem_lines</span><span class='lparen'>(</span><span class='id identifier rubyid_problems'>problems</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_problems'>problems</span><span class='period'>.</span><span class='id identifier rubyid_uniq'>uniq</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_p'>p</span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>* </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n    </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="format_short_opt-class_method">
  
    .<strong>format_short_opt</strong>(opt)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


230
231
232</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/man.rb', line 230</span>

<span class='kw'>def</span> <span class='id identifier rubyid_format_short_opt'>format_short_opt</span><span class='lparen'>(</span><span class='id identifier rubyid_opt'>opt</span><span class='rparen'>)</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>`</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_opt'>opt</span><span class='embexpr_end'>}</span><span class='tstring_content'>`</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_opt'>opt</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="format_usage_banner-class_method">
  
    .<strong>format_usage_banner</strong>(usage_banner)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


238
239
240</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/man.rb', line 238</span>

<span class='kw'>def</span> <span class='id identifier rubyid_format_usage_banner'>format_usage_banner</span><span class='lparen'>(</span><span class='id identifier rubyid_usage_banner'>usage_banner</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_usage_banner'>usage_banner</span><span class='op'>&amp;.</span><span class='id identifier rubyid_sub'>sub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^(#: *\* )?</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>### </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="formula-class_method">
  
    .<strong>formula</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="FormulaUnspecifiedError.html" title="FormulaUnspecifiedError (class)">FormulaUnspecifiedError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


21
22
23
24
25
26
27</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/formula.rb', line 21</span>

<span class='kw'>def</span> <span class='id identifier rubyid_formula'>formula</span>
  <span class='id identifier rubyid_formula_args'>formula_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="FormulaUnspecifiedError.html" title="FormulaUnspecifiedError (class)">FormulaUnspecifiedError</a></span></span> <span class='kw'>if</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_resolved_formulae'>resolved_formulae</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span> <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="formula_args-class_method">
  
    .<strong>formula_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


9
10
11
12
13
14
15
16
17
18
19</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/formula.rb', line 9</span>

<span class='kw'>def</span> <span class='id identifier rubyid_formula_args'>formula_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `formula` &lt;formula&gt;
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Display the path where &lt;formula&gt; is located.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:verbose</span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:debug</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="formula_version-class_method">
  
    .<strong>formula_version</strong>(formula, spec, contents = nil)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


387
388
389
390
391
392
393
394
395</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/bump-formula-pr.rb', line 387</span>

<span class='kw'>def</span> <span class='id identifier rubyid_formula_version'>formula_version</span><span class='lparen'>(</span><span class='id identifier rubyid_formula'>formula</span><span class='comma'>,</span> <span class='id identifier rubyid_spec'>spec</span><span class='comma'>,</span> <span class='id identifier rubyid_contents'>contents</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
  <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_contents'>contents</span>
    <span class='const'><span class='object_link'><a href="Formulary.html" title="Formulary (module)">Formulary</a></span></span><span class='period'>.</span><span class='id identifier rubyid_from_contents'><span class='object_link'><a href="Formulary.html#from_contents-class_method" title="Formulary.from_contents (method)">from_contents</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_contents'>contents</span><span class='comma'>,</span> <span class='id identifier rubyid_spec'>spec</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span>
  <span class='kw'>else</span>
    <span class='const'><span class='object_link'><a href="Formulary.html" title="Formulary (module)">Formulary</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Formulary/FormulaLoader.html" title="Formulary::FormulaLoader (class)">FormulaLoader</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Formulary/FormulaLoader.html#initialize-instance_method" title="Formulary::FormulaLoader#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_get_formula'><span class='object_link'><a href="Formulary/FormulaLoader.html#get_formula-instance_method" title="Formulary::FormulaLoader#get_formula (method)">get_formula</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_spec'>spec</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="formulae_api_json-class_method">
  
    .<strong>formulae_api_json</strong>(endpoint)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


221
222
223
224
225
226
227
228
229
230
231</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/info.rb', line 221</span>

<span class='kw'>def</span> <span class='id identifier rubyid_formulae_api_json'>formulae_api_json</span><span class='lparen'>(</span><span class='id identifier rubyid_endpoint'>endpoint</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HOMEBREW_NO_ANALYTICS</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HOMEBREW_NO_GITHUB_API</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>

  <span class='id identifier rubyid_output'>output</span><span class='comma'>,</span> <span class='op'>=</span> <span class='id identifier rubyid_curl_output'><span class='object_link'><a href="top-level-namespace.html#curl_output-instance_method" title="#curl_output (method)">curl_output</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--max-time</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>5</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>https://formulae.brew.sh/api/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_endpoint'>endpoint</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_output'>output</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span>

  <span class='const'>JSON</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='id identifier rubyid_output'>output</span><span class='rparen'>)</span>
<span class='kw'>rescue</span> <span class='const'>JSON</span><span class='op'>::</span><span class='const'>ParserError</span>
  <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="full_clone?-class_method">
  
    .<strong>full_clone?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


67
68
69</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/tap.rb', line 67</span>

<span class='kw'>def</span> <span class='id identifier rubyid_full_clone?'>full_clone?</span>
  <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_full?'>full?</span> <span class='op'>||</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_homebrew_developer?'>homebrew_developer?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="gem_user_bindir-class_method">
  
    .<strong>gem_user_bindir</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


16
17
18
19</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/utils/gems.rb', line 16</span>

<span class='kw'>def</span> <span class='id identifier rubyid_gem_user_bindir'>gem_user_bindir</span>
  <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rubygems</span><span class='tstring_end'>&quot;</span></span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'>Gem</span><span class='period'>.</span><span class='id identifier rubyid_user_dir'>user_dir</span><span class='embexpr_end'>}</span><span class='tstring_content'>/bin</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="generate_cmd_manpages-class_method">
  
    .<strong>generate_cmd_manpages</strong>(glob)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/man.rb', line 150</span>

<span class='kw'>def</span> <span class='id identifier rubyid_generate_cmd_manpages'>generate_cmd_manpages</span><span class='lparen'>(</span><span class='id identifier rubyid_glob'>glob</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_cmd_paths'>cmd_paths</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Pathname.html" title="Pathname (class)">Pathname</a></span></span><span class='period'>.</span><span class='id identifier rubyid_glob'>glob</span><span class='lparen'>(</span><span class='id identifier rubyid_glob'>glob</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span>
  <span class='id identifier rubyid_man_page_lines'>man_page_lines</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_man_args'>man_args</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='period'>.</span><span class='id identifier rubyid_args'><span class='object_link'><a href="#args-class_method" title="Homebrew.args (method)">args</a></span></span>
  <span class='comment'># preserve existing manpage order
</span>  <span class='id identifier rubyid_cmd_paths'>cmd_paths</span><span class='period'>.</span><span class='id identifier rubyid_sort_by'>sort_by</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_method'>method</span><span class='lparen'>(</span><span class='symbol'>:sort_key_for_path</span><span class='rparen'>)</span><span class='rparen'>)</span>
           <span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_cmd_path'>cmd_path</span><span class='op'>|</span>
    <span class='id identifier rubyid_cmd_args_method_name'>cmd_args_method_name</span> <span class='op'>=</span> <span class='id identifier rubyid_cmd_arg_parser'>cmd_arg_parser</span><span class='lparen'>(</span><span class='id identifier rubyid_cmd_path'>cmd_path</span><span class='rparen'>)</span>

    <span class='id identifier rubyid_cmd_man_page_lines'>cmd_man_page_lines</span> <span class='op'>=</span> <span class='kw'>begin</span>
      <span class='id identifier rubyid_cmd_parser'>cmd_parser</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='id identifier rubyid_cmd_args_method_name'>cmd_args_method_name</span><span class='rparen'>)</span>
      <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_cmd_parser'>cmd_parser</span><span class='period'>.</span><span class='id identifier rubyid_hide_from_man_page'>hide_from_man_page</span>

      <span class='id identifier rubyid_cmd_parser_manpage_lines'>cmd_parser_manpage_lines</span><span class='lparen'>(</span><span class='id identifier rubyid_cmd_parser'>cmd_parser</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span>
    <span class='kw'>rescue</span> <span class='const'>NoMethodError</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='kw'>if</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>!=</span> <span class='id identifier rubyid_cmd_args_method_name'>cmd_args_method_name</span>

      <span class='kw'>nil</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_cmd_man_page_lines'>cmd_man_page_lines</span> <span class='op'>||=</span> <span class='id identifier rubyid_cmd_comment_manpage_lines'>cmd_comment_manpage_lines</span><span class='lparen'>(</span><span class='id identifier rubyid_cmd_path'>cmd_path</span><span class='rparen'>)</span>

    <span class='id identifier rubyid_man_page_lines'>man_page_lines</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_cmd_man_page_lines'>cmd_man_page_lines</span>
  <span class='kw'>end</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='period'>.</span><span class='id identifier rubyid_args'><span class='object_link'><a href="#args-class_method" title="Homebrew.args (method)">args</a></span></span> <span class='op'>=</span> <span class='id identifier rubyid_man_args'>man_args</span>
  <span class='id identifier rubyid_man_page_lines'>man_page_lines</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="generate_option_doc-class_method">
  
    .<strong>generate_option_doc</strong>(short, long, desc)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


225
226
227
228</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/man.rb', line 225</span>

<span class='kw'>def</span> <span class='id identifier rubyid_generate_option_doc'>generate_option_doc</span><span class='lparen'>(</span><span class='id identifier rubyid_short'>short</span><span class='comma'>,</span> <span class='id identifier rubyid_long'>long</span><span class='comma'>,</span> <span class='id identifier rubyid_desc'>desc</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_comma'>comma</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_short'>short</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_long'>long</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>* </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_format_short_opt'>format_short_opt</span><span class='lparen'>(</span><span class='id identifier rubyid_short'>short</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_comma'>comma</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_format_long_opt'>format_long_opt</span><span class='lparen'>(</span><span class='id identifier rubyid_long'>long</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n  </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_desc'>desc</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="gist_logs-class_method">
  
    .<strong>gist_logs</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="FormulaUnspecifiedError.html" title="FormulaUnspecifiedError (class)">FormulaUnspecifiedError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


143
144
145
146
147
148
149</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/gist-logs.rb', line 143</span>

<span class='kw'>def</span> <span class='id identifier rubyid_gist_logs'>gist_logs</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="FormulaUnspecifiedError.html" title="FormulaUnspecifiedError (class)">FormulaUnspecifiedError</a></span></span> <span class='kw'>if</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_resolved_formulae'>resolved_formulae</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>!=</span> <span class='int'>1</span>

  <span class='const'><span class='object_link'><a href="Homebrew/Install.html" title="Homebrew::Install (module)">Install</a></span></span><span class='period'>.</span><span class='id identifier rubyid_perform_preinstall_checks'><span class='object_link'><a href="Homebrew/Install.html#perform_preinstall_checks-class_method" title="Homebrew::Install.perform_preinstall_checks (method)">perform_preinstall_checks</a></span></span><span class='lparen'>(</span><span class='label'>all_fatal:</span> <span class='kw'>true</span><span class='rparen'>)</span>
  <span class='const'><span class='object_link'><a href="Homebrew/Install.html" title="Homebrew::Install (module)">Install</a></span></span><span class='period'>.</span><span class='id identifier rubyid_perform_build_from_source_checks'><span class='object_link'><a href="Homebrew/Install.html#perform_build_from_source_checks-class_method" title="Homebrew::Install.perform_build_from_source_checks (method)">perform_build_from_source_checks</a></span></span><span class='lparen'>(</span><span class='label'>all_fatal:</span> <span class='kw'>true</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_gistify_logs'>gistify_logs</span><span class='lparen'>(</span><span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_resolved_formulae'>resolved_formulae</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="gist_logs_args-class_method">
  
    .<strong>gist_logs_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/gist-logs.rb', line 13</span>

<span class='kw'>def</span> <span class='id identifier rubyid_gist_logs_args'>gist_logs_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `gist-logs` [&lt;options&gt;] &lt;formula&gt;
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Upload logs for a failed build of &lt;formula&gt; to a new Gist. Presents an
</span><span class='tstring_content'>      error message if no logs are found.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--with-hostname</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Include the hostname in the Gist.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--new-issue</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Automatically create a new issue in the appropriate GitHub repository </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>after creating the Gist.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-p</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--private</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The Gist will be marked private and will not appear in listings but will </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>be accessible with its link.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:verbose</span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:debug</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="gistify_logs-class_method">
  
    .<strong>gistify_logs</strong>(f)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/gist-logs.rb', line 34</span>

<span class='kw'>def</span> <span class='id identifier rubyid_gistify_logs'>gistify_logs</span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_gist_logs_args'>gist_logs_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='id identifier rubyid_files'>files</span> <span class='op'>=</span> <span class='id identifier rubyid_load_logs'>load_logs</span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_logs'>logs</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_build_time'>build_time</span> <span class='op'>=</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_logs'>logs</span><span class='period'>.</span><span class='id identifier rubyid_ctime'>ctime</span>
  <span class='id identifier rubyid_timestamp'>timestamp</span> <span class='op'>=</span> <span class='id identifier rubyid_build_time'>build_time</span><span class='period'>.</span><span class='id identifier rubyid_strftime'>strftime</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%Y-%m-%d_%H-%M-%S</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

  <span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>StringIO</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
  <span class='const'><span class='object_link'><a href="SystemConfig.html" title="SystemConfig (class)">SystemConfig</a></span></span><span class='period'>.</span><span class='id identifier rubyid_dump_verbose_config'><span class='object_link'><a href="SystemConfig.html#dump_verbose_config-class_method" title="SystemConfig.dump_verbose_config (method)">dump_verbose_config</a></span></span> <span class='id identifier rubyid_s'>s</span>
  <span class='comment'># Dummy summary file, asciibetically first, to control display title of gist
</span>  <span class='id identifier rubyid_files'>files</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'># </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> - </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_timestamp'>timestamp</span><span class='embexpr_end'>}</span><span class='tstring_content'>.txt</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='label'>content:</span> <span class='id identifier rubyid_brief_build_info'>brief_build_info</span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_files'>files</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>00.config.out</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='label'>content:</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_string'>string</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_files'>files</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>00.doctor.out</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='label'>content:</span> <span class='const'><span class='object_link'><a href="Utils.html" title="Utils (module)">Utils</a></span></span><span class='period'>.</span><span class='id identifier rubyid_popen_read'><span class='object_link'><a href="Utils.html#popen_read-class_method" title="Utils.popen_read (method)">popen_read</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_PREFIX-constant" title="HOMEBREW_PREFIX (constant)">HOMEBREW_PREFIX</a></span></span><span class='embexpr_end'>}</span><span class='tstring_content'>/bin/brew</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>doctor</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>err:</span> <span class='symbol'>:out</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_core_formula?'>core_formula?</span>
    <span class='id identifier rubyid_tap'>tap</span> <span class='op'>=</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      Formula: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>
</span><span class='tstring_content'>          Tap: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_tap'>tap</span><span class='embexpr_end'>}</span><span class='tstring_content'>
</span><span class='tstring_content'>         Path: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='embexpr_end'>}</span><span class='tstring_content'>
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_files'>files</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>00.tap.out</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='label'>content:</span> <span class='id identifier rubyid_tap'>tap</span> <span class='rbrace'>}</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='const'><span class='object_link'><a href="GitHub.html" title="GitHub (module)">GitHub</a></span></span><span class='period'>.</span><span class='id identifier rubyid_api_credentials_type'><span class='object_link'><a href="GitHub.html#api_credentials_type-class_method" title="GitHub.api_credentials_type (method)">api_credentials_type</a></span></span> <span class='op'>==</span> <span class='symbol'>:none</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      You can create a new personal access token:
</span><span class='tstring_content'>        </span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="GitHub.html" title="GitHub (module)">GitHub</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="GitHub.html#ALL_SCOPES_URL-constant" title="GitHub::ALL_SCOPES_URL (constant)">ALL_SCOPES_URL</a></span></span><span class='embexpr_end'>}</span><span class='tstring_content'>
</span><span class='tstring_content'>      </span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="Utils.html" title="Utils (module)">Utils</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Utils/Shell.html" title="Utils::Shell (module)">Shell</a></span></span><span class='period'>.</span><span class='id identifier rubyid_set_variable_in_profile'><span class='object_link'><a href="Utils/Shell.html#set_variable_in_profile-class_method" title="Utils::Shell.set_variable_in_profile (method)">set_variable_in_profile</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HOMEBREW_GITHUB_API_TOKEN</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>your_token_here</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>
</span><span class='tstring_content'>
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_login!'>login!</span>
  <span class='kw'>end</span>

  <span class='comment'># Description formatted to work well as page title when viewing gist
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_core_formula?'>core_formula?</span>
    <span class='id identifier rubyid_descr'>descr</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> on </span><span class='embexpr_beg'>#{</span><span class='const'>OS_VERSION</span><span class='embexpr_end'>}</span><span class='tstring_content'> - Homebrew build logs</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_descr'>descr</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>) on </span><span class='embexpr_beg'>#{</span><span class='const'>OS_VERSION</span><span class='embexpr_end'>}</span><span class='tstring_content'> - Homebrew build logs</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='id identifier rubyid_create_gist'>create_gist</span><span class='lparen'>(</span><span class='id identifier rubyid_files'>files</span><span class='comma'>,</span> <span class='id identifier rubyid_descr'>descr</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='id identifier rubyid_create_issue'>create_issue</span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_tap'>tap</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> failed to build on </span><span class='embexpr_beg'>#{</span><span class='const'>MacOS</span><span class='period'>.</span><span class='id identifier rubyid_full_version'>full_version</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_url'>url</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_new_issue?'>new_issue?</span>

  <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_url'>url</span> <span class='kw'>if</span> <span class='id identifier rubyid_url'>url</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="git_log-class_method">
  
    .<strong>git_log</strong>(cd_dir, path = nil, tap = nil)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/log.rb', line 40</span>

<span class='kw'>def</span> <span class='id identifier rubyid_git_log'>git_log</span><span class='lparen'>(</span><span class='id identifier rubyid_cd_dir'>cd_dir</span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_tap'>tap</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_cd'>cd</span> <span class='id identifier rubyid_cd_dir'>cd_dir</span>
  <span class='id identifier rubyid_repo'>repo</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Utils.html" title="Utils (module)">Utils</a></span></span><span class='period'>.</span><span class='id identifier rubyid_popen_read'><span class='object_link'><a href="Utils.html#popen_read-class_method" title="Utils.popen_read (method)">popen_read</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git rev-parse --show-toplevel</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_tap'>tap</span>
    <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
    <span class='id identifier rubyid_git_cd'>git_cd</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>$(brew --repo </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tap'>tap</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_cd_dir'>cd_dir</span> <span class='op'>==</span> <span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_REPOSITORY-constant" title="HOMEBREW_REPOSITORY (constant)">HOMEBREW_REPOSITORY</a></span></span>
    <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Homebrew/brew</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_git_cd'>git_cd</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>$(brew --repo)</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_git_cd'>git_cd</span> <span class='op'>=</span> <span class='id identifier rubyid_cd_dir'>cd_dir</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_repo'>repo</span><span class='embexpr_end'>}</span><span class='tstring_content'>/.git/shallow</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_opoo'>opoo</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> is a shallow clone so only partial output will be shown.
</span><span class='tstring_content'>      To get a full clone run:
</span><span class='tstring_content'>        git -C &quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_git_cd'>git_cd</span><span class='embexpr_end'>}</span><span class='tstring_content'>&quot; fetch --unshallow
</span><span class='heredoc_end'>    EOS
</span>  <span class='kw'>end</span>
  <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='period'>.</span><span class='id identifier rubyid_args'><span class='object_link'><a href="#args-class_method" title="Homebrew.args (method)">args</a></span></span><span class='period'>.</span><span class='id identifier rubyid_options_only'>options_only</span>
  <span class='id identifier rubyid_args'>args</span> <span class='op'>+=</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--follow</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span><span class='rbracket'>]</span> <span class='kw'>unless</span> <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
  <span class='id identifier rubyid_system'>system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>log</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="github_info-class_method">
  
    .<strong>github_info</strong>(f)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


127
128
129
130
131
132
133
134
135
136
137
138</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/info.rb', line 127</span>

<span class='kw'>def</span> <span class='id identifier rubyid_github_info'>github_info</span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_tap'>tap</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_remote'>remote</span> <span class='op'>=</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_remote'>remote</span>
      <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_relative_path_from'>relative_path_from</span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_github_remote_path'>github_remote_path</span><span class='lparen'>(</span><span class='id identifier rubyid_remote'>remote</span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="github_remote_path-class_method">
  
    .<strong>github_remote_path</strong>(remote, path)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


119
120
121
122
123
124
125</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/info.rb', line 119</span>

<span class='kw'>def</span> <span class='id identifier rubyid_github_remote_path'>github_remote_path</span><span class='lparen'>(</span><span class='id identifier rubyid_remote'>remote</span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_remote'>remote</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>^(?:https?://|git(?:@|://))github\.com[:/](.+)/(.+?)(?:\.git)?$</span><span class='regexp_end'>}</span></span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>https://github.com/</span><span class='embexpr_beg'>#{</span><span class='const'>Regexp</span><span class='period'>.</span><span class='id identifier rubyid_last_match'>last_match</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>/</span><span class='embexpr_beg'>#{</span><span class='const'>Regexp</span><span class='period'>.</span><span class='id identifier rubyid_last_match'>last_match</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>/blob/master/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_path'>path</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_remote'>remote</span><span class='embexpr_end'>}</span><span class='tstring_content'>/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_path'>path</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="global_options_manpage-class_method">
  
    .<strong>global_options_manpage</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


216
217
218
219
220
221
222
223</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/man.rb', line 216</span>

<span class='kw'>def</span> <span class='id identifier rubyid_global_options_manpage'>global_options_manpage</span>
  <span class='id identifier rubyid_lines'>lines</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>These options are applicable across all sub-commands.\n</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_lines'>lines</span> <span class='op'>+=</span> <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_global_options'><span class='object_link'><a href="Homebrew/CLI/Parser.html#global_options-class_method" title="Homebrew::CLI::Parser.global_options (method)">global_options</a></span></span><span class='period'>.</span><span class='id identifier rubyid_values'>values</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_names'>names</span><span class='comma'>,</span> <span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='id identifier rubyid_desc'>desc</span><span class='op'>|</span>
    <span class='id identifier rubyid_short'>short</span><span class='comma'>,</span> <span class='id identifier rubyid_long'>long</span> <span class='op'>=</span> <span class='id identifier rubyid_names'>names</span>
    <span class='id identifier rubyid_generate_option_doc'>generate_option_doc</span><span class='lparen'>(</span><span class='id identifier rubyid_short'>short</span><span class='comma'>,</span> <span class='id identifier rubyid_long'>long</span><span class='comma'>,</span> <span class='id identifier rubyid_desc'>desc</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_lines'>lines</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="handle_unsatisfied_dependents-class_method">
  
    .<strong>handle_unsatisfied_dependents</strong>(kegs_by_rack)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


101
102
103
104
105
106
107
108
109</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/uninstall.rb', line 101</span>

<span class='kw'>def</span> <span class='id identifier rubyid_handle_unsatisfied_dependents'>handle_unsatisfied_dependents</span><span class='lparen'>(</span><span class='id identifier rubyid_kegs_by_rack'>kegs_by_rack</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_ignore_dependencies?'>ignore_dependencies?</span>

  <span class='id identifier rubyid_all_kegs'>all_kegs</span> <span class='op'>=</span> <span class='id identifier rubyid_kegs_by_rack'>kegs_by_rack</span><span class='period'>.</span><span class='id identifier rubyid_values'>values</span><span class='period'>.</span><span class='id identifier rubyid_flatten'>flatten</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_check_for_dependents'>check_for_dependents</span> <span class='id identifier rubyid_all_kegs'>all_kegs</span>
<span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="MethodDeprecatedError.html" title="MethodDeprecatedError (class)">MethodDeprecatedError</a></span></span>
  <span class='comment'># Silently ignore deprecations when uninstalling.
</span>  <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="head_revision-class_method">
  
    .<strong>head_revision</strong>(_url, fetched)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


292
293
294</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/pull.rb', line 292</span>

<span class='kw'>def</span> <span class='id identifier rubyid_head_revision'>head_revision</span><span class='lparen'>(</span><span class='id identifier rubyid__url'>_url</span><span class='comma'>,</span> <span class='id identifier rubyid_fetched'>fetched</span><span class='rparen'>)</span>
  <span class='const'><span class='object_link'><a href="Utils.html" title="Utils (module)">Utils</a></span></span><span class='period'>.</span><span class='id identifier rubyid_popen_read'><span class='object_link'><a href="Utils.html#popen_read-class_method" title="Utils.popen_read (method)">popen_read</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rev-parse</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_fetched'>fetched</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>FETCH_HEAD</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HEAD</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_strip'>strip</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="home-class_method">
  
    .<strong>home</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


20
21
22
23
24
25
26
27
28</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/home.rb', line 20</span>

<span class='kw'>def</span> <span class='id identifier rubyid_home'>home</span>
  <span class='id identifier rubyid_home_args'>home_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_remaining'>remaining</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_exec_browser'>exec_browser</span> <span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_WWW-constant" title="HOMEBREW_WWW (constant)">HOMEBREW_WWW</a></span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_exec_browser'>exec_browser</span><span class='lparen'>(</span><span class='op'>*</span><span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_formulae'>formulae</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:homepage</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="home_args-class_method">
  
    .<strong>home_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


8
9
10
11
12
13
14
15
16
17
18</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/home.rb', line 8</span>

<span class='kw'>def</span> <span class='id identifier rubyid_home_args'>home_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `home` [&lt;formula&gt;]
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Open &lt;formula&gt;&#39;s homepage in a browser, or open Homebrew&#39;s own homepage
</span><span class='tstring_content'>      if no formula is provided.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:debug</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="info-class_method">
  
    .<strong>info</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


57
58
59
60
61
62
63
64
65
66
67
68</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/info.rb', line 57</span>

<span class='kw'>def</span> <span class='id identifier rubyid_info'>info</span>
  <span class='id identifier rubyid_info_args'>info_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_json'>json</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="UsageError.html" title="UsageError (class)">UsageError</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>invalid JSON version: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_json'>json</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>v1</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='kw'>true</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_json'>json</span>

    <span class='id identifier rubyid_print_json'>print_json</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_github?'>github?</span>
    <span class='id identifier rubyid_exec_browser'>exec_browser</span><span class='lparen'>(</span><span class='op'>*</span><span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_formulae'>formulae</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span> <span class='id identifier rubyid_github_info'>github_info</span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='rparen'>)</span> <span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_print_info'>print_info</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="info_args-class_method">
  
    .<strong>info_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/info.rb', line 15</span>

<span class='kw'>def</span> <span class='id identifier rubyid_info_args'>info_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `info` [&lt;options&gt;] [&lt;formula&gt;]
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Display brief statistics for your Homebrew installation.
</span><span class='tstring_content'>
</span><span class='tstring_content'>      If &lt;formula&gt; is provided, show summary of information about &lt;formula&gt;.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--analytics</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>List global Homebrew analytics data or, if specified, installation and </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>build error data for &lt;formula&gt; (provided neither `HOMEBREW_NO_ANALYTICS` </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>nor `HOMEBREW_NO_GITHUB_API` are set).</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_flag'>flag</span>   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--days</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>depends_on:</span>  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--analytics</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>How many days of global analytics data to retrieve. </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The value for &lt;days&gt; must be `30`, `90` or `365`. The default is `30`.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_flag'>flag</span>   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--category</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>depends_on:</span>  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--analytics</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Which type of global analytics data to retrieve. </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The value for &lt;category&gt; must be `install`, `install-on-request`, </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>`cask-install`, `build-error` or `os-version`. The default is `install`.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--github</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Open the GitHub source page for &lt;formula&gt; in a browser. </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>To view formula history locally: `brew log -p` &lt;formula&gt;</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_flag'>flag</span>   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--json</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Print a JSON representation of &lt;formula&gt;. Currently the default and only accepted </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>value for &lt;version&gt; is `v1`. See the docs for examples of using the JSON </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>output: &lt;https://docs.brew.sh/Querying-Brew&gt;</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--installed</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>depends_on:</span>  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--json</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Print JSON of formulae that are currently installed.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--all</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>depends_on:</span>  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--json</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Print JSON of all available formulae.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:verbose</span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Show more verbose analytics data for &lt;formula&gt;.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:debug</span>
    <span class='id identifier rubyid_conflicts'>conflicts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--installed</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--all</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="info_formula-class_method">
  
    .<strong>info_formula</strong>(f)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/info.rb', line 140</span>

<span class='kw'>def</span> <span class='id identifier rubyid_info_formula'>info_formula</span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_specs'>specs</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_stable'>stable</span> <span class='op'>=</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_stable'>stable</span>
    <span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>stable </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_stable'>stable</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_s'>s</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> (bottled)</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_stable'>stable</span><span class='period'>.</span><span class='id identifier rubyid_bottled?'>bottled?</span>
    <span class='id identifier rubyid_specs'>specs</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_s'>s</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_devel'>devel</span> <span class='op'>=</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_devel'>devel</span>
    <span class='id identifier rubyid_specs'>specs</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>devel </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_devel'>devel</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_specs'>specs</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HEAD</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_head'>head</span>

  <span class='id identifier rubyid_attrs'>attrs</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_attrs'>attrs</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>pinned at </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_pinned_version'>pinned_version</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_pinned?'>pinned?</span>
  <span class='id identifier rubyid_attrs'>attrs</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>keg-only</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_keg_only?'>keg_only?</span>

  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_specs'>specs</span> <span class='op'>*</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> [</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_attrs'>attrs</span> <span class='op'>*</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span><span class='embexpr_end'>}</span><span class='tstring_content'>]</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_attrs'>attrs</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_desc'>desc</span> <span class='kw'>if</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_desc'>desc</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='const'><span class='object_link'><a href="Formatter.html" title="Formatter (module)">Formatter</a></span></span><span class='period'>.</span><span class='id identifier rubyid_url'><span class='object_link'><a href="Formatter.html#url-class_method" title="Formatter.url (method)">url</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_homepage'>homepage</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_homepage'>homepage</span>

  <span class='id identifier rubyid_conflicts'>conflicts</span> <span class='op'>=</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_conflicts'>conflicts</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span>
    <span class='id identifier rubyid_reason'>reason</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> (because </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_reason'>reason</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_reason'>reason</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_reason'>reason</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span><span class='period'>.</span><span class='id identifier rubyid_sort!'>sort!</span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_conflicts'>conflicts</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      Conflicts with:
</span><span class='tstring_content'>        </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_conflicts'>conflicts</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n  </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>
</span><span class='heredoc_end'>    EOS
</span>  <span class='kw'>end</span>

  <span class='id identifier rubyid_kegs'><span class='object_link'><a href="HomebrewArgvExtension.html#kegs-instance_method" title="HomebrewArgvExtension#kegs (method)">kegs</a></span></span> <span class='op'>=</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_installed_kegs'>installed_kegs</span>
  <span class='id identifier rubyid_heads'>heads</span><span class='comma'>,</span> <span class='id identifier rubyid_versioned'>versioned</span> <span class='op'>=</span> <span class='id identifier rubyid_kegs'><span class='object_link'><a href="HomebrewArgvExtension.html#kegs-instance_method" title="HomebrewArgvExtension#kegs (method)">kegs</a></span></span><span class='period'>.</span><span class='id identifier rubyid_partition'>partition</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='op'>|</span> <span class='id identifier rubyid_k'>k</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span><span class='period'>.</span><span class='id identifier rubyid_head?'>head?</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_kegs'><span class='object_link'><a href="HomebrewArgvExtension.html#kegs-instance_method" title="HomebrewArgvExtension#kegs (method)">kegs</a></span></span> <span class='op'>=</span> <span class='lbracket'>[</span>
    <span class='op'>*</span><span class='id identifier rubyid_heads'>heads</span><span class='period'>.</span><span class='id identifier rubyid_sort_by'>sort_by</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='op'>|</span> <span class='op'>-</span><span class='const'><span class='object_link'><a href="Tab.html" title="Tab (class)">Tab</a></span></span><span class='period'>.</span><span class='id identifier rubyid_for_keg'><span class='object_link'><a href="Tab.html#for_keg-class_method" title="Tab.for_keg (method)">for_keg</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_k'>k</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_time'>time</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span> <span class='rbrace'>}</span><span class='comma'>,</span>
    <span class='op'>*</span><span class='id identifier rubyid_versioned'>versioned</span><span class='period'>.</span><span class='id identifier rubyid_sort_by'>sort_by</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:version</span><span class='rparen'>)</span><span class='comma'>,</span>
  <span class='rbracket'>]</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_kegs'><span class='object_link'><a href="HomebrewArgvExtension.html#kegs-instance_method" title="HomebrewArgvExtension#kegs (method)">kegs</a></span></span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Not installed</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_kegs'><span class='object_link'><a href="HomebrewArgvExtension.html#kegs-instance_method" title="HomebrewArgvExtension#kegs (method)">kegs</a></span></span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_keg'>keg</span><span class='op'>|</span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_keg'>keg</span><span class='embexpr_end'>}</span><span class='tstring_content'> (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_keg'>keg</span><span class='period'>.</span><span class='id identifier rubyid_abv'>abv</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='embexpr_beg'>#{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> *</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_keg'>keg</span><span class='period'>.</span><span class='id identifier rubyid_linked?'>linked?</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_tab'>tab</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Tab.html" title="Tab (class)">Tab</a></span></span><span class='period'>.</span><span class='id identifier rubyid_for_keg'><span class='object_link'><a href="Tab.html#for_keg-class_method" title="Tab.for_keg (method)">for_keg</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_keg'>keg</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tab'>tab</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_tab'>tab</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>From: </span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="Formatter.html" title="Formatter (module)">Formatter</a></span></span><span class='period'>.</span><span class='id identifier rubyid_url'><span class='object_link'><a href="Formatter.html#url-class_method" title="Formatter.url (method)">url</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_github_info'>github_info</span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>

  <span class='kw'>unless</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_deps'>deps</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Dependencies</span><span class='tstring_end'>&quot;</span></span>
    <span class='qwords_beg'>%w[</span><span class='tstring_content'>build</span><span class='words_sep'> </span><span class='tstring_content'>required</span><span class='words_sep'> </span><span class='tstring_content'>recommended</span><span class='words_sep'> </span><span class='tstring_content'>optional</span><span class='tstring_end'>]</span></span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_type'>type</span><span class='op'>|</span>
      <span class='id identifier rubyid_deps'>deps</span> <span class='op'>=</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_deps'>deps</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='id identifier rubyid_type'>type</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_uniq'>uniq</span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_type'>type</span><span class='period'>.</span><span class='id identifier rubyid_capitalize'>capitalize</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_decorate_dependencies'>decorate_dependencies</span> <span class='id identifier rubyid_deps'>deps</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_deps'>deps</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>unless</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_requirements'>requirements</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Requirements</span><span class='tstring_end'>&quot;</span></span>
    <span class='qwords_beg'>%w[</span><span class='tstring_content'>build</span><span class='words_sep'> </span><span class='tstring_content'>required</span><span class='words_sep'> </span><span class='tstring_content'>recommended</span><span class='words_sep'> </span><span class='tstring_content'>optional</span><span class='tstring_end'>]</span></span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_type'>type</span><span class='op'>|</span>
      <span class='id identifier rubyid_reqs'>reqs</span> <span class='op'>=</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_requirements'>requirements</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:&quot;#{</span><span class='id identifier rubyid_type'>type</span><span class='embexpr_end'>}</span><span class='tstring_content'>?</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_reqs'>reqs</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

      <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_type'>type</span><span class='period'>.</span><span class='id identifier rubyid_capitalize'>capitalize</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_decorate_requirements'>decorate_requirements</span><span class='lparen'>(</span><span class='id identifier rubyid_reqs'>reqs</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>||</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_head'>head</span> <span class='op'>||</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_devel'>devel</span>
    <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Options</span><span class='tstring_end'>&quot;</span></span>
    <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='period'>.</span><span class='id identifier rubyid_dump_options_for_formula'><span class='object_link'><a href="#dump_options_for_formula-class_method" title="Homebrew.dump_options_for_formula (method)">dump_options_for_formula</a></span></span> <span class='id identifier rubyid_f'>f</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_caveats'>caveats</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Caveats.html" title="Caveats (class)">Caveats</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Caveats.html#initialize-instance_method" title="Caveats#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Caveats</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_caveats'>caveats</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='kw'>unless</span> <span class='id identifier rubyid_caveats'>caveats</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='id identifier rubyid_output_formula_analytics'>output_formula_analytics</span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="inject_dump_stats!-class_method">
  
    .<strong>inject_dump_stats!</strong>(the_module, pattern)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>rubocop:disable Style/GlobalVars</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/utils.rb', line 43</span>

<span class='kw'>def</span> <span class='id identifier rubyid_inject_dump_stats!'>inject_dump_stats!</span><span class='lparen'>(</span><span class='id identifier rubyid_the_module'>the_module</span><span class='comma'>,</span> <span class='id identifier rubyid_pattern'>pattern</span><span class='rparen'>)</span>
  <span class='ivar'>@injected_dump_stat_modules</span> <span class='op'>||=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='ivar'>@injected_dump_stat_modules</span><span class='lbracket'>[</span><span class='id identifier rubyid_the_module'>the_module</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_injected_methods'>injected_methods</span> <span class='op'>=</span> <span class='ivar'>@injected_dump_stat_modules</span><span class='lbracket'>[</span><span class='id identifier rubyid_the_module'>the_module</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_the_module'>the_module</span><span class='period'>.</span><span class='id identifier rubyid_module_eval'>module_eval</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_instance_methods'>instance_methods</span><span class='period'>.</span><span class='id identifier rubyid_grep'>grep</span><span class='lparen'>(</span><span class='id identifier rubyid_pattern'>pattern</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='op'>|</span>
      <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_injected_methods'>injected_methods</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='id identifier rubyid_name'>name</span>

      <span class='id identifier rubyid_method'>method</span> <span class='op'>=</span> <span class='id identifier rubyid_instance_method'>instance_method</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_define_method'>define_method</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='op'>|</span>
        <span class='kw'>begin</span>
          <span class='id identifier rubyid_time'>time</span> <span class='op'>=</span> <span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_now'>now</span>
          <span class='id identifier rubyid_method'>method</span><span class='period'>.</span><span class='id identifier rubyid_bind'>bind</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
        <span class='kw'>ensure</span>
          <span class='gvar'>$times</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='int'>0</span>
          <span class='gvar'>$times</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='op'>+=</span> <span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_now'>now</span> <span class='op'>-</span> <span class='id identifier rubyid_time'>time</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='gvar'>$times</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>

  <span class='gvar'>$times</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_at_exit'>at_exit</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_col_width'>col_width</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='gvar'>$times</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:size</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span> <span class='op'>+</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>15</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
    <span class='gvar'>$times</span><span class='period'>.</span><span class='id identifier rubyid_sort_by'>sort_by</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid__k'>_k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_v'>v</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_method'>method</span><span class='comma'>,</span> <span class='id identifier rubyid_time'>time</span><span class='op'>|</span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_format'>format</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%-*s %0.4f sec</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_col_width'>col_width</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_method'>method</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_time'>time</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="inreplace_pairs-class_method">
  
    .<strong>inreplace_pairs</strong>(path, replacement_pairs)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/bump-formula-pr.rb', line 360</span>

<span class='kw'>def</span> <span class='id identifier rubyid_inreplace_pairs'>inreplace_pairs</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_replacement_pairs'>replacement_pairs</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_dry_run?'>dry_run?</span>
    <span class='id identifier rubyid_contents'>contents</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>r</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span> <span class='const'><span class='object_link'><a href="Formulary.html" title="Formulary (module)">Formulary</a></span></span><span class='period'>.</span><span class='id identifier rubyid_ensure_utf8_encoding'><span class='object_link'><a href="Formulary.html#ensure_utf8_encoding-class_method" title="Formulary.ensure_utf8_encoding (method)">ensure_utf8_encoding</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span> <span class='rbrace'>}</span>
    <span class='id identifier rubyid_contents'>contents</span><span class='period'>.</span><span class='id identifier rubyid_extend'>extend</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="StringInreplaceExtension.html" title="StringInreplaceExtension (module)">StringInreplaceExtension</a></span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_replacement_pairs'>replacement_pairs</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_old'>old</span><span class='comma'>,</span> <span class='id identifier rubyid_new'>new</span><span class='op'>|</span>
      <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>replace </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_old'>old</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_content'> with </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new'>new</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='period'>.</span><span class='id identifier rubyid_args'><span class='object_link'><a href="#args-class_method" title="Homebrew.args (method)">args</a></span></span><span class='period'>.</span><span class='id identifier rubyid_quiet?'>quiet?</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>No old value for new value </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new'>new</span><span class='embexpr_end'>}</span><span class='tstring_content'>! Did you pass the wrong arguments?</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_old'>old</span>

      <span class='id identifier rubyid_contents'>contents</span><span class='period'>.</span><span class='id identifier rubyid_gsub!'>gsub!</span><span class='lparen'>(</span><span class='id identifier rubyid_old'>old</span><span class='comma'>,</span> <span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="Utils.html" title="Utils (module)">Utils</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Utils/InreplaceError.html" title="Utils::InreplaceError (class)">InreplaceError</a></span></span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_contents'>contents</span><span class='period'>.</span><span class='id identifier rubyid_errors'>errors</span> <span class='kw'>unless</span> <span class='id identifier rubyid_contents'>contents</span><span class='period'>.</span><span class='id identifier rubyid_errors'>errors</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

    <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_atomic_write'>atomic_write</span><span class='lparen'>(</span><span class='id identifier rubyid_contents'>contents</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_write?'>write?</span>
    <span class='id identifier rubyid_contents'>contents</span>
  <span class='kw'>else</span>
    <span class='const'><span class='object_link'><a href="Utils.html" title="Utils (module)">Utils</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Utils/Inreplace.html" title="Utils::Inreplace (module)">Inreplace</a></span></span><span class='period'>.</span><span class='id identifier rubyid_inreplace'><span class='object_link'><a href="Utils/Inreplace.html#inreplace-class_method" title="Utils::Inreplace.inreplace (method)">inreplace</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span>
      <span class='id identifier rubyid_replacement_pairs'>replacement_pairs</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_old'>old</span><span class='comma'>,</span> <span class='id identifier rubyid_new'>new</span><span class='op'>|</span>
        <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>replace </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_old'>old</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_content'> with </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new'>new</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='period'>.</span><span class='id identifier rubyid_args'><span class='object_link'><a href="#args-class_method" title="Homebrew.args (method)">args</a></span></span><span class='period'>.</span><span class='id identifier rubyid_quiet?'>quiet?</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>No old value for new value </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new'>new</span><span class='embexpr_end'>}</span><span class='tstring_content'>! Did you pass the wrong arguments?</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_old'>old</span>

        <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_gsub!'>gsub!</span><span class='lparen'>(</span><span class='id identifier rubyid_old'>old</span><span class='comma'>,</span> <span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>r</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span> <span class='const'><span class='object_link'><a href="Formulary.html" title="Formulary (module)">Formulary</a></span></span><span class='period'>.</span><span class='id identifier rubyid_ensure_utf8_encoding'><span class='object_link'><a href="Formulary.html#ensure_utf8_encoding-class_method" title="Formulary.ensure_utf8_encoding (method)">ensure_utf8_encoding</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span> <span class='rbrace'>}</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="install-class_method">
  
    .<strong>install</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/install.rb', line 94</span>

<span class='kw'>def</span> <span class='id identifier rubyid_install'>install</span>
  <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='op'>|</span>
    <span class='kw'>next</span> <span class='kw'>if</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_name'>name</span> <span class='op'>!~</span> <span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_TAP_FORMULA_REGEX-constant" title="HOMEBREW_TAP_FORMULA_REGEX (constant)">HOMEBREW_TAP_FORMULA_REGEX</a></span></span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_name'>name</span> <span class='op'>!~</span> <span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_CASK_TAP_CASK_REGEX-constant" title="HOMEBREW_CASK_TAP_CASK_REGEX (constant)">HOMEBREW_CASK_TAP_CASK_REGEX</a></span></span>

    <span class='id identifier rubyid_tap'>tap</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Tap.html" title="Tap (class)">Tap</a></span></span><span class='period'>.</span><span class='id identifier rubyid_fetch'><span class='object_link'><a href="Tap.html#fetch-class_method" title="Tap.fetch (method)">fetch</a></span></span><span class='lparen'>(</span><span class='const'>Regexp</span><span class='period'>.</span><span class='id identifier rubyid_last_match'>last_match</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='const'>Regexp</span><span class='period'>.</span><span class='id identifier rubyid_last_match'>last_match</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_install'>install</span> <span class='kw'>unless</span> <span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_installed?'>installed?</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_install_args'>install_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="FormulaUnspecifiedError.html" title="FormulaUnspecifiedError (class)">FormulaUnspecifiedError</a></span></span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_remaining'>remaining</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_ignore_dependencies?'>ignore_dependencies?</span>
    <span class='id identifier rubyid_opoo'>opoo</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      </span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="Tty.html" title="Tty (module)">Tty</a></span></span><span class='period'>.</span><span class='id identifier rubyid_bold'>bold</span><span class='embexpr_end'>}</span><span class='tstring_content'>--ignore-dependencies is an unsupported Homebrew developer flag!</span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="Tty.html" title="Tty (module)">Tty</a></span></span><span class='period'>.</span><span class='id identifier rubyid_reset'>reset</span><span class='embexpr_end'>}</span><span class='tstring_content'>
</span><span class='tstring_content'>      Adjust your PATH to put any preferred versions of applications earlier in the
</span><span class='tstring_content'>      PATH rather than using this unsupported flag!
</span><span class='tstring_content'>
</span><span class='heredoc_end'>    EOS
</span>  <span class='kw'>end</span>

  <span class='id identifier rubyid_formulae'><span class='object_link'><a href="HomebrewArgvExtension.html#formulae-instance_method" title="HomebrewArgvExtension#formulae (method)">formulae</a></span></span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>

  <span class='kw'>unless</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_casks'>casks</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_cask_args'>cask_args</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_cask_args'>cask_args</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--force</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_force?'>force?</span>
    <span class='id identifier rubyid_cask_args'>cask_args</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--debug</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_debug?'>debug?</span>
    <span class='id identifier rubyid_cask_args'>cask_args</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--verbose</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_verbose?'>verbose?</span>

    <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_casks'>casks</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span>
      <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>brew cask install </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_c'>c</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_cask_args'>cask_args</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_system'>system</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_PREFIX-constant" title="HOMEBREW_PREFIX (constant)">HOMEBREW_PREFIX</a></span></span><span class='embexpr_end'>}</span><span class='tstring_content'>/bin/brew</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cask</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>install</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_c'>c</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_cask_args'>cask_args</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='comment'># if the user&#39;s flags will prevent bottle only-installations when no
</span>  <span class='comment'># developer tools are available, we need to stop them early on
</span>  <span class='const'><span class='object_link'><a href="FormulaInstaller.html" title="FormulaInstaller (class)">FormulaInstaller</a></span></span><span class='period'>.</span><span class='id identifier rubyid_prevent_build_flags'><span class='object_link'><a href="FormulaInstaller.html#prevent_build_flags-class_method" title="FormulaInstaller.prevent_build_flags (method)">prevent_build_flags</a></span></span> <span class='kw'>unless</span> <span class='const'>DevelopmentTools</span><span class='period'>.</span><span class='id identifier rubyid_installed?'>installed?</span>

  <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_formulae'>formulae</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
    <span class='comment'># head-only without --HEAD is an error
</span>    <span class='kw'>if</span> <span class='op'>!</span><span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='period'>.</span><span class='id identifier rubyid_args'><span class='object_link'><a href="#args-class_method" title="Homebrew.args (method)">args</a></span></span><span class='period'>.</span><span class='id identifier rubyid_HEAD?'>HEAD?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_stable'>stable</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_devel'>devel</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>        </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> is a head-only formula
</span><span class='tstring_content'>        Install with `brew install --HEAD </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>`
</span><span class='heredoc_end'>      EOS
</span>    <span class='kw'>end</span>

    <span class='comment'># devel-only without --devel is an error
</span>    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_devel?'>devel?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_stable'>stable</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_head'>head</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>        </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> is a devel-only formula
</span><span class='tstring_content'>        Install with `brew install --devel </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>`
</span><span class='heredoc_end'>      EOS
</span>    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='op'>!</span><span class='lparen'>(</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_HEAD?'>HEAD?</span> <span class='op'>||</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_devel?'>devel?</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_stable'>stable</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> has no stable download, please choose --devel or --HEAD</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

    <span class='comment'># --HEAD, fail with no head defined
</span>    <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>No head is defined for </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_head?'>head?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_head'>head</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>

    <span class='comment'># --devel, fail with no devel defined
</span>    <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>No devel block is defined for </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_devel?'>devel?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_devel'>devel</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>

    <span class='id identifier rubyid_installed_head_version'>installed_head_version</span> <span class='op'>=</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_latest_head_version'>latest_head_version</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_installed_head_version'>installed_head_version</span> <span class='op'>&amp;&amp;</span>
       <span class='op'>!</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_head_version_outdated?'>head_version_outdated?</span><span class='lparen'>(</span><span class='id identifier rubyid_installed_head_version'>installed_head_version</span><span class='comma'>,</span> <span class='label'>fetch_head:</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_fetch_HEAD?'>fetch_HEAD?</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_new_head_installed'>new_head_installed</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_prefix_installed'>prefix_installed</span> <span class='op'>=</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_prefix'>prefix</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_prefix'>prefix</span><span class='period'>.</span><span class='id identifier rubyid_children'>children</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_keg_only?'>keg_only?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_any_version_installed?'>any_version_installed?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_optlinked?'>optlinked?</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_force?'>force?</span>
      <span class='comment'># keg-only install is only possible when no other version is
</span>      <span class='comment'># linked to opt, because installing without any warnings can break
</span>      <span class='comment'># dependencies. Therefore before performing other checks we need to be
</span>      <span class='comment'># sure --force flag is passed.
</span>      <span class='kw'>if</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_outdated?'>outdated?</span>
        <span class='id identifier rubyid_optlinked_version'>optlinked_version</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Keg.html" title="Keg (class)">Keg</a></span></span><span class='period'>.</span><span class='id identifier rubyid_for'><span class='object_link'><a href="Keg.html#for-class_method" title="Keg.for (method)">for</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_opt_prefix'>opt_prefix</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span>
        <span class='id identifier rubyid_onoe'>onoe</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>          </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_optlinked_version'>optlinked_version</span><span class='embexpr_end'>}</span><span class='tstring_content'> is already installed
</span><span class='tstring_content'>          To upgrade to </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span><span class='embexpr_end'>}</span><span class='tstring_content'>, run `brew upgrade </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>`
</span><span class='heredoc_end'>        EOS
</span>      <span class='kw'>elsif</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_only_dependencies?'>only_dependencies?</span>
        <span class='id identifier rubyid_formulae'><span class='object_link'><a href="HomebrewArgvExtension.html#formulae-instance_method" title="HomebrewArgvExtension#formulae (method)">formulae</a></span></span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_f'>f</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_opoo'>opoo</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>          </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_pkg_version'>pkg_version</span><span class='embexpr_end'>}</span><span class='tstring_content'> is already installed and up-to-date
</span><span class='tstring_content'>          To reinstall </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_pkg_version'>pkg_version</span><span class='embexpr_end'>}</span><span class='tstring_content'>, run `brew reinstall </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>`
</span><span class='heredoc_end'>        EOS
</span>      <span class='kw'>end</span>
    <span class='kw'>elsif</span> <span class='lparen'>(</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_HEAD?'>HEAD?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_new_head_installed'>new_head_installed</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='id identifier rubyid_prefix_installed'>prefix_installed</span>
      <span class='comment'># After we&#39;re sure that --force flag is passed for linked to opt
</span>      <span class='comment'># keg-only we need to be sure that the version we&#39;re attempting to
</span>      <span class='comment'># install is not already installed.
</span>
      <span class='id identifier rubyid_installed_version'>installed_version</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_HEAD?'>HEAD?</span>
        <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_latest_head_version'>latest_head_version</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_pkg_version'>pkg_version</span>
      <span class='kw'>end</span>

      <span class='id identifier rubyid_msg'>msg</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_installed_version'>installed_version</span><span class='embexpr_end'>}</span><span class='tstring_content'> is already installed</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_linked_not_equals_installed'>linked_not_equals_installed</span> <span class='op'>=</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_linked_version'>linked_version</span> <span class='op'>!=</span> <span class='id identifier rubyid_installed_version'>installed_version</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_linked?'>linked?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_linked_not_equals_installed'>linked_not_equals_installed</span>
        <span class='id identifier rubyid_msg'>msg</span> <span class='op'>=</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>          </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_msg'>msg</span><span class='embexpr_end'>}</span><span class='tstring_content'>
</span><span class='tstring_content'>          The currently linked version is </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_linked_version'>linked_version</span><span class='embexpr_end'>}</span><span class='tstring_content'>
</span><span class='tstring_content'>          You can use `brew switch </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_installed_version'>installed_version</span><span class='embexpr_end'>}</span><span class='tstring_content'>` to link this version.
</span><span class='heredoc_end'>        EOS
</span>      <span class='kw'>elsif</span> <span class='op'>!</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_linked?'>linked?</span> <span class='op'>||</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_keg_only?'>keg_only?</span>
        <span class='id identifier rubyid_msg'>msg</span> <span class='op'>=</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>          </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_msg'>msg</span><span class='embexpr_end'>}</span><span class='tstring_content'>, it&#39;s just not linked
</span><span class='tstring_content'>          You can use `brew link </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='embexpr_end'>}</span><span class='tstring_content'>` to link this version.
</span><span class='heredoc_end'>        EOS
</span>      <span class='kw'>elsif</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_only_dependencies?'>only_dependencies?</span>
        <span class='id identifier rubyid_msg'>msg</span> <span class='op'>=</span> <span class='kw'>nil</span>
        <span class='id identifier rubyid_formulae'><span class='object_link'><a href="HomebrewArgvExtension.html#formulae-instance_method" title="HomebrewArgvExtension#formulae (method)">formulae</a></span></span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_f'>f</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_msg'>msg</span> <span class='op'>=</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>          </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_msg'>msg</span><span class='embexpr_end'>}</span><span class='tstring_content'> and up-to-date
</span><span class='tstring_content'>          To reinstall </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_pkg_version'>pkg_version</span><span class='embexpr_end'>}</span><span class='tstring_content'>, run `brew reinstall </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>`
</span><span class='heredoc_end'>        EOS
</span>      <span class='kw'>end</span>
      <span class='id identifier rubyid_opoo'>opoo</span> <span class='id identifier rubyid_msg'>msg</span> <span class='kw'>if</span> <span class='id identifier rubyid_msg'>msg</span>
    <span class='kw'>elsif</span> <span class='op'>!</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_any_version_installed?'>any_version_installed?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_old_formula'>old_formula</span> <span class='op'>=</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_old_installed_formulae'>old_installed_formulae</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
      <span class='id identifier rubyid_msg'>msg</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_old_formula'>old_formula</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_old_formula'>old_formula</span><span class='period'>.</span><span class='id identifier rubyid_installed_version'>installed_version</span><span class='embexpr_end'>}</span><span class='tstring_content'> already installed</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_old_formula'>old_formula</span><span class='period'>.</span><span class='id identifier rubyid_linked?'>linked?</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_old_formula'>old_formula</span><span class='period'>.</span><span class='id identifier rubyid_keg_only?'>keg_only?</span>
        <span class='id identifier rubyid_msg'>msg</span> <span class='op'>=</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>          </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_msg'>msg</span><span class='embexpr_end'>}</span><span class='tstring_content'>, it&#39;s just not linked.
</span><span class='tstring_content'>          You can use `brew link </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_old_formula'>old_formula</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>` to link this version.
</span><span class='heredoc_end'>        EOS
</span>      <span class='kw'>end</span>
      <span class='id identifier rubyid_opoo'>opoo</span> <span class='id identifier rubyid_msg'>msg</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_migration_needed?'>migration_needed?</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_force?'>force?</span>
      <span class='comment'># Check if the formula we try to install is the same as installed
</span>      <span class='comment'># but not migrated one. If --force is passed then install anyway.
</span>      <span class='id identifier rubyid_opoo'>opoo</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>        </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_oldname'>oldname</span><span class='embexpr_end'>}</span><span class='tstring_content'> is already installed, it&#39;s just not migrated
</span><span class='tstring_content'>        You can migrate this formula with `brew migrate </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='embexpr_end'>}</span><span class='tstring_content'>`
</span><span class='tstring_content'>        Or you can force install it with `brew install </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='embexpr_end'>}</span><span class='tstring_content'> --force`
</span><span class='heredoc_end'>      EOS
</span>    <span class='kw'>else</span>
      <span class='comment'># If none of the above is true and the formula is linked, then
</span>      <span class='comment'># FormulaInstaller will handle this case.
</span>      <span class='id identifier rubyid_formulae'><span class='object_link'><a href="HomebrewArgvExtension.html#formulae-instance_method" title="HomebrewArgvExtension#formulae (method)">formulae</a></span></span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_f'>f</span>
    <span class='kw'>end</span>

    <span class='comment'># Even if we don&#39;t install this formula mark it as no longer just
</span>    <span class='comment'># installed as a dependency.
</span>    <span class='kw'>next</span> <span class='kw'>unless</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_opt_prefix'>opt_prefix</span><span class='period'>.</span><span class='id identifier rubyid_directory?'>directory?</span>

    <span class='id identifier rubyid_keg'>keg</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Keg.html" title="Keg (class)">Keg</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Keg.html#initialize-instance_method" title="Keg#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_opt_prefix'>opt_prefix</span><span class='period'>.</span><span class='id identifier rubyid_resolved_path'>resolved_path</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_tab'>tab</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Tab.html" title="Tab (class)">Tab</a></span></span><span class='period'>.</span><span class='id identifier rubyid_for_keg'><span class='object_link'><a href="Tab.html#for_keg-class_method" title="Tab.for_keg (method)">for_keg</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_keg'>keg</span><span class='rparen'>)</span>
    <span class='kw'>unless</span> <span class='id identifier rubyid_tab'>tab</span><span class='period'>.</span><span class='id identifier rubyid_installed_on_request'>installed_on_request</span>
      <span class='id identifier rubyid_tab'>tab</span><span class='period'>.</span><span class='id identifier rubyid_installed_on_request'>installed_on_request</span> <span class='op'>=</span> <span class='kw'>true</span>
      <span class='id identifier rubyid_tab'>tab</span><span class='period'>.</span><span class='id identifier rubyid_write'>write</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_formulae'><span class='object_link'><a href="HomebrewArgvExtension.html#formulae-instance_method" title="HomebrewArgvExtension#formulae (method)">formulae</a></span></span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='const'><span class='object_link'><a href="Homebrew/Install.html" title="Homebrew::Install (module)">Install</a></span></span><span class='period'>.</span><span class='id identifier rubyid_perform_preinstall_checks'><span class='object_link'><a href="Homebrew/Install.html#perform_preinstall_checks-class_method" title="Homebrew::Install.perform_preinstall_checks (method)">perform_preinstall_checks</a></span></span>

  <span class='id identifier rubyid_formulae'><span class='object_link'><a href="HomebrewArgvExtension.html#formulae-instance_method" title="HomebrewArgvExtension#formulae (method)">formulae</a></span></span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
    <span class='const'><span class='object_link'><a href="Migrator.html" title="Migrator (class)">Migrator</a></span></span><span class='period'>.</span><span class='id identifier rubyid_migrate_if_needed'><span class='object_link'><a href="Migrator.html#migrate_if_needed-class_method" title="Migrator.migrate_if_needed (method)">migrate_if_needed</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_install_formula'>install_formula</span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='rparen'>)</span>
    <span class='const'><span class='object_link'><a href="Homebrew/Cleanup.html" title="Homebrew::Cleanup (class)">Cleanup</a></span></span><span class='period'>.</span><span class='id identifier rubyid_install_formula_clean!'><span class='object_link'><a href="Homebrew/Cleanup.html#install_formula_clean!-class_method" title="Homebrew::Cleanup.install_formula_clean! (method)">install_formula_clean!</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='period'>.</span><span class='id identifier rubyid_messages'><span class='object_link'><a href="#messages-class_method" title="Homebrew.messages (method)">messages</a></span></span><span class='period'>.</span><span class='id identifier rubyid_display_messages'>display_messages</span>
<span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="FormulaUnreadableError.html" title="FormulaUnreadableError (class)">FormulaUnreadableError</a></span></span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="FormulaClassUnavailableError.html" title="FormulaClassUnavailableError (class)">FormulaClassUnavailableError</a></span></span><span class='comma'>,</span>
       <span class='const'><span class='object_link'><a href="TapFormulaUnreadableError.html" title="TapFormulaUnreadableError (class)">TapFormulaUnreadableError</a></span></span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="TapFormulaClassUnavailableError.html" title="TapFormulaClassUnavailableError (class)">TapFormulaClassUnavailableError</a></span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
  <span class='comment'># Need to rescue before `FormulaUnavailableError` (superclass of this)
</span>  <span class='comment'># is handled, as searching for a formula doesn&#39;t make sense here (the
</span>  <span class='comment'># formula was found, but there&#39;s a problem with its implementation).
</span>  <span class='id identifier rubyid_ofail'>ofail</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span>
<span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="FormulaUnavailableError.html" title="FormulaUnavailableError (class)">FormulaUnavailableError</a></span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>updog</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_ofail'>ofail</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>What&#39;s updog?</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>return</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_ofail'>ofail</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span>
  <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_reason'>reason</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Homebrew/MissingFormula.html" title="Homebrew::MissingFormula (module)">MissingFormula</a></span></span><span class='period'>.</span><span class='id identifier rubyid_reason'><span class='object_link'><a href="Homebrew/MissingFormula.html#reason-class_method" title="Homebrew::MissingFormula.reason (method)">reason</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='gvar'>$stderr</span><span class='period'>.</span><span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_reason'>reason</span>
    <span class='kw'>return</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Searching for similarly named formulae...</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_formulae_search_results'>formulae_search_results</span> <span class='op'>=</span> <span class='id identifier rubyid_search_formulae'>search_formulae</span><span class='lparen'>(</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_formulae_search_results'>formulae_search_results</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
  <span class='kw'>when</span> <span class='int'>0</span>
    <span class='id identifier rubyid_ofail'>ofail</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>No similarly named formulae found.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>when</span> <span class='int'>1</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>This similarly named formula was found:</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_formulae_search_results'>formulae_search_results</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>To install it, run:\n  brew install </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_formulae_search_results'>formulae_search_results</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>These similarly named formulae were found:</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='const'><span class='object_link'><a href="Formatter.html" title="Formatter (module)">Formatter</a></span></span><span class='period'>.</span><span class='id identifier rubyid_columns'><span class='object_link'><a href="Formatter.html#columns-class_method" title="Formatter.columns (method)">columns</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_formulae_search_results'>formulae_search_results</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>To install one of them, run (for example):\n  brew install </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_formulae_search_results'>formulae_search_results</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='comment'># Do not search taps if the formula name is qualified
</span>  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

  <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Searching taps...</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_taps_search_results'>taps_search_results</span> <span class='op'>=</span> <span class='id identifier rubyid_search_taps'>search_taps</span><span class='lparen'>(</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='symbol'>:formulae</span><span class='rbracket'>]</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_taps_search_results'>taps_search_results</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
  <span class='kw'>when</span> <span class='int'>0</span>
    <span class='id identifier rubyid_ofail'>ofail</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>No formulae found in taps.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>when</span> <span class='int'>1</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>This formula was found in a tap:</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_taps_search_results'>taps_search_results</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>To install it, run:\n  brew install </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_taps_search_results'>taps_search_results</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>These formulae were found in taps:</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='const'><span class='object_link'><a href="Formatter.html" title="Formatter (module)">Formatter</a></span></span><span class='period'>.</span><span class='id identifier rubyid_columns'><span class='object_link'><a href="Formatter.html#columns-class_method" title="Formatter.columns (method)">columns</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_taps_search_results'>taps_search_results</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>To install one of them, run (for example):\n  brew install </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_taps_search_results'>taps_search_results</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="install_args-class_method">
  
    .<strong>install_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/install.rb', line 16</span>

<span class='kw'>def</span> <span class='id identifier rubyid_install_args'>install_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `install` [&lt;options&gt;] &lt;formula&gt;
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Install &lt;formula&gt;. Additional options specific to &lt;formula&gt; may be appended to the command.
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Unless `HOMEBREW_NO_INSTALL_CLEANUP` is set, `brew cleanup` will then be run for the
</span><span class='tstring_content'>      installed formulae or, every 30 days, for all formulae.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:debug</span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>If brewing fails, open an interactive debugging session with access to IRB </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>or a shell inside the temporary build directory.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_flag'>flag</span>   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--env=</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>If `std` is passed, use the standard build environment instead of superenv. </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>If `super` is passed, use superenv even if the formula specifies the </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>standard build environment.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--ignore-dependencies</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>An unsupported Homebrew development flag to skip installing any dependencies of </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>any kind. If the dependencies are not already present, the formula will have issues. </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>If you&#39;re not developing Homebrew, consider adjusting your PATH rather than </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>using this flag.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--only-dependencies</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Install the dependencies with specified options but do not install the </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>formula itself.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_flag'>flag</span>   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--cc=</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Attempt to compile using the specified &lt;compiler&gt;, which should be the </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>name of the compiler&#39;s executable, e.g. `gcc-7` for GCC 7. </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>In order to use LLVM&#39;s clang, specify `llvm_clang`. To use the </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Apple-provided clang, specify `clang`. This option will only accept </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>compilers that are provided by Homebrew or bundled with macOS. </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Please do not file issues if you encounter errors while using this option.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-s</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--build-from-source</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Compile &lt;formula&gt; from source even if a bottle is provided. </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Dependencies will still be installed from bottles if they are available.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--force-bottle</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Install from a bottle if it exists for the current or newest version of </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>macOS, even if it would not normally be used for installation.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--include-test</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Install testing dependencies required to run `brew test` &lt;formula&gt;.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--devel</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>If &lt;formula&gt; defines it, install the development version.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--HEAD</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>If &lt;formula&gt; defines it, install the HEAD version, aka. master, trunk, unstable.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--fetch-HEAD</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Fetch the upstream repository to detect if the HEAD installation of the </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>formula is outdated. Otherwise, the repository&#39;s HEAD will only be checked for </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>updates when a new stable or development version has been released.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--keep-tmp</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Retain the temporary files created during installation.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--build-bottle</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Prepare the formula for eventual bottling during installation, skipping any </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>post-install steps.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_flag'>flag</span>   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--bottle-arch=</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>depends_on:</span>  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--build-bottle</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Optimise bottles for the specified architecture rather than the oldest </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>architecture supported by the version of macOS the bottles are built on.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:force</span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Install without checking for previously installed keg-only or </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>non-migrated versions.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:verbose</span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Print the verification and postinstall steps.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--display-times</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>env:</span>         <span class='symbol'>:display_install_times</span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Print install times for each formula at the end of the run.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-i</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--interactive</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Download and patch &lt;formula&gt;, then open a shell. This allows the user to </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>run `./configure --help` and otherwise determine how to turn the software </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>package into a Homebrew package.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-g</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Create a Git repository, useful for creating patches to the software.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_conflicts'>conflicts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--ignore-dependencies</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--only-dependencies</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_conflicts'>conflicts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--devel</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--HEAD</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_conflicts'>conflicts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--build-from-source</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--build-bottle</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--force-bottle</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_formula_options'>formula_options</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="install_bundler!-class_method">
  
    .<strong>install_bundler!</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


82
83
84
85
86</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/utils/gems.rb', line 82</span>

<span class='kw'>def</span> <span class='id identifier rubyid_install_bundler!'>install_bundler!</span>
  <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rubygems</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_setup_gem_environment!'>setup_gem_environment!</span><span class='lparen'>(</span><span class='label'>gem_home:</span> <span class='const'>Gem</span><span class='period'>.</span><span class='id identifier rubyid_user_dir'>user_dir</span><span class='comma'>,</span> <span class='label'>gem_bindir:</span> <span class='id identifier rubyid_gem_user_bindir'>gem_user_bindir</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_install_gem_setup_path!'>install_gem_setup_path!</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bundler</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>version:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&gt;=2</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>executable:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bundle</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>setup_gem_environment:</span> <span class='kw'>false</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="install_bundler_gems!-class_method">
  
    .<strong>install_bundler_gems!</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/utils/gems.rb', line 88</span>

<span class='kw'>def</span> <span class='id identifier rubyid_install_bundler_gems!'>install_bundler_gems!</span>
  <span class='id identifier rubyid_install_bundler!'>install_bundler!</span>

  <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>BUNDLE_GEMFILE</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HOMEBREW_LIBRARY</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'>/Homebrew/Gemfile</span><span class='tstring_end'>&quot;</span></span>
  <span class='ivar'>@bundle_installed</span> <span class='op'>||=</span> <span class='kw'>begin</span>
    <span class='id identifier rubyid_bundle'>bundle</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_gem_user_bindir'>gem_user_bindir</span><span class='embexpr_end'>}</span><span class='tstring_content'>/bundle</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_bundle_check_output'>bundle_check_output</span> <span class='op'>=</span> <span class='backtick'>`</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_bundle'>bundle</span><span class='embexpr_end'>}</span><span class='tstring_content'> check 2&gt;&amp;1</span><span class='tstring_end'>`</span></span>
    <span class='id identifier rubyid_bundle_check_failed'>bundle_check_failed</span> <span class='op'>=</span> <span class='op'>!</span><span class='gvar'>$CHILD_STATUS</span><span class='period'>.</span><span class='id identifier rubyid_exitstatus'>exitstatus</span><span class='period'>.</span><span class='id identifier rubyid_zero?'>zero?</span>

    <span class='comment'># for some reason sometimes the exit code lies so check the output too.
</span>    <span class='kw'>if</span> <span class='id identifier rubyid_bundle_check_failed'>bundle_check_failed</span> <span class='op'>||</span> <span class='id identifier rubyid_bundle_check_output'>bundle_check_output</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Install missing gems</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='kw'>unless</span> <span class='id identifier rubyid_system'>system</span> <span class='id identifier rubyid_bundle'>bundle</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>install</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_odie_if_defined'>odie_if_defined</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>          failed to run `</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_bundle'>bundle</span><span class='embexpr_end'>}</span><span class='tstring_content'> install`!
</span><span class='heredoc_end'>        EOS
</span>      <span class='kw'>end</span>
    <span class='kw'>else</span>
      <span class='kw'>true</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_setup_gem_environment!'>setup_gem_environment!</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="install_core_tap_if_necessary-class_method">
  
    .<strong>install_core_tap_if_necessary</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


148
149
150
151
152
153
154
155
156
157
158</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/update-report.rb', line 148</span>

<span class='kw'>def</span> <span class='id identifier rubyid_install_core_tap_if_necessary'>install_core_tap_if_necessary</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HOMEBREW_UPDATE_TEST</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>

  <span class='id identifier rubyid_core_tap'>core_tap</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="CoreTap.html" title="CoreTap (class)">CoreTap</a></span></span><span class='period'>.</span><span class='id identifier rubyid_instance'><span class='object_link'><a href="CoreTap.html#instance-class_method" title="CoreTap.instance (method)">instance</a></span></span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_core_tap'>core_tap</span><span class='period'>.</span><span class='id identifier rubyid_installed?'>installed?</span>

  <span class='const'><span class='object_link'><a href="CoreTap.html" title="CoreTap (class)">CoreTap</a></span></span><span class='period'>.</span><span class='id identifier rubyid_ensure_installed!'><span class='object_link'><a href="CoreTap.html#ensure_installed!-class_method" title="CoreTap.ensure_installed! (method)">ensure_installed!</a></span></span>
  <span class='id identifier rubyid_revision'>revision</span> <span class='op'>=</span> <span class='id identifier rubyid_core_tap'>core_tap</span><span class='period'>.</span><span class='id identifier rubyid_git_head'>git_head</span>
  <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HOMEBREW_UPDATE_BEFORE_HOMEBREW_HOMEBREW_CORE</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_revision'>revision</span>
  <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HOMEBREW_UPDATE_AFTER_HOMEBREW_HOMEBREW_CORE</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_revision'>revision</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="install_formula-class_method">
  
    .<strong>install_formula</strong>(f)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/install.rb', line 317</span>

<span class='kw'>def</span> <span class='id identifier rubyid_install_formula'>install_formula</span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_print_tap_action'>print_tap_action</span>
  <span class='id identifier rubyid_build_options'>build_options</span> <span class='op'>=</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_build'>build</span>

  <span class='id identifier rubyid_fi'>fi</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="FormulaInstaller.html" title="FormulaInstaller (class)">FormulaInstaller</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="FormulaInstaller.html#initialize-instance_method" title="FormulaInstaller#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_fi'>fi</span><span class='period'>.</span><span class='id identifier rubyid_options'>options</span>              <span class='op'>=</span> <span class='id identifier rubyid_build_options'>build_options</span><span class='period'>.</span><span class='id identifier rubyid_used_options'>used_options</span>
  <span class='id identifier rubyid_fi'>fi</span><span class='period'>.</span><span class='id identifier rubyid_ignore_deps'>ignore_deps</span>          <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_ignore_dependencies?'>ignore_dependencies?</span>
  <span class='id identifier rubyid_fi'>fi</span><span class='period'>.</span><span class='id identifier rubyid_only_deps'>only_deps</span>            <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_only_dependencies?'>only_dependencies?</span>
  <span class='id identifier rubyid_fi'>fi</span><span class='period'>.</span><span class='id identifier rubyid_build_bottle'>build_bottle</span>         <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_build_bottle?'>build_bottle?</span>
  <span class='id identifier rubyid_fi'>fi</span><span class='period'>.</span><span class='id identifier rubyid_interactive'>interactive</span>          <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_interactive?'>interactive?</span>
  <span class='id identifier rubyid_fi'>fi</span><span class='period'>.</span><span class='id identifier rubyid_git'>git</span>                  <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_git?'>git?</span>
  <span class='id identifier rubyid_fi'>fi</span><span class='period'>.</span><span class='id identifier rubyid_prelude'>prelude</span>
  <span class='id identifier rubyid_fi'>fi</span><span class='period'>.</span><span class='id identifier rubyid_install'>install</span>
  <span class='id identifier rubyid_fi'>fi</span><span class='period'>.</span><span class='id identifier rubyid_finish'>finish</span>
<span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="FormulaInstallationAlreadyAttemptedError.html" title="FormulaInstallationAlreadyAttemptedError (class)">FormulaInstallationAlreadyAttemptedError</a></span></span>
  <span class='comment'># We already attempted to install f as part of the dependency tree of
</span>  <span class='comment'># another formula. In that case, don&#39;t generate an error, just move on.
</span>  <span class='kw'>nil</span>
<span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="CannotInstallFormulaError.html" title="CannotInstallFormulaError (class)">CannotInstallFormulaError</a></span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
  <span class='id identifier rubyid_ofail'>ofail</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="install_gem!-class_method">
  
    .<strong>install_gem!</strong>(name, version: nil, setup_gem_environment: true)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


57
58
59
60
61
62
63
64
65
66
67
68</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/utils/gems.rb', line 57</span>

<span class='kw'>def</span> <span class='id identifier rubyid_install_gem!'>install_gem!</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='label'>version:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>setup_gem_environment:</span> <span class='kw'>true</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_setup_gem_environment!'>setup_gem_environment!</span> <span class='kw'>if</span> <span class='id identifier rubyid_setup_gem_environment'>setup_gem_environment</span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='const'>Gem</span><span class='op'>::</span><span class='const'>Specification</span><span class='period'>.</span><span class='id identifier rubyid_find_all_by_name'>find_all_by_name</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_version'>version</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='comment'># Shell out to `gem` to avoid RubyGems requires for e.g. loading JSON.
</span>  <span class='id identifier rubyid_ohai_if_defined'>ohai_if_defined</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Installing &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; gem</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_install_args'>install_args</span> <span class='op'>=</span> <span class='words_beg'>%W[</span><span class='tstring_content'>--no-document</span><span class='words_sep'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>]</span></span>
  <span class='id identifier rubyid_install_args'>install_args</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--version</span><span class='tstring_end'>&quot;</span></span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_version'>version</span> <span class='kw'>if</span> <span class='id identifier rubyid_version'>version</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_system'>system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_ruby_bindir'>ruby_bindir</span><span class='embexpr_end'>}</span><span class='tstring_content'>/gem</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>install</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_install_args'>install_args</span>

  <span class='id identifier rubyid_odie_if_defined'>odie_if_defined</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>failed to install the &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; gem.</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="install_gem_setup_path!-class_method">
  
    .<strong>install_gem_setup_path!</strong>(name, version: nil, executable: name, setup_gem_environment: true)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


70
71
72
73
74
75
76
77
78
79
80</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/utils/gems.rb', line 70</span>

<span class='kw'>def</span> <span class='id identifier rubyid_install_gem_setup_path!'>install_gem_setup_path!</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='label'>version:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>executable:</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='label'>setup_gem_environment:</span> <span class='kw'>true</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_install_gem!'>install_gem!</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='label'>version:</span> <span class='id identifier rubyid_version'>version</span><span class='comma'>,</span> <span class='label'>setup_gem_environment:</span> <span class='id identifier rubyid_setup_gem_environment'>setup_gem_environment</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PATH</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_path'>path</span><span class='op'>|</span>
    <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_executable?'>executable?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_path'>path</span><span class='embexpr_end'>}</span><span class='tstring_content'>/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_executable'>executable</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_odie_if_defined'>odie_if_defined</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>    the &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; gem is installed but couldn&#39;t find &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_executable'>executable</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; in the PATH:
</span><span class='tstring_content'>      </span><span class='embexpr_beg'>#{</span><span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PATH</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'>
</span><span class='heredoc_end'>  EOS
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="internal_commands-class_method">
  
    .<strong>internal_commands</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


55
56
57</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/commands.rb', line 55</span>

<span class='kw'>def</span> <span class='id identifier rubyid_internal_commands'>internal_commands</span>
  <span class='id identifier rubyid_find_internal_commands'>find_internal_commands</span> <span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_LIBRARY_PATH-constant" title="HOMEBREW_LIBRARY_PATH (constant)">HOMEBREW_LIBRARY_PATH</a></span></span><span class='op'>/</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cmd</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="internal_developer_commands-class_method">
  
    .<strong>internal_developer_commands</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


59
60
61</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/commands.rb', line 59</span>

<span class='kw'>def</span> <span class='id identifier rubyid_internal_developer_commands'>internal_developer_commands</span>
  <span class='id identifier rubyid_find_internal_commands'>find_internal_commands</span> <span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_LIBRARY_PATH-constant" title="HOMEBREW_LIBRARY_PATH (constant)">HOMEBREW_LIBRARY_PATH</a></span></span><span class='op'>/</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>dev-cmd</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="irb-class_method">
  
    .<strong>irb</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/irb.rb', line 35</span>

<span class='kw'>def</span> <span class='id identifier rubyid_irb'>irb</span>
  <span class='comment'># work around IRB modifying ARGV.
</span>  <span class='id identifier rubyid_irb_args'>irb_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span><span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_examples?'>examples?</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&#39;v8&#39;.f # =&gt; instance of the v8 formula</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>:hub.f.installed?</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>:lua.f.methods - 1.methods</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>:mpd.f.recursive_dependencies.reject(&amp;:installed?)</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>return</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_pry?'>pry?</span>
    <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='period'>.</span><span class='id identifier rubyid_install_gem_setup_path!'><span class='object_link'><a href="#install_gem_setup_path!-class_method" title="Homebrew.install_gem_setup_path! (method)">install_gem_setup_path!</a></span></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>pry</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>pry</span><span class='tstring_end'>&quot;</span></span>
    <span class='const'>Pry</span><span class='period'>.</span><span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_prompt_name'>prompt_name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>brew</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>irb</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>formula</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>keg</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cask/all</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Interactive Homebrew Shell</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Example commands available with: brew irb --examples</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_pry?'>pry?</span>
    <span class='const'>Pry</span><span class='period'>.</span><span class='id identifier rubyid_start'>start</span>
  <span class='kw'>else</span>
    <span class='const'><span class='object_link'><a href="IRB.html" title="IRB (module)">IRB</a></span></span><span class='period'>.</span><span class='id identifier rubyid_start'>start</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="irb_args-class_method">
  
    .<strong>irb_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


20
21
22
23
24
25
26
27
28
29
30
31
32
33</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/irb.rb', line 20</span>

<span class='kw'>def</span> <span class='id identifier rubyid_irb_args'>irb_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `irb` [&lt;options&gt;]
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Enter the interactive Homebrew Ruby shell.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--examples</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Show several examples.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--pry</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>env:</span>         <span class='symbol'>:pry</span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Use Pry instead of IRB. Implied if `HOMEBREW_PRY` is set.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="keg_contain?-class_method">
  
    .<strong>keg_contain?</strong>(string, keg, ignores, formula_and_runtime_deps_names = nil)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/bottle.rb', line 109</span>

<span class='kw'>def</span> <span class='id identifier rubyid_keg_contain?'>keg_contain?</span><span class='lparen'>(</span><span class='id identifier rubyid_string'>string</span><span class='comma'>,</span> <span class='id identifier rubyid_keg'>keg</span><span class='comma'>,</span> <span class='id identifier rubyid_ignores'>ignores</span><span class='comma'>,</span> <span class='id identifier rubyid_formula_and_runtime_deps_names'>formula_and_runtime_deps_names</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='ivar'>@put_string_exists_header</span><span class='comma'>,</span> <span class='ivar'>@put_filenames</span> <span class='op'>=</span> <span class='kw'>nil</span>

  <span class='id identifier rubyid_print_filename'>print_filename</span> <span class='op'>=</span> <span class='id identifier rubyid_lambda'>lambda</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_str'>str</span><span class='comma'>,</span> <span class='id identifier rubyid_filename'>filename</span><span class='op'>|</span>
    <span class='kw'>unless</span> <span class='ivar'>@put_string_exists_header</span>
      <span class='id identifier rubyid_opoo'>opoo</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>String &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_str'>str</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; still exists in these files:</span><span class='tstring_end'>&quot;</span></span>
      <span class='ivar'>@put_string_exists_header</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>end</span>

    <span class='ivar'>@put_filenames</span> <span class='op'>||=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>

    <span class='kw'>return</span> <span class='kw'>if</span> <span class='ivar'>@put_filenames</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_filename'>filename</span><span class='rparen'>)</span>

    <span class='id identifier rubyid_puts'>puts</span> <span class='const'><span class='object_link'><a href="Formatter.html" title="Formatter (module)">Formatter</a></span></span><span class='period'>.</span><span class='id identifier rubyid_error'><span class='object_link'><a href="Formatter.html#error-class_method" title="Formatter.error (method)">error</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_filename'>filename</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span>
    <span class='ivar'>@put_filenames</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_filename'>filename</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='kw'>false</span>

  <span class='id identifier rubyid_keg'>keg</span><span class='period'>.</span><span class='id identifier rubyid_each_unique_file_matching'>each_unique_file_matching</span><span class='lparen'>(</span><span class='id identifier rubyid_string'>string</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_file'>file</span><span class='op'>|</span>
    <span class='kw'>next</span> <span class='kw'>if</span> <span class='const'><span class='object_link'><a href="Metafiles.html" title="Metafiles (module)">Metafiles</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Metafiles.html#EXTENSIONS-constant" title="Metafiles::EXTENSIONS (constant)">EXTENSIONS</a></span></span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='period'>.</span><span class='id identifier rubyid_extname'>extname</span><span class='rparen'>)</span> <span class='comment'># Skip document files.
</span>
    <span class='id identifier rubyid_linked_libraries'>linked_libraries</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Keg.html" title="Keg (class)">Keg</a></span></span><span class='period'>.</span><span class='id identifier rubyid_file_linked_libraries'><span class='object_link'><a href="Keg.html#file_linked_libraries-class_method" title="Keg.file_linked_libraries (method)">file_linked_libraries</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='comma'>,</span> <span class='id identifier rubyid_string'>string</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_result'>result</span> <span class='op'>||=</span> <span class='op'>!</span><span class='id identifier rubyid_linked_libraries'>linked_libraries</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_verbose?'>verbose?</span>
      <span class='id identifier rubyid_print_filename'>print_filename</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_string'>string</span><span class='comma'>,</span> <span class='id identifier rubyid_file'>file</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_linked_libraries'>linked_libraries</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
      <span class='id identifier rubyid_linked_libraries'>linked_libraries</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_lib'>lib</span><span class='op'>|</span>
        <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="Tty.html" title="Tty (module)">Tty</a></span></span><span class='period'>.</span><span class='id identifier rubyid_bold'>bold</span><span class='embexpr_end'>}</span><span class='tstring_content'>--&gt;</span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="Tty.html" title="Tty (module)">Tty</a></span></span><span class='period'>.</span><span class='id identifier rubyid_reset'>reset</span><span class='embexpr_end'>}</span><span class='tstring_content'> links to </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_lib'>lib</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_text_matches'>text_matches</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>

    <span class='comment'># Use strings to search through the file for each string
</span>    <span class='const'><span class='object_link'><a href="Utils.html" title="Utils (module)">Utils</a></span></span><span class='period'>.</span><span class='id identifier rubyid_popen_read'><span class='object_link'><a href="Utils.html#popen_read-class_method" title="Utils.popen_read (method)">popen_read</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>strings</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-t</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>x</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_file'>file</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_io'>io</span><span class='op'>|</span>
      <span class='kw'>until</span> <span class='id identifier rubyid_io'>io</span><span class='period'>.</span><span class='id identifier rubyid_eof?'>eof?</span>
        <span class='id identifier rubyid_str'>str</span> <span class='op'>=</span> <span class='id identifier rubyid_io'>io</span><span class='period'>.</span><span class='id identifier rubyid_readline'>readline</span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span>
        <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_ignores'>ignores</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span> <span class='op'>=~</span> <span class='id identifier rubyid_str'>str</span> <span class='rbrace'>}</span>
        <span class='kw'>next</span> <span class='kw'>unless</span> <span class='id identifier rubyid_str'>str</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='id identifier rubyid_string'>string</span>

        <span class='id identifier rubyid_offset'>offset</span><span class='comma'>,</span> <span class='id identifier rubyid_match'>match</span> <span class='op'>=</span> <span class='id identifier rubyid_str'>str</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>2</span><span class='rparen'>)</span>
        <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_linked_libraries'>linked_libraries</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='id identifier rubyid_match'>match</span> <span class='comment'># Don&#39;t bother reporting a string if it was found by otool
</span>
        <span class='comment'># Do not report matches to files that do not exist.
</span>        <span class='kw'>next</span> <span class='kw'>unless</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span> <span class='id identifier rubyid_match'>match</span>

        <span class='comment'># Do not report matches to build dependencies.
</span>        <span class='kw'>if</span> <span class='id identifier rubyid_formula_and_runtime_deps_names'>formula_and_runtime_deps_names</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
          <span class='kw'>begin</span>
            <span class='id identifier rubyid_keg_name'>keg_name</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Keg.html" title="Keg (class)">Keg</a></span></span><span class='period'>.</span><span class='id identifier rubyid_for'><span class='object_link'><a href="Keg.html#for-class_method" title="Keg.for (method)">for</a></span></span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="Pathname.html" title="Pathname (class)">Pathname</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_match'>match</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
            <span class='kw'>next</span> <span class='kw'>unless</span> <span class='id identifier rubyid_formula_and_runtime_deps_names'>formula_and_runtime_deps_names</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='id identifier rubyid_keg_name'>keg_name</span>
          <span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="NotAKegError.html" title="NotAKegError (class)">NotAKegError</a></span></span>
            <span class='kw'>nil</span>
          <span class='kw'>end</span>
        <span class='kw'>end</span>

        <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='kw'>true</span>
        <span class='id identifier rubyid_text_matches'>text_matches</span> <span class='op'>&lt;&lt;</span> <span class='lbracket'>[</span><span class='id identifier rubyid_match'>match</span><span class='comma'>,</span> <span class='id identifier rubyid_offset'>offset</span><span class='rbracket'>]</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='kw'>next</span> <span class='kw'>unless</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_verbose?'>verbose?</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_text_matches'>text_matches</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

    <span class='id identifier rubyid_print_filename'>print_filename</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_string'>string</span><span class='comma'>,</span> <span class='id identifier rubyid_file'>file</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_text_matches'>text_matches</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="top-level-namespace.html#MAXIMUM_STRING_MATCHES-constant" title="MAXIMUM_STRING_MATCHES (constant)">MAXIMUM_STRING_MATCHES</a></span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_match'>match</span><span class='comma'>,</span> <span class='id identifier rubyid_offset'>offset</span><span class='op'>|</span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="Tty.html" title="Tty (module)">Tty</a></span></span><span class='period'>.</span><span class='id identifier rubyid_bold'>bold</span><span class='embexpr_end'>}</span><span class='tstring_content'>--&gt;</span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="Tty.html" title="Tty (module)">Tty</a></span></span><span class='period'>.</span><span class='id identifier rubyid_reset'>reset</span><span class='embexpr_end'>}</span><span class='tstring_content'> match &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_match'>match</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; at offset </span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="Tty.html" title="Tty (module)">Tty</a></span></span><span class='period'>.</span><span class='id identifier rubyid_bold'>bold</span><span class='embexpr_end'>}</span><span class='tstring_content'>0x</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_offset'>offset</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="Tty.html" title="Tty (module)">Tty</a></span></span><span class='period'>.</span><span class='id identifier rubyid_reset'>reset</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_text_matches'>text_matches</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='const'><span class='object_link'><a href="top-level-namespace.html#MAXIMUM_STRING_MATCHES-constant" title="MAXIMUM_STRING_MATCHES (constant)">MAXIMUM_STRING_MATCHES</a></span></span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Only the first </span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="top-level-namespace.html#MAXIMUM_STRING_MATCHES-constant" title="MAXIMUM_STRING_MATCHES (constant)">MAXIMUM_STRING_MATCHES</a></span></span><span class='embexpr_end'>}</span><span class='tstring_content'> matches were output</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_keg_contain_absolute_symlink_starting_with?'>keg_contain_absolute_symlink_starting_with?</span><span class='lparen'>(</span><span class='id identifier rubyid_string'>string</span><span class='comma'>,</span> <span class='id identifier rubyid_keg'>keg</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='id identifier rubyid_result'>result</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="keg_contain_absolute_symlink_starting_with?-class_method">
  
    .<strong>keg_contain_absolute_symlink_starting_with?</strong>(string, keg)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/bottle.rb', line 186</span>

<span class='kw'>def</span> <span class='id identifier rubyid_keg_contain_absolute_symlink_starting_with?'>keg_contain_absolute_symlink_starting_with?</span><span class='lparen'>(</span><span class='id identifier rubyid_string'>string</span><span class='comma'>,</span> <span class='id identifier rubyid_keg'>keg</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_absolute_symlinks_start_with_string'>absolute_symlinks_start_with_string</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_keg'>keg</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_pn'>pn</span><span class='op'>|</span>
    <span class='kw'>next</span> <span class='kw'>unless</span> <span class='id identifier rubyid_pn'>pn</span><span class='period'>.</span><span class='id identifier rubyid_symlink?'>symlink?</span> <span class='op'>&amp;&amp;</span> <span class='lparen'>(</span><span class='id identifier rubyid_link'>link</span> <span class='op'>=</span> <span class='id identifier rubyid_pn'>pn</span><span class='period'>.</span><span class='id identifier rubyid_readlink'>readlink</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_absolute?'>absolute?</span>

    <span class='id identifier rubyid_absolute_symlinks_start_with_string'>absolute_symlinks_start_with_string</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_pn'>pn</span> <span class='kw'>if</span> <span class='id identifier rubyid_link'>link</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_start_with?'>start_with?</span><span class='lparen'>(</span><span class='id identifier rubyid_string'>string</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_verbose?'>verbose?</span>
    <span class='kw'>unless</span> <span class='id identifier rubyid_absolute_symlinks_start_with_string'>absolute_symlinks_start_with_string</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
      <span class='id identifier rubyid_opoo'>opoo</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Absolute symlink starting with </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_string'>string</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_absolute_symlinks_start_with_string'>absolute_symlinks_start_with_string</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_pn'>pn</span><span class='op'>|</span>
        <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pn'>pn</span><span class='embexpr_end'>}</span><span class='tstring_content'> -&gt; </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pn'>pn</span><span class='period'>.</span><span class='id identifier rubyid_resolved_path'>resolved_path</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='op'>!</span><span class='id identifier rubyid_absolute_symlinks_start_with_string'>absolute_symlinks_start_with_string</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="leaves-class_method">
  
    .<strong>leaves</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/leaves.rb', line 21</span>

<span class='kw'>def</span> <span class='id identifier rubyid_leaves'>leaves</span>
  <span class='id identifier rubyid_leaves_args'>leaves_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='id identifier rubyid_installed'>installed</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Formula.html" title="Formula (class)">Formula</a></span></span><span class='period'>.</span><span class='id identifier rubyid_installed'>installed</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span>

  <span class='id identifier rubyid_deps_of_installed'>deps_of_installed</span> <span class='op'>=</span> <span class='id identifier rubyid_installed'>installed</span><span class='period'>.</span><span class='id identifier rubyid_flat_map'>flat_map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
    <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_runtime_dependencies'>runtime_dependencies</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_dep'>dep</span><span class='op'>|</span>
      <span class='kw'>begin</span>
        <span class='id identifier rubyid_dep'>dep</span><span class='period'>.</span><span class='id identifier rubyid_to_formula'>to_formula</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span>
      <span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="FormulaUnavailableError.html" title="FormulaUnavailableError (class)">FormulaUnavailableError</a></span></span>
        <span class='id identifier rubyid_dep'>dep</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_leaves'>leaves</span> <span class='op'>=</span> <span class='id identifier rubyid_installed'>installed</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:full_name</span><span class='rparen'>)</span> <span class='op'>-</span> <span class='id identifier rubyid_deps_of_installed'>deps_of_installed</span>
  <span class='id identifier rubyid_leaves'>leaves</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_method'>method</span><span class='lparen'>(</span><span class='symbol'>:puts</span><span class='rparen'>)</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="leaves_args-class_method">
  
    .<strong>leaves_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


10
11
12
13
14
15
16
17
18
19</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/leaves.rb', line 10</span>

<span class='kw'>def</span> <span class='id identifier rubyid_leaves_args'>leaves_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `leaves`
</span><span class='tstring_content'>
</span><span class='tstring_content'>      List installed formulae that are not dependencies of another installed formula.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:debug</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="link-class_method">
  
    .<strong>link</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="KegUnspecifiedError.html" title="KegUnspecifiedError (class)">KegUnspecifiedError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/link.rb', line 31</span>

<span class='kw'>def</span> <span class='id identifier rubyid_link'>link</span>
  <span class='id identifier rubyid_link_args'>link_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="KegUnspecifiedError.html" title="KegUnspecifiedError (class)">KegUnspecifiedError</a></span></span> <span class='kw'>if</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='id identifier rubyid_mode'>mode</span> <span class='op'>=</span> <span class='const'>OpenStruct</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>

  <span class='id identifier rubyid_mode'>mode</span><span class='period'>.</span><span class='id identifier rubyid_overwrite'>overwrite</span> <span class='op'>=</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_overwrite?'>overwrite?</span>
  <span class='id identifier rubyid_mode'>mode</span><span class='period'>.</span><span class='id identifier rubyid_dry_run'>dry_run</span> <span class='op'>=</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_dry_run?'>dry_run?</span>

  <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_kegs'>kegs</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_keg'>keg</span><span class='op'>|</span>
    <span class='id identifier rubyid_keg_only'>keg_only</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Formulary.html" title="Formulary (module)">Formulary</a></span></span><span class='period'>.</span><span class='id identifier rubyid_keg_only?'><span class='object_link'><a href="Formulary.html#keg_only%3F-class_method" title="Formulary.keg_only? (method)">keg_only?</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_keg'>keg</span><span class='period'>.</span><span class='id identifier rubyid_rack'>rack</span><span class='rparen'>)</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_keg'>keg</span><span class='period'>.</span><span class='id identifier rubyid_linked?'>linked?</span>
      <span class='id identifier rubyid_opoo'>opoo</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Already linked: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_keg'>keg</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_name_and_flag'>name_and_flag</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_keg_only'>keg_only</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--force </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_keg'>keg</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_keg'>keg</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>To relink: brew unlink </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_keg'>keg</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> &amp;&amp; brew link </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name_and_flag'>name_and_flag</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>next</span>
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_mode'>mode</span><span class='period'>.</span><span class='id identifier rubyid_dry_run'>dry_run</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_mode'>mode</span><span class='period'>.</span><span class='id identifier rubyid_overwrite'>overwrite</span>
        <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Would remove:</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Would link:</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_keg'>keg</span><span class='period'>.</span><span class='id identifier rubyid_link'>link</span><span class='lparen'>(</span><span class='id identifier rubyid_mode'>mode</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_puts_keg_only_path_message'>puts_keg_only_path_message</span><span class='lparen'>(</span><span class='id identifier rubyid_keg'>keg</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_keg_only'>keg_only</span>
      <span class='kw'>next</span>
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_keg_only'>keg_only</span>
      <span class='kw'>if</span> <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='period'>.</span><span class='id identifier rubyid_default_prefix?'><span class='object_link'><a href="#default_prefix%3F-class_method" title="Homebrew.default_prefix? (method)">default_prefix?</a></span></span>
        <span class='id identifier rubyid_f'>f</span> <span class='op'>=</span> <span class='id identifier rubyid_keg'>keg</span><span class='period'>.</span><span class='id identifier rubyid_to_formula'>to_formula</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_keg_only_reason'>keg_only_reason</span><span class='period'>.</span><span class='id identifier rubyid_reason'>reason</span> <span class='op'>==</span> <span class='symbol'>:provided_by_macos</span>
          <span class='id identifier rubyid_caveats'>caveats</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Caveats.html" title="Caveats (class)">Caveats</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Caveats.html#initialize-instance_method" title="Caveats#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='rparen'>)</span>
          <span class='id identifier rubyid_opoo'>opoo</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>            Refusing to link macOS-provided software: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_keg'>keg</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>
</span><span class='tstring_content'>            </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_caveats'>caveats</span><span class='period'>.</span><span class='id identifier rubyid_keg_only_text'>keg_only_text</span><span class='lparen'>(</span><span class='label'>skip_reason:</span> <span class='kw'>true</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_strip'>strip</span><span class='embexpr_end'>}</span><span class='tstring_content'>
</span><span class='heredoc_end'>          EOS
</span>          <span class='kw'>next</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>

      <span class='kw'>unless</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_force?'>force?</span>
        <span class='id identifier rubyid_opoo'>opoo</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_keg'>keg</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> is keg-only and must be linked with --force</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_puts_keg_only_path_message'>puts_keg_only_path_message</span><span class='lparen'>(</span><span class='id identifier rubyid_keg'>keg</span><span class='rparen'>)</span>
        <span class='kw'>next</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_keg'>keg</span><span class='period'>.</span><span class='id identifier rubyid_lock'>lock</span> <span class='kw'>do</span>
      <span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Linking </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_keg'>keg</span><span class='embexpr_end'>}</span><span class='tstring_content'>... </span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_verbose?'>verbose?</span>

      <span class='kw'>begin</span>
        <span class='id identifier rubyid_n'>n</span> <span class='op'>=</span> <span class='id identifier rubyid_keg'>keg</span><span class='period'>.</span><span class='id identifier rubyid_link'>link</span><span class='lparen'>(</span><span class='id identifier rubyid_mode'>mode</span><span class='rparen'>)</span>
      <span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="Keg.html" title="Keg (class)">Keg</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Keg/LinkError.html" title="Keg::LinkError (class)">LinkError</a></span></span>
        <span class='id identifier rubyid_puts'>puts</span>
        <span class='id identifier rubyid_raise'>raise</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_n'>n</span><span class='embexpr_end'>}</span><span class='tstring_content'> symlinks created</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>

      <span class='id identifier rubyid_puts_keg_only_path_message'>puts_keg_only_path_message</span><span class='lparen'>(</span><span class='id identifier rubyid_keg'>keg</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_keg_only'>keg_only</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_homebrew_developer?'>homebrew_developer?</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="link_args-class_method">
  
    .<strong>link_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/link.rb', line 10</span>

<span class='kw'>def</span> <span class='id identifier rubyid_link_args'>link_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `link`, `ln` [&lt;options&gt;] &lt;formula&gt;
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Symlink all of &lt;formula&gt;&#39;s installed files into Homebrew&#39;s prefix. This
</span><span class='tstring_content'>      is done automatically when you install formulae but can be useful for DIY
</span><span class='tstring_content'>      installations.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--overwrite</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Delete files that already exist in the prefix while linking.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--dry-run</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>List files which would be linked or deleted by </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>`brew link --overwrite` without actually linking or deleting any files.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:force</span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Allow keg-only formulae to be linked.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:verbose</span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:debug</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="link_completions_manpages_and_docs-class_method">
  
    .<strong>link_completions_manpages_and_docs</strong>(repository = HOMEBREW_REPOSITORY)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


160
161
162
163
164
165
166
167
168
169
170</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/update-report.rb', line 160</span>

<span class='kw'>def</span> <span class='id identifier rubyid_link_completions_manpages_and_docs'>link_completions_manpages_and_docs</span><span class='lparen'>(</span><span class='id identifier rubyid_repository'>repository</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_REPOSITORY-constant" title="HOMEBREW_REPOSITORY (constant)">HOMEBREW_REPOSITORY</a></span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_command'>command</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>brew update</span><span class='tstring_end'>&quot;</span></span>
  <span class='const'><span class='object_link'><a href="Utils.html" title="Utils (module)">Utils</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Utils/Link.html" title="Utils::Link (module)">Link</a></span></span><span class='period'>.</span><span class='id identifier rubyid_link_completions'><span class='object_link'><a href="Utils/Link.html#link_completions-class_method" title="Utils::Link.link_completions (method)">link_completions</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_repository'>repository</span><span class='comma'>,</span> <span class='id identifier rubyid_command'>command</span><span class='rparen'>)</span>
  <span class='const'><span class='object_link'><a href="Utils.html" title="Utils (module)">Utils</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Utils/Link.html" title="Utils::Link (module)">Link</a></span></span><span class='period'>.</span><span class='id identifier rubyid_link_manpages'><span class='object_link'><a href="Utils/Link.html#link_manpages-class_method" title="Utils::Link.link_manpages (method)">link_manpages</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_repository'>repository</span><span class='comma'>,</span> <span class='id identifier rubyid_command'>command</span><span class='rparen'>)</span>
  <span class='const'><span class='object_link'><a href="Utils.html" title="Utils (module)">Utils</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Utils/Link.html" title="Utils::Link (module)">Link</a></span></span><span class='period'>.</span><span class='id identifier rubyid_link_docs'><span class='object_link'><a href="Utils/Link.html#link_docs-class_method" title="Utils::Link.link_docs (method)">link_docs</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_repository'>repository</span><span class='comma'>,</span> <span class='id identifier rubyid_command'>command</span><span class='rparen'>)</span>
<span class='kw'>rescue</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
  <span class='id identifier rubyid_ofail'>ofail</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>    Failed to link all completions, docs and manpages:
</span><span class='tstring_content'>      </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span><span class='embexpr_end'>}</span><span class='tstring_content'>
</span><span class='heredoc_end'>  EOS
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="linkage-class_method">
  
    .<strong>linkage</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/linkage.rb', line 32</span>

<span class='kw'>def</span> <span class='id identifier rubyid_linkage'>linkage</span>
  <span class='id identifier rubyid_linkage_args'>linkage_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='const'><span class='object_link'><a href="CacheStoreDatabase.html" title="CacheStoreDatabase (class)">CacheStoreDatabase</a></span></span><span class='period'>.</span><span class='id identifier rubyid_use'><span class='object_link'><a href="CacheStoreDatabase.html#use-class_method" title="CacheStoreDatabase.use (method)">use</a></span></span><span class='lparen'>(</span><span class='symbol'>:linkage</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_db'>db</span><span class='op'>|</span>
    <span class='id identifier rubyid_kegs'><span class='object_link'><a href="HomebrewArgvExtension.html#kegs-instance_method" title="HomebrewArgvExtension#kegs (method)">kegs</a></span></span> <span class='op'>=</span> <span class='kw'>if</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_kegs'>kegs</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
      <span class='const'><span class='object_link'><a href="Formula.html" title="Formula (class)">Formula</a></span></span><span class='period'>.</span><span class='id identifier rubyid_installed'>installed</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:opt_or_installed_prefix_keg</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_reject'>reject</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:nil?</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_kegs'>kegs</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_kegs'><span class='object_link'><a href="HomebrewArgvExtension.html#kegs-instance_method" title="HomebrewArgvExtension#kegs (method)">kegs</a></span></span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_keg'>keg</span><span class='op'>|</span>
      <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Checking </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_keg'>keg</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> linkage</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_kegs'><span class='object_link'><a href="HomebrewArgvExtension.html#kegs-instance_method" title="HomebrewArgvExtension#kegs (method)">kegs</a></span></span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='int'>1</span>

      <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="LinkageChecker.html" title="LinkageChecker (class)">LinkageChecker</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="LinkageChecker.html#initialize-instance_method" title="LinkageChecker#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_keg'>keg</span><span class='comma'>,</span> <span class='label'>cache_db:</span> <span class='id identifier rubyid_db'>db</span><span class='rparen'>)</span>

      <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_test?'>test?</span>
        <span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_display_test_output'>display_test_output</span>
        <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='period'>.</span><span class='id identifier rubyid_failed'>failed</span> <span class='op'>=</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_broken_library_linkage?'>broken_library_linkage?</span>
      <span class='kw'>elsif</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_reverse?'>reverse?</span>
        <span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_display_reverse_output'>display_reverse_output</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_display_normal_output'>display_normal_output</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="linkage_args-class_method">
  
    .<strong>linkage_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/linkage.rb', line 10</span>

<span class='kw'>def</span> <span class='id identifier rubyid_linkage_args'>linkage_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `linkage` [&lt;options&gt;] [&lt;formula&gt;]
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Check the library links from the given &lt;formula&gt; kegs. If no &lt;formula&gt; are
</span><span class='tstring_content'>      provided, check all kegs. Raises an error if run on uninstalled formulae.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--test</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Show only missing libraries and exit with a non-zero status if any missing </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>libraries are found.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--reverse</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>For every library that a keg references, print its dylib path followed by the </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>binaries that link to it.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--cached</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Print the cached linkage values stored in `HOMEBREW_CACHE`, set by a previous </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>`brew linkage` run.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:verbose</span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:debug</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="list-class_method">
  
    .<strong>list</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/list.rb', line 50</span>

<span class='kw'>def</span> <span class='id identifier rubyid_list'>list</span>
  <span class='id identifier rubyid_list_args'>list_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='kw'>return</span> <span class='id identifier rubyid_list_unbrewed'>list_unbrewed</span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_unbrewed?'>unbrewed?</span>

  <span class='comment'># Unbrewed uses the PREFIX, which will exist
</span>  <span class='comment'># Things below use the CELLAR, which doesn&#39;t until the first formula is installed.
</span>  <span class='kw'>unless</span> <span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_CELLAR-constant" title="HOMEBREW_CELLAR (constant)">HOMEBREW_CELLAR</a></span></span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="NoSuchKegError.html" title="NoSuchKegError (class)">NoSuchKegError</a></span></span><span class='comma'>,</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span> <span class='kw'>unless</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

    <span class='kw'>return</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_pinned?'>pinned?</span> <span class='op'>||</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_versions?'>versions?</span>
    <span class='id identifier rubyid_filtered_list'>filtered_list</span>
  <span class='kw'>elsif</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_full_name?'>full_name?</span>
      <span class='id identifier rubyid_full_names'>full_names</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Formula.html" title="Formula (class)">Formula</a></span></span><span class='period'>.</span><span class='id identifier rubyid_installed'>installed</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:full_name</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_tap_and_name_comparison'>tap_and_name_comparison</span><span class='rparen'>)</span>
      <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_full_names'>full_names</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

      <span class='id identifier rubyid_puts'>puts</span> <span class='const'><span class='object_link'><a href="Formatter.html" title="Formatter (module)">Formatter</a></span></span><span class='period'>.</span><span class='id identifier rubyid_columns'><span class='object_link'><a href="Formatter.html#columns-class_method" title="Formatter.columns (method)">columns</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_full_names'>full_names</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CLICOLOR</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>nil</span>
      <span class='id identifier rubyid_safe_system'>safe_system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ls</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>*</span><span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='period'>.</span><span class='id identifier rubyid_args'><span class='object_link'><a href="#args-class_method" title="Homebrew.args (method)">args</a></span></span><span class='period'>.</span><span class='id identifier rubyid_passthrough'>passthrough</span> <span class='op'>&lt;&lt;</span> <span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_CELLAR-constant" title="HOMEBREW_CELLAR (constant)">HOMEBREW_CELLAR</a></span></span>
    <span class='kw'>end</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_verbose?'>verbose?</span> <span class='op'>||</span> <span class='op'>!</span><span class='gvar'>$stdout</span><span class='period'>.</span><span class='id identifier rubyid_tty?'>tty?</span>
    <span class='id identifier rubyid_system_command!'>system_command!</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>find</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>args:</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_kegs'>kegs</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:to_s</span><span class='rparen'>)</span> <span class='op'>+</span> <span class='qwords_beg'>%w[</span><span class='tstring_content'>-not</span><span class='words_sep'> </span><span class='tstring_content'>-type</span><span class='words_sep'> </span><span class='tstring_content'>d</span><span class='words_sep'> </span><span class='tstring_content'>-print</span><span class='tstring_end'>]</span></span><span class='comma'>,</span> <span class='label'>print_stdout:</span> <span class='kw'>true</span>
  <span class='kw'>else</span>
    <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_kegs'>kegs</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_keg'>keg</span><span class='op'>|</span> <span class='const'><span class='object_link'><a href="PrettyListing.html" title="PrettyListing (class)">PrettyListing</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="PrettyListing.html#initialize-instance_method" title="PrettyListing#initialize (method)">new</a></span></span> <span class='id identifier rubyid_keg'>keg</span> <span class='rbrace'>}</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="list_args-class_method">
  
    .<strong>list_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/list.rb', line 10</span>

<span class='kw'>def</span> <span class='id identifier rubyid_list_args'>list_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `list`, `ls` [&lt;options&gt;] [&lt;formula&gt;]
</span><span class='tstring_content'>
</span><span class='tstring_content'>      List all installed formulae.
</span><span class='tstring_content'>
</span><span class='tstring_content'>      If &lt;formula&gt; is provided, summarize the paths within its current keg.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--full-name</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Print formulae with fully-qualified names. If `--full-name` is not </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>passed, other options (i.e. `-1`, `-l`, `-r` and `-t`) are passed to `ls`(1) </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>which produces the actual output.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--unbrewed</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>List files in Homebrew&#39;s prefix not installed by Homebrew.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--versions</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Show the version number for installed formulae, or only the specified </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>formulae if &lt;formula&gt; are provided.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--multiple</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>depends_on:</span>  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--versions</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Only show formulae with multiple versions installed.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--pinned</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Show the versions of pinned formulae, or only the specified (pinned) </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>formulae if &lt;formula&gt; are provided. See also `pin`, `unpin`.</span><span class='tstring_end'>&quot;</span></span>
    <span class='comment'># passed through to ls
</span>    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-1</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Force output to be one entry per line. </span><span class='tstring_end'>&quot;</span></span> \
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>This is the default when output is not to a terminal.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-l</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>List in long format. If the output is to a terminal, </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a total sum for all the file sizes is printed before the long listing.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-r</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Reverse the order of the sort to list the oldest entries first.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-t</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Sort by time modified, listing most recently modified first.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:verbose</span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:debug</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="list_unbrewed-class_method">
  
    .<strong>list_unbrewed</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/list.rb', line 105</span>

<span class='kw'>def</span> <span class='id identifier rubyid_list_unbrewed'>list_unbrewed</span>
  <span class='id identifier rubyid_dirs'>dirs</span>  <span class='op'>=</span> <span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_PREFIX-constant" title="HOMEBREW_PREFIX (constant)">HOMEBREW_PREFIX</a></span></span><span class='period'>.</span><span class='id identifier rubyid_subdirs'>subdirs</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_dir'>dir</span><span class='op'>|</span> <span class='id identifier rubyid_dir'>dir</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_dirs'>dirs</span> <span class='op'>-=</span> <span class='qwords_beg'>%w[</span><span class='tstring_content'>Library</span><span class='words_sep'> </span><span class='tstring_content'>Cellar</span><span class='words_sep'> </span><span class='tstring_content'>.git</span><span class='tstring_end'>]</span></span>

  <span class='comment'># Exclude cache, logs, and repository, if they are located under the prefix.
</span>  <span class='lbracket'>[</span><span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_CACHE-constant" title="HOMEBREW_CACHE (constant)">HOMEBREW_CACHE</a></span></span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_LOGS-constant" title="HOMEBREW_LOGS (constant)">HOMEBREW_LOGS</a></span></span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_REPOSITORY-constant" title="HOMEBREW_REPOSITORY (constant)">HOMEBREW_REPOSITORY</a></span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_dir'>dir</span><span class='op'>|</span>
    <span class='id identifier rubyid_dirs'>dirs</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span> <span class='id identifier rubyid_dir'>dir</span><span class='period'>.</span><span class='id identifier rubyid_relative_path_from'>relative_path_from</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_PREFIX-constant" title="HOMEBREW_PREFIX (constant)">HOMEBREW_PREFIX</a></span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_dirs'>dirs</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>etc</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_dirs'>dirs</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>var</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_arguments'>arguments</span> <span class='op'>=</span> <span class='id identifier rubyid_dirs'>dirs</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span> <span class='op'>+</span> <span class='qwords_beg'>%w[</span><span class='tstring_content'>-type</span><span class='words_sep'> </span><span class='tstring_content'>f</span><span class='words_sep'> </span><span class='tstring_content'>(</span><span class='tstring_end'>]</span></span>
  <span class='id identifier rubyid_arguments'>arguments</span><span class='period'>.</span><span class='id identifier rubyid_concat'>concat</span> <span class='const'><span class='object_link'><a href="#UNBREWED_EXCLUDE_FILES-constant" title="Homebrew::UNBREWED_EXCLUDE_FILES (constant)">UNBREWED_EXCLUDE_FILES</a></span></span><span class='period'>.</span><span class='id identifier rubyid_flat_map'>flat_map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span> <span class='words_beg'>%W[</span><span class='tstring_content'>!</span><span class='words_sep'> </span><span class='tstring_content'>-name</span><span class='words_sep'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='embexpr_end'>}</span><span class='tstring_end'>]</span></span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_arguments'>arguments</span><span class='period'>.</span><span class='id identifier rubyid_concat'>concat</span> <span class='const'><span class='object_link'><a href="#UNBREWED_EXCLUDE_PATHS-constant" title="Homebrew::UNBREWED_EXCLUDE_PATHS (constant)">UNBREWED_EXCLUDE_PATHS</a></span></span><span class='period'>.</span><span class='id identifier rubyid_flat_map'>flat_map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_d'>d</span><span class='op'>|</span> <span class='words_beg'>%W[</span><span class='tstring_content'>!</span><span class='words_sep'> </span><span class='tstring_content'>-path</span><span class='words_sep'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_d'>d</span><span class='embexpr_end'>}</span><span class='tstring_end'>]</span></span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_arguments'>arguments</span><span class='period'>.</span><span class='id identifier rubyid_concat'>concat</span> <span class='qwords_beg'>%w[</span><span class='tstring_content'>)</span><span class='tstring_end'>]</span></span>

  <span class='id identifier rubyid_cd'>cd</span> <span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_PREFIX-constant" title="HOMEBREW_PREFIX (constant)">HOMEBREW_PREFIX</a></span></span>
  <span class='id identifier rubyid_safe_system'>safe_system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>find</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_arguments'>arguments</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="load_logs-class_method">
  
    .<strong>load_logs</strong>(dir)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


109
110
111
112
113
114
115
116
117
118
119
120
121
122
123</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/gist-logs.rb', line 109</span>

<span class='kw'>def</span> <span class='id identifier rubyid_load_logs'>load_logs</span><span class='lparen'>(</span><span class='id identifier rubyid_dir'>dir</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_logs'>logs</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_dir'>dir</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span>
    <span class='id identifier rubyid_dir'>dir</span><span class='period'>.</span><span class='id identifier rubyid_children'>children</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_file'>file</span><span class='op'>|</span>
      <span class='id identifier rubyid_contents'>contents</span> <span class='op'>=</span> <span class='id identifier rubyid_file'>file</span><span class='period'>.</span><span class='id identifier rubyid_size?'>size?</span> <span class='op'>?</span> <span class='id identifier rubyid_file'>file</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>empty log</span><span class='tstring_end'>&quot;</span></span>
      <span class='comment'># small enough to avoid GitHub &quot;unicorn&quot; page-load-timeout errors
</span>      <span class='id identifier rubyid_max_file_size'>max_file_size</span> <span class='op'>=</span> <span class='int'>1_000_000</span>
      <span class='id identifier rubyid_contents'>contents</span> <span class='op'>=</span> <span class='id identifier rubyid_truncate_text_to_approximate_size'>truncate_text_to_approximate_size</span><span class='lparen'>(</span><span class='id identifier rubyid_contents'>contents</span><span class='comma'>,</span> <span class='id identifier rubyid_max_file_size'>max_file_size</span><span class='comma'>,</span> <span class='label'>front_weight:</span> <span class='float'>0.2</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_logs'>logs</span><span class='lbracket'>[</span><span class='id identifier rubyid_file'>file</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='label'>content:</span> <span class='id identifier rubyid_contents'>contents</span> <span class='rbrace'>}</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>No logs.</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_logs'>logs</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='id identifier rubyid_logs'>logs</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="log-class_method">
  
    .<strong>log</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


28
29
30
31
32
33
34
35
36
37
38</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/log.rb', line 28</span>

<span class='kw'>def</span> <span class='id identifier rubyid_log'>log</span>
  <span class='id identifier rubyid_log_args'>log_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='kw'>if</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_git_log'>git_log</span> <span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_REPOSITORY-constant" title="HOMEBREW_REPOSITORY (constant)">HOMEBREW_REPOSITORY</a></span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Formulary.html" title="Formulary (module)">Formulary</a></span></span><span class='period'>.</span><span class='id identifier rubyid_path'><span class='object_link'><a href="Formulary.html#path-class_method" title="Formulary.path (method)">path</a></span></span><span class='lparen'>(</span><span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_tap'>tap</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Tap.html" title="Tap (class)">Tap</a></span></span><span class='period'>.</span><span class='id identifier rubyid_from_path'><span class='object_link'><a href="Tap.html#from_path-class_method" title="Tap.from_path (method)">from_path</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_git_log'>git_log</span> <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_dirname'>dirname</span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_tap'>tap</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="log_args-class_method">
  
    .<strong>log_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/log.rb', line 9</span>

<span class='kw'>def</span> <span class='id identifier rubyid_log_args'>log_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `log` [&lt;options&gt;] [&lt;formula&gt;]
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Show the `git log` for &lt;formula&gt;, or show the log for the Homebrew repository
</span><span class='tstring_content'>      if no formula is provided.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-p</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-u</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--patch</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Also print patch from commit.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--stat</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Also print diffstat from commit.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--oneline</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Print only one line per commit.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_flag'>flag</span>   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-1</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--max-count</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Print only one or a specified number of commits.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="login!-class_method">
  
    .<strong>login!</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


101
102
103
104
105
106
107</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/gist-logs.rb', line 101</span>

<span class='kw'>def</span> <span class='id identifier rubyid_login!'>login!</span>
  <span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GitHub User: </span><span class='tstring_end'>&quot;</span></span>
  <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HOMEBREW_GITHUB_API_USERNAME</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='gvar'>$stdin</span><span class='period'>.</span><span class='id identifier rubyid_gets'>gets</span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span>
  <span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Password: </span><span class='tstring_end'>&quot;</span></span>
  <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HOMEBREW_GITHUB_API_PASSWORD</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_noecho_gets'>noecho_gets</span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span>
  <span class='id identifier rubyid_puts'>puts</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="man-class_method">
  
    .<strong>man</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="UsageError.html" title="UsageError (class)">UsageError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


36
37
38
39
40
41
42
43
44
45
46
47
48
49
50</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/man.rb', line 36</span>

<span class='kw'>def</span> <span class='id identifier rubyid_man'>man</span>
  <span class='id identifier rubyid_man_args'>man_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="UsageError.html" title="UsageError (class)">UsageError</a></span></span> <span class='kw'>unless</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='id identifier rubyid_odie'>odie</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>`brew man --link` is now done automatically by `brew update`.</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_link?'>link?</span>

  <span class='id identifier rubyid_regenerate_man_pages'>regenerate_man_pages</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_system'>system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-C</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_REPOSITORY-constant" title="HOMEBREW_REPOSITORY (constant)">HOMEBREW_REPOSITORY</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>diff</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--quiet</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>docs/Manpage.md</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>manpages</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>No changes to manpage output detected.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_fail_if_changed?'>fail_if_changed?</span>
    <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='period'>.</span><span class='id identifier rubyid_failed'>failed</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="man_args-class_method">
  
    .<strong>man_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/man.rb', line 19</span>

<span class='kw'>def</span> <span class='id identifier rubyid_man_args'>man_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span>
<span class='tstring_content'>      `man` [&lt;options&gt;]
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Generate Homebrew&#39;s manpages.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--fail-if-changed</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Return a failing status code if changes are detected in the manpage outputs. This </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>can be used to notify CI when the manpages are out of date. Additionally, </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the date used in new manpages will match those in the existing manpages (to allow </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>comparison without factoring in the date).</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--link</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>This is now done automatically by `brew update`.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="merge-class_method">
  
    .<strong>merge</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501
502
503
504
505
506
507
508
509
510
511
512
513
514
515
516
517
518
519
520
521
522
523
524
525
526
527
528
529
530
531
532
533
534
535
536
537
538
539
540
541
542
543
544
545
546
547
548
549
550
551
552
553
554
555
556</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/bottle.rb', line 429</span>

<span class='kw'>def</span> <span class='id identifier rubyid_merge'>merge</span>
  <span class='id identifier rubyid_write'>write</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_write?'>write?</span>

  <span class='id identifier rubyid_bottles_hash'>bottles_hash</span> <span class='op'>=</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_reduce'>reduce</span><span class='lparen'>(</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_hash'>hash</span><span class='comma'>,</span> <span class='id identifier rubyid_json_file'>json_file</span><span class='op'>|</span>
    <span class='id identifier rubyid_hash'>hash</span><span class='period'>.</span><span class='id identifier rubyid_deep_merge'>deep_merge</span><span class='lparen'>(</span><span class='const'>JSON</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="IO.html" title="IO (class)">IO</a></span></span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span><span class='lparen'>(</span><span class='id identifier rubyid_json_file'>json_file</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_bottles_hash'>bottles_hash</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_formula_name'>formula_name</span><span class='comma'>,</span> <span class='id identifier rubyid_bottle_hash'>bottle_hash</span><span class='op'>|</span>
    <span class='id identifier rubyid_ohai'>ohai</span> <span class='id identifier rubyid_formula_name'>formula_name</span>

    <span class='id identifier rubyid_bottle'>bottle</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="BottleSpecification.html" title="BottleSpecification (class)">BottleSpecification</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="BottleSpecification.html#initialize-instance_method" title="BottleSpecification#initialize (method)">new</a></span></span>
    <span class='id identifier rubyid_bottle'>bottle</span><span class='period'>.</span><span class='id identifier rubyid_root_url'>root_url</span> <span class='id identifier rubyid_bottle_hash'>bottle_hash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bottle</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>root_url</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_cellar'>cellar</span> <span class='op'>=</span> <span class='id identifier rubyid_bottle_hash'>bottle_hash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bottle</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cellar</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_cellar'>cellar</span> <span class='op'>=</span> <span class='id identifier rubyid_cellar'>cellar</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span> <span class='kw'>if</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>any</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>any_skip_relocation</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_cellar'>cellar</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_bottle'>bottle</span><span class='period'>.</span><span class='id identifier rubyid_cellar'>cellar</span> <span class='id identifier rubyid_cellar'>cellar</span>
    <span class='id identifier rubyid_bottle'>bottle</span><span class='period'>.</span><span class='id identifier rubyid_prefix'>prefix</span> <span class='id identifier rubyid_bottle_hash'>bottle_hash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bottle</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>prefix</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_bottle'>bottle</span><span class='period'>.</span><span class='id identifier rubyid_rebuild'>rebuild</span> <span class='id identifier rubyid_bottle_hash'>bottle_hash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bottle</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rebuild</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_bottle_hash'>bottle_hash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bottle</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>tags</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_tag'>tag</span><span class='comma'>,</span> <span class='id identifier rubyid_tag_hash'>tag_hash</span><span class='op'>|</span>
      <span class='id identifier rubyid_bottle'>bottle</span><span class='period'>.</span><span class='id identifier rubyid_sha256'>sha256</span> <span class='id identifier rubyid_tag_hash'>tag_hash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>sha256</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_tag'>tag</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_output'>output</span> <span class='op'>=</span> <span class='id identifier rubyid_bottle_output'>bottle_output</span> <span class='id identifier rubyid_bottle'>bottle</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_write'>write</span>
      <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Pathname.html" title="Pathname (class)">Pathname</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_REPOSITORY-constant" title="HOMEBREW_REPOSITORY (constant)">HOMEBREW_REPOSITORY</a></span></span><span class='op'>/</span><span class='id identifier rubyid_bottle_hash'>bottle_hash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>formula</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>path</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_update_or_add'>update_or_add</span> <span class='op'>=</span> <span class='kw'>nil</span>

      <span class='const'><span class='object_link'><a href="Utils.html" title="Utils (module)">Utils</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Utils/Inreplace.html" title="Utils::Inreplace (module)">Inreplace</a></span></span><span class='period'>.</span><span class='id identifier rubyid_inreplace'><span class='object_link'><a href="Utils/Inreplace.html#inreplace-class_method" title="Utils::Inreplace.inreplace (method)">inreplace</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bottle do</span><span class='tstring_end'>&quot;</span></span>
          <span class='id identifier rubyid_update_or_add'>update_or_add</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>update</span><span class='tstring_end'>&quot;</span></span>
          <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_keep_old?'>keep_old?</span>
            <span class='id identifier rubyid_mismatches'>mismatches</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
            <span class='id identifier rubyid_bottle_block_contents'>bottle_block_contents</span> <span class='op'>=</span> <span class='id identifier rubyid_s'>s</span><span class='lbracket'>[</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>  bottle do(.+?)end\n</span><span class='regexp_end'>/m</span></span><span class='comma'>,</span> <span class='int'>1</span><span class='rbracket'>]</span>
            <span class='id identifier rubyid_bottle_block_contents'>bottle_block_contents</span><span class='period'>.</span><span class='id identifier rubyid_lines'>lines</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_line'>line</span><span class='op'>|</span>
              <span class='id identifier rubyid_line'>line</span> <span class='op'>=</span> <span class='id identifier rubyid_line'>line</span><span class='period'>.</span><span class='id identifier rubyid_strip'>strip</span>
              <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_line'>line</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

              <span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_old_value_original'>old_value_original</span><span class='comma'>,</span> <span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='id identifier rubyid_tag'>tag</span> <span class='op'>=</span> <span class='id identifier rubyid_line'>line</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>4</span>
              <span class='id identifier rubyid_valid_key'>valid_key</span> <span class='op'>=</span> <span class='qwords_beg'>%w[</span><span class='tstring_content'>root_url</span><span class='words_sep'> </span><span class='tstring_content'>prefix</span><span class='words_sep'> </span><span class='tstring_content'>cellar</span><span class='words_sep'> </span><span class='tstring_content'>rebuild</span><span class='words_sep'> </span><span class='tstring_content'>sha1</span><span class='words_sep'> </span><span class='tstring_content'>sha256</span><span class='tstring_end'>]</span></span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='id identifier rubyid_key'>key</span>
              <span class='kw'>next</span> <span class='kw'>unless</span> <span class='id identifier rubyid_valid_key'>valid_key</span>

              <span class='id identifier rubyid_old_value'>old_value</span> <span class='op'>=</span> <span class='id identifier rubyid_old_value_original'>old_value_original</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&#39;\&quot;</span><span class='tstring_end'>&quot;</span></span>
              <span class='id identifier rubyid_old_value'>old_value</span> <span class='op'>=</span> <span class='id identifier rubyid_old_value'>old_value</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_key'>key</span> <span class='op'>!=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>root_url</span><span class='tstring_end'>&quot;</span></span>
              <span class='id identifier rubyid_tag'>tag</span> <span class='op'>=</span> <span class='id identifier rubyid_tag'>tag</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span>

              <span class='kw'>unless</span> <span class='id identifier rubyid_tag'>tag</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
                <span class='kw'>if</span> <span class='id identifier rubyid_bottle_hash'>bottle_hash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bottle</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>tags</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_tag'>tag</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
                  <span class='id identifier rubyid_mismatches'>mismatches</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_key'>key</span><span class='embexpr_end'>}</span><span class='tstring_content'> =&gt; </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tag'>tag</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
                <span class='kw'>else</span>
                  <span class='id identifier rubyid_bottle'>bottle</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_old_value'>old_value</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_tag'>tag</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span><span class='rparen'>)</span>
                <span class='kw'>end</span>
                <span class='kw'>next</span>
              <span class='kw'>end</span>

              <span class='id identifier rubyid_value_original'>value_original</span> <span class='op'>=</span> <span class='id identifier rubyid_bottle_hash'>bottle_hash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bottle</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_key'>key</span><span class='rbracket'>]</span>
              <span class='id identifier rubyid_value'><span class='object_link'><a href="HomebrewArgvExtension.html#value-instance_method" title="HomebrewArgvExtension#value (method)">value</a></span></span> <span class='op'>=</span> <span class='id identifier rubyid_value_original'>value_original</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
              <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_key'>key</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cellar</span><span class='tstring_end'>&quot;</span></span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_old_value'>old_value</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>any</span><span class='tstring_end'>&quot;</span></span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_value'><span class='object_link'><a href="HomebrewArgvExtension.html#value-instance_method" title="HomebrewArgvExtension#value (method)">value</a></span></span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>any_skip_relocation</span><span class='tstring_end'>&quot;</span></span>
              <span class='kw'>next</span> <span class='kw'>unless</span> <span class='id identifier rubyid_old_value'>old_value</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>||</span> <span class='id identifier rubyid_value'><span class='object_link'><a href="HomebrewArgvExtension.html#value-instance_method" title="HomebrewArgvExtension#value (method)">value</a></span></span> <span class='op'>!=</span> <span class='id identifier rubyid_old_value'>old_value</span>

              <span class='id identifier rubyid_old_value'>old_value</span> <span class='op'>=</span> <span class='id identifier rubyid_old_value_original'>old_value_original</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span>
              <span class='id identifier rubyid_value'><span class='object_link'><a href="HomebrewArgvExtension.html#value-instance_method" title="HomebrewArgvExtension#value (method)">value</a></span></span> <span class='op'>=</span> <span class='id identifier rubyid_value_original'>value_original</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span>
              <span class='id identifier rubyid_mismatches'>mismatches</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_key'>key</span><span class='embexpr_end'>}</span><span class='tstring_content'>: old: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_old_value'>old_value</span><span class='embexpr_end'>}</span><span class='tstring_content'>, new: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_value'><span class='object_link'><a href="HomebrewArgvExtension.html#value-instance_method" title="HomebrewArgvExtension#value (method)">value</a></span></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
            <span class='kw'>end</span>

            <span class='kw'>unless</span> <span class='id identifier rubyid_mismatches'>mismatches</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
              <span class='id identifier rubyid_odie'>odie</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span>
<span class='tstring_content'>                --keep-old was passed but there are changes in:
</span><span class='tstring_content'>                </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_mismatches'>mismatches</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>
</span><span class='heredoc_end'>              EOS
</span>            <span class='kw'>end</span>
            <span class='id identifier rubyid_output'>output</span> <span class='op'>=</span> <span class='id identifier rubyid_bottle_output'>bottle_output</span> <span class='id identifier rubyid_bottle'>bottle</span>
          <span class='kw'>end</span>
          <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_output'>output</span>
          <span class='id identifier rubyid_string'>string</span> <span class='op'>=</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_sub!'>sub!</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>  bottle do.+?end\n</span><span class='regexp_end'>/m</span></span><span class='comma'>,</span> <span class='id identifier rubyid_output'>output</span><span class='rparen'>)</span>
          <span class='id identifier rubyid_odie'>odie</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Bottle block update failed!</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_string'>string</span>
        <span class='kw'>else</span>
          <span class='id identifier rubyid_odie'>odie</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--keep-old was passed but there was no existing bottle block!</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_keep_old?'>keep_old?</span>
          <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_output'>output</span>
          <span class='id identifier rubyid_update_or_add'>update_or_add</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>add</span><span class='tstring_end'>&quot;</span></span>
          <span class='kw'>if</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>stable do</span><span class='tstring_end'>&quot;</span></span>
            <span class='id identifier rubyid_indent'>indent</span> <span class='op'>=</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_slice'>slice</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^( +)stable do</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='int'>1</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
            <span class='id identifier rubyid_string'>string</span> <span class='op'>=</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_sub!'>sub!</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^ {</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_indent'>indent</span><span class='embexpr_end'>}</span><span class='tstring_content'>}stable do(.|\n)+?^ {</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_indent'>indent</span><span class='embexpr_end'>}</span><span class='tstring_content'>}end\n</span><span class='regexp_end'>/m</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>\0</span><span class='tstring_end'>&#39;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_output'>output</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
          <span class='kw'>else</span>
            <span class='id identifier rubyid_pattern'>pattern</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(
                (\ {2}\#[^\n]*\n)*                                             # comments
                \ {2}(                                                         # two spaces at the beginning
                  (url|head)\ [&#39;&quot;][\S\ ]+[&#39;&quot;]                                  # url or head with a string
                  (
                    ,[\S\ ]*$                                                  # url may have options
                    (\n^\ {3}[\S\ ]+$)*                                        # options can be in multiple lines
                  )?|
                  (homepage|desc|sha1|sha256|version|mirror)\ [&#39;&quot;][\S\ ]+[&#39;&quot;]| # specs with a string
                  (revision|version_scheme)\ \d+                               # revision with a number
                )\n+                                                           # multiple empty lines
               )+
             </span><span class='regexp_end'>/mx</span></span>
            <span class='id identifier rubyid_string'>string</span> <span class='op'>=</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_sub!'>sub!</span><span class='lparen'>(</span><span class='id identifier rubyid_pattern'>pattern</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>\0</span><span class='tstring_end'>&#39;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_output'>output</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
          <span class='kw'>end</span>
          <span class='id identifier rubyid_odie'>odie</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Bottle block addition failed!</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_string'>string</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>

      <span class='kw'>unless</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_no_commit?'>no_commit?</span>
        <span class='kw'>if</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HOMEBREW_GIT_NAME</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
          <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GIT_AUTHOR_NAME</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span>
            <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GIT_COMMITTER_NAME</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span>
              <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HOMEBREW_GIT_NAME</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='kw'>end</span>
        <span class='kw'>if</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HOMEBREW_GIT_EMAIL</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
          <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GIT_AUTHOR_EMAIL</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span>
            <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GIT_COMMITTER_EMAIL</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span>
              <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HOMEBREW_GIT_EMAIL</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='kw'>end</span>

        <span class='id identifier rubyid_short_name'>short_name</span> <span class='op'>=</span> <span class='id identifier rubyid_formula_name'>formula_name</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>1</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span>
        <span class='id identifier rubyid_pkg_version'>pkg_version</span> <span class='op'>=</span> <span class='id identifier rubyid_bottle_hash'>bottle_hash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>formula</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>pkg_version</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>

        <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_parent'>parent</span><span class='period'>.</span><span class='id identifier rubyid_cd'>cd</span> <span class='kw'>do</span>
          <span class='id identifier rubyid_safe_system'>safe_system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>commit</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--no-edit</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--verbose</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--message=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_short_name'>short_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_update_or_add'>update_or_add</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pkg_version'>pkg_version</span><span class='embexpr_end'>}</span><span class='tstring_content'> bottle.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_output'>output</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="merge_commit?-class_method">
  
    .<strong>merge_commit?</strong>(url)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


284
285
286
287
288
289
290</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/pull.rb', line 284</span>

<span class='kw'>def</span> <span class='id identifier rubyid_merge_commit?'>merge_commit?</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pr_number'>pr_number</span> <span class='op'>=</span> <span class='id identifier rubyid_url'>url</span><span class='lbracket'>[</span><span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>/pull\/([0-9]+)</span><span class='regexp_end'>}</span></span><span class='comma'>,</span> <span class='int'>1</span><span class='rbracket'>]</span>
  <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='id identifier rubyid_pr_number'>pr_number</span>

  <span class='id identifier rubyid_safe_system'>safe_system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>fetch</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--quiet</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>origin</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>pull/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pr_number'>pr_number</span><span class='embexpr_end'>}</span><span class='tstring_content'>/head</span><span class='tstring_end'>&quot;</span></span>
  <span class='const'><span class='object_link'><a href="Utils.html" title="Utils (module)">Utils</a></span></span><span class='period'>.</span><span class='id identifier rubyid_popen_read'><span class='object_link'><a href="Utils.html#popen_read-class_method" title="Utils.popen_read (method)">popen_read</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rev-list</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--parents</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-n1</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>FETCH_HEAD</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>&gt;</span> <span class='int'>1</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="messages-class_method">
  
    .<strong>messages</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


82
83
84</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/global.rb', line 82</span>

<span class='kw'>def</span> <span class='id identifier rubyid_messages'>messages</span>
  <span class='ivar'>@messages</span> <span class='op'>||=</span> <span class='const'><span class='object_link'><a href="Messages.html" title="Messages (class)">Messages</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Messages.html#initialize-instance_method" title="Messages#initialize (method)">new</a></span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="migrate-class_method">
  
    .<strong>migrate</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="FormulaUnspecifiedError.html" title="FormulaUnspecifiedError (class)">FormulaUnspecifiedError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/migrate.rb', line 25</span>

<span class='kw'>def</span> <span class='id identifier rubyid_migrate'>migrate</span>
  <span class='id identifier rubyid_migrate_args'>migrate_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="FormulaUnspecifiedError.html" title="FormulaUnspecifiedError (class)">FormulaUnspecifiedError</a></span></span> <span class='kw'>if</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_resolved_formulae'>resolved_formulae</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_oldname'>oldname</span>
      <span class='kw'>unless</span> <span class='lparen'>(</span><span class='id identifier rubyid_rack'>rack</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_CELLAR-constant" title="HOMEBREW_CELLAR (constant)">HOMEBREW_CELLAR</a></span></span><span class='op'>/</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_oldname'>oldname</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_rack'>rack</span><span class='period'>.</span><span class='id identifier rubyid_subdirs'>subdirs</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="NoSuchKegError.html" title="NoSuchKegError (class)">NoSuchKegError</a></span></span><span class='comma'>,</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_oldname'>oldname</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_rack'>rack</span><span class='embexpr_end'>}</span><span class='tstring_content'> is a symlink</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_rack'>rack</span><span class='period'>.</span><span class='id identifier rubyid_symlink?'>symlink?</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_migrator'>migrator</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Migrator.html" title="Migrator (class)">Migrator</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Migrator.html#initialize-instance_method" title="Migrator#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_migrator'>migrator</span><span class='period'>.</span><span class='id identifier rubyid_migrate'>migrate</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="migrate_args-class_method">
  
    .<strong>migrate_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/migrate.rb', line 9</span>

<span class='kw'>def</span> <span class='id identifier rubyid_migrate_args'>migrate_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `migrate` [&lt;options&gt;] &lt;formula&gt;
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Migrate renamed packages to new names, where &lt;formula&gt; are old names of
</span><span class='tstring_content'>      packages.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:force</span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Treat installed &lt;formula&gt; and provided &lt;formula&gt; as if they are from </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the same taps and migrate them anyway.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:verbose</span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:debug</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="mirror-class_method">
  
    .<strong>mirror</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/mirror.rb', line 21</span>

<span class='kw'>def</span> <span class='id identifier rubyid_mirror'>mirror</span>
  <span class='id identifier rubyid_mirror_args'>mirror_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='id identifier rubyid_odie'>odie</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>This command requires at least one formula argument!</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='id identifier rubyid_bintray_user'>bintray_user</span> <span class='op'>=</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HOMEBREW_BINTRAY_USER</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_bintray_key'>bintray_key</span> <span class='op'>=</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HOMEBREW_BINTRAY_KEY</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Missing HOMEBREW_BINTRAY_USER or HOMEBREW_BINTRAY_KEY variables!</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_bintray_user'>bintray_user</span> <span class='op'>||</span> <span class='op'>!</span><span class='id identifier rubyid_bintray_key'>bintray_key</span>

  <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_formulae'>formulae</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
    <span class='id identifier rubyid_bintray_package'>bintray_package</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Utils.html" title="Utils (module)">Utils</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Utils/Bottles.html" title="Utils::Bottles (class)">Bottles</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Utils/Bottles/Bintray.html" title="Utils::Bottles::Bintray (class)">Bintray</a></span></span><span class='period'>.</span><span class='id identifier rubyid_package'><span class='object_link'><a href="Utils/Bottles/Bintray.html#package-class_method" title="Utils::Bottles::Bintray.package (method)">package</a></span></span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
    <span class='id identifier rubyid_bintray_repo_url'>bintray_repo_url</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>https://api.bintray.com/packages/homebrew/mirror</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_package_url'>package_url</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_bintray_repo_url'>bintray_repo_url</span><span class='embexpr_end'>}</span><span class='tstring_content'>/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_bintray_package'>bintray_package</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_system'>system</span> <span class='id identifier rubyid_curl_executable'><span class='object_link'><a href="top-level-namespace.html#curl_executable-instance_method" title="#curl_executable (method)">curl_executable</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--silent</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--fail</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--output</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/dev/null</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_package_url'>package_url</span>
      <span class='id identifier rubyid_package_blob'>package_blob</span> <span class='op'>=</span> <span class='heredoc_beg'>&lt;&lt;~JSON</span>
<span class='tstring_content'>        {&quot;name&quot;: &quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_bintray_package'>bintray_package</span><span class='embexpr_end'>}</span><span class='tstring_content'>&quot;,
</span><span class='tstring_content'>         &quot;public_download_numbers&quot;: true,
</span><span class='tstring_content'>         &quot;public_stats&quot;: true}
</span><span class='heredoc_end'>      JSON
</span>      <span class='id identifier rubyid_curl'><span class='object_link'><a href="top-level-namespace.html#curl-instance_method" title="#curl (method)">curl</a></span></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--silent</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--fail</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--user</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_bintray_user'>bintray_user</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_bintray_key'>bintray_key</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--header</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Content-Type: application/json</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--data</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_package_blob'>package_blob</span><span class='comma'>,</span> <span class='id identifier rubyid_bintray_repo_url'>bintray_repo_url</span>
      <span class='id identifier rubyid_puts'>puts</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_downloader'>downloader</span> <span class='op'>=</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_downloader'>downloader</span>

    <span class='id identifier rubyid_downloader'>downloader</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span>

    <span class='id identifier rubyid_filename'>filename</span> <span class='op'>=</span> <span class='id identifier rubyid_downloader'>downloader</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span>

    <span class='id identifier rubyid_destination_url'>destination_url</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>https://dl.bintray.com/homebrew/mirror/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_filename'>filename</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Uploading to </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_destination_url'>destination_url</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>

    <span class='id identifier rubyid_content_url'>content_url</span> <span class='op'>=</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>https://api.bintray.com/content/homebrew/mirror/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_bintray_package'>bintray_package</span><span class='embexpr_end'>}</span><span class='tstring_content'>/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_pkg_version'>pkg_version</span><span class='embexpr_end'>}</span><span class='tstring_content'>/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_filename'>filename</span><span class='embexpr_end'>}</span><span class='tstring_content'>?publish=1</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_curl'><span class='object_link'><a href="top-level-namespace.html#curl-instance_method" title="#curl (method)">curl</a></span></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--silent</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--fail</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--user</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_bintray_user'>bintray_user</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_bintray_key'>bintray_key</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
         <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--upload-file</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_downloader'>downloader</span><span class='period'>.</span><span class='id identifier rubyid_cached_location'>cached_location</span><span class='comma'>,</span> <span class='id identifier rubyid_content_url'>content_url</span>
    <span class='id identifier rubyid_puts'>puts</span>
    <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Mirrored </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_filename'>filename</span><span class='embexpr_end'>}</span><span class='tstring_content'>!</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="mirror_args-class_method">
  
    .<strong>mirror_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


8
9
10
11
12
13
14
15
16
17
18
19</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/mirror.rb', line 8</span>

<span class='kw'>def</span> <span class='id identifier rubyid_mirror_args'>mirror_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `mirror` &lt;formula&gt;
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Reuploads the stable URL for a formula to Bintray to use it as a mirror.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:verbose</span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:debug</span>
    <span class='id identifier rubyid_hide_from_man_page!'>hide_from_man_page!</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="missing-class_method">
  
    .<strong>missing</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/missing.rb', line 28</span>

<span class='kw'>def</span> <span class='id identifier rubyid_missing'>missing</span>
  <span class='id identifier rubyid_missing_args'>missing_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_CELLAR-constant" title="HOMEBREW_CELLAR (constant)">HOMEBREW_CELLAR</a></span></span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span>

  <span class='id identifier rubyid_ff'>ff</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='const'><span class='object_link'><a href="Formula.html" title="Formula (class)">Formula</a></span></span><span class='period'>.</span><span class='id identifier rubyid_installed'>installed</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span>
  <span class='kw'>else</span>
    <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_resolved_formulae'>resolved_formulae</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_ff'>ff</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
    <span class='id identifier rubyid_missing'>missing</span> <span class='op'>=</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_missing_dependencies'>missing_dependencies</span><span class='lparen'>(</span><span class='label'>hide:</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_hide'>hide</span><span class='rparen'>)</span>
    <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_missing'>missing</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

    <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='period'>.</span><span class='id identifier rubyid_failed'>failed</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_ff'>ff</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='int'>1</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_missing'>missing</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="missing_args-class_method">
  
    .<strong>missing_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/missing.rb', line 11</span>

<span class='kw'>def</span> <span class='id identifier rubyid_missing_args'>missing_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `missing` [&lt;options&gt;] [&lt;formula&gt;]
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Check the given &lt;formula&gt; kegs for missing dependencies. If no &lt;formula&gt; are
</span><span class='tstring_content'>      provided, check all kegs. Will exit with a non-zero status if any kegs are found
</span><span class='tstring_content'>      to be missing dependencies.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_comma_array'>comma_array</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--hide</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Act as if none of the specified &lt;hidden&gt; are installed. &lt;hidden&gt; should be </span><span class='tstring_end'>&quot;</span></span>\
                             <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a comma-separated list of formulae.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:verbose</span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:debug</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="noecho_gets-class_method">
  
    .<strong>noecho_gets</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Causes some terminals to display secure password entry indicators</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


93
94
95
96
97
98
99</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/gist-logs.rb', line 93</span>

<span class='kw'>def</span> <span class='id identifier rubyid_noecho_gets'>noecho_gets</span>
  <span class='id identifier rubyid_system'>system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>stty -echo</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='gvar'>$stdin</span><span class='period'>.</span><span class='id identifier rubyid_gets'>gets</span>
  <span class='id identifier rubyid_system'>system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>stty echo</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_puts'>puts</span>
  <span class='id identifier rubyid_result'>result</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="odie_if_defined-class_method">
  
    .<strong>odie_if_defined</strong>(message)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


29
30
31
32
33
34
35
36</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/utils/gems.rb', line 29</span>

<span class='kw'>def</span> <span class='id identifier rubyid_odie_if_defined'>odie_if_defined</span><span class='lparen'>(</span><span class='id identifier rubyid_message'>message</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='kw'>defined?</span><span class='lparen'>(</span><span class='id identifier rubyid_odie'>odie</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_odie'>odie</span> <span class='id identifier rubyid_message'>message</span>
  <span class='kw'>else</span>
    <span class='gvar'>$stderr</span><span class='period'>.</span><span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Error: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_message'>message</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_exit'>exit</span> <span class='int'>1</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ohai_if_defined-class_method">
  
    .<strong>ohai_if_defined</strong>(message)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


21
22
23
24
25
26
27</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/utils/gems.rb', line 21</span>

<span class='kw'>def</span> <span class='id identifier rubyid_ohai_if_defined'>ohai_if_defined</span><span class='lparen'>(</span><span class='id identifier rubyid_message'>message</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='kw'>defined?</span><span class='lparen'>(</span><span class='id identifier rubyid_ohai'>ohai</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_ohai'>ohai</span> <span class='id identifier rubyid_message'>message</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>==&gt; </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_message'>message</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="options-class_method">
  
    .<strong>options</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


28
29
30
31
32
33
34
35
36
37
38
39
40</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/options.rb', line 28</span>

<span class='kw'>def</span> <span class='id identifier rubyid_options'>options</span>
  <span class='id identifier rubyid_options_args'>options_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_all?'>all?</span>
    <span class='id identifier rubyid_puts_options'>puts_options</span> <span class='const'><span class='object_link'><a href="Formula.html" title="Formula (class)">Formula</a></span></span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_installed?'>installed?</span>
    <span class='id identifier rubyid_puts_options'>puts_options</span> <span class='const'><span class='object_link'><a href="Formula.html" title="Formula (class)">Formula</a></span></span><span class='period'>.</span><span class='id identifier rubyid_installed'>installed</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="FormulaUnspecifiedError.html" title="FormulaUnspecifiedError (class)">FormulaUnspecifiedError</a></span></span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_remaining'>remaining</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

    <span class='id identifier rubyid_puts_options'>puts_options</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_formulae'>formulae</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="options_args-class_method">
  
    .<strong>options_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/options.rb', line 10</span>

<span class='kw'>def</span> <span class='id identifier rubyid_options_args'>options_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `options` [&lt;options&gt;] [&lt;formula&gt;]
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Show install options specific to &lt;formula&gt;.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--compact</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Show all options on a single line separated by spaces.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--installed</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Show options for formulae that are currently installed.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--all</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Show options for all available formulae.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:debug</span>
    <span class='id identifier rubyid_conflicts'>conflicts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--installed</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--all</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="outdated-class_method">
  
    .<strong>outdated</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/outdated.rb', line 35</span>

<span class='kw'>def</span> <span class='id identifier rubyid_outdated'>outdated</span>
  <span class='id identifier rubyid_outdated_args'>outdated_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='id identifier rubyid_formulae'><span class='object_link'><a href="HomebrewArgvExtension.html#formulae-instance_method" title="HomebrewArgvExtension#formulae (method)">formulae</a></span></span> <span class='op'>=</span> <span class='kw'>if</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_resolved_formulae'>resolved_formulae</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='const'><span class='object_link'><a href="Formula.html" title="Formula (class)">Formula</a></span></span><span class='period'>.</span><span class='id identifier rubyid_installed'>installed</span>
  <span class='kw'>else</span>
    <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_resolved_formulae'>resolved_formulae</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_json'>json</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="UsageError.html" title="UsageError (class)">UsageError</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>invalid JSON version: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_json'>json</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>v1</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='kw'>true</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_json'>json</span>

    <span class='id identifier rubyid_outdated'>outdated</span> <span class='op'>=</span> <span class='id identifier rubyid_print_outdated_json'>print_outdated_json</span><span class='lparen'>(</span><span class='id identifier rubyid_formulae'><span class='object_link'><a href="HomebrewArgvExtension.html#formulae-instance_method" title="HomebrewArgvExtension#formulae (method)">formulae</a></span></span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_outdated'>outdated</span> <span class='op'>=</span> <span class='id identifier rubyid_print_outdated'>print_outdated</span><span class='lparen'>(</span><span class='id identifier rubyid_formulae'><span class='object_link'><a href="HomebrewArgvExtension.html#formulae-instance_method" title="HomebrewArgvExtension#formulae (method)">formulae</a></span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='period'>.</span><span class='id identifier rubyid_failed'>failed</span> <span class='op'>=</span> <span class='op'>!</span><span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_resolved_formulae'>resolved_formulae</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_outdated'>outdated</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="outdated_args-class_method">
  
    .<strong>outdated_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/outdated.rb', line 10</span>

<span class='kw'>def</span> <span class='id identifier rubyid_outdated_args'>outdated_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `outdated` [&lt;options&gt;]
</span><span class='tstring_content'>
</span><span class='tstring_content'>      List installed formulae that have an updated version available. By default, version
</span><span class='tstring_content'>      information is displayed in interactive shells, and suppressed otherwise.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:quiet</span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>List only the names of outdated kegs (takes precedence over `--verbose`).</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:verbose</span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Include detailed version information.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_flag'>flag</span>   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--json</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Print output in JSON format. Currently the default and only accepted </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>value for &lt;version&gt; is `v1`. See the docs for examples of using the JSON </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>output: &lt;https://docs.brew.sh/Querying-Brew&gt;</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--fetch-HEAD</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Fetch the upstream repository to detect if the HEAD installation of the </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>formula is outdated. Otherwise, the repository&#39;s HEAD will only be checked for </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>updates when a new stable or development version has been released.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:debug</span>
    <span class='id identifier rubyid_conflicts'>conflicts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--quiet</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--verbose</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--json</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="output_analytics-class_method">
  
    .<strong>output_analytics</strong>(filter: nil)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="UsageError.html" title="UsageError (class)">UsageError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/info.rb', line 320</span>

<span class='kw'>def</span> <span class='id identifier rubyid_output_analytics'>output_analytics</span><span class='lparen'>(</span><span class='label'>filter:</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_days'>days</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_days'>days</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>30</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_valid_days'>valid_days</span> <span class='op'>=</span> <span class='qwords_beg'>%w[</span><span class='tstring_content'>30</span><span class='words_sep'> </span><span class='tstring_content'>90</span><span class='words_sep'> </span><span class='tstring_content'>365</span><span class='tstring_end'>]</span></span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="UsageError.html" title="UsageError (class)">UsageError</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>days must be one of </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_valid_days'>valid_days</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_valid_days'>valid_days</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_days'>days</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_category'>category</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_category'>category</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>install</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_valid_categories'>valid_categories</span> <span class='op'>=</span> <span class='qwords_beg'>%w[</span><span class='tstring_content'>install</span><span class='words_sep'> </span><span class='tstring_content'>install-on-request</span><span class='words_sep'> </span><span class='tstring_content'>cask-install</span><span class='words_sep'> </span><span class='tstring_content'>build-error</span><span class='words_sep'> </span><span class='tstring_content'>os-version</span><span class='tstring_end'>]</span></span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_valid_categories'>valid_categories</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_category'>category</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="UsageError.html" title="UsageError (class)">UsageError</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>category must be one of </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_valid_categories'>valid_categories</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_json'>json</span> <span class='op'>=</span> <span class='id identifier rubyid_formulae_api_json'>formulae_api_json</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>analytics/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_category'>category</span><span class='embexpr_end'>}</span><span class='tstring_content'>/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_days'>days</span><span class='embexpr_end'>}</span><span class='tstring_content'>d.json</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_json'>json</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span> <span class='op'>||</span> <span class='id identifier rubyid_json'>json</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>items</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span>

  <span class='id identifier rubyid_os_version'>os_version</span> <span class='op'>=</span> <span class='id identifier rubyid_category'>category</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>os-version</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_cask_install'>cask_install</span> <span class='op'>=</span> <span class='id identifier rubyid_category'>category</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cask-install</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_results'>results</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_json'>json</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>items</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_item'>item</span><span class='op'>|</span>
    <span class='id identifier rubyid_key'>key</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_os_version'>os_version</span>
      <span class='id identifier rubyid_item'>item</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>os_version</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_cask_install'>cask_install</span>
      <span class='id identifier rubyid_item'>item</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cask</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_item'>item</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>formula</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_filter'>filter</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
      <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_key'>key</span> <span class='op'>!=</span> <span class='id identifier rubyid_filter'>filter</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_key'>key</span><span class='period'>.</span><span class='id identifier rubyid_start_with?'>start_with?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_filter'>filter</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_results'>results</span><span class='lbracket'>[</span><span class='id identifier rubyid_key'>key</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_item'>item</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>count</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_tr'>tr</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>,</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_filter'>filter</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_results'>results</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span>
    <span class='id identifier rubyid_onoe'>onoe</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>No results matching `</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_filter'>filter</span><span class='embexpr_end'>}</span><span class='tstring_content'>` found!</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>return</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_analytics_table'>analytics_table</span><span class='lparen'>(</span><span class='id identifier rubyid_category'>category</span><span class='comma'>,</span> <span class='id identifier rubyid_days'>days</span><span class='comma'>,</span> <span class='id identifier rubyid_results'>results</span><span class='comma'>,</span> <span class='label'>os_version:</span> <span class='id identifier rubyid_os_version'>os_version</span><span class='comma'>,</span> <span class='label'>cask_install:</span> <span class='id identifier rubyid_cask_install'>cask_install</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="output_formula_analytics-class_method">
  
    .<strong>output_formula_analytics</strong>(f)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/info.rb', line 359</span>

<span class='kw'>def</span> <span class='id identifier rubyid_output_formula_analytics'>output_formula_analytics</span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_json'>json</span> <span class='op'>=</span> <span class='id identifier rubyid_formulae_api_json'>formulae_api_json</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>formula/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='embexpr_end'>}</span><span class='tstring_content'>.json</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_json'>json</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span> <span class='op'>||</span> <span class='id identifier rubyid_json'>json</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>analytics</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span>

  <span class='id identifier rubyid_full_analytics'>full_analytics</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_analytics?'>analytics?</span> <span class='op'>||</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_verbose?'>verbose?</span>

  <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Analytics</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_json'>json</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>analytics</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_category'>category</span><span class='comma'>,</span> <span class='id identifier rubyid_value'><span class='object_link'><a href="HomebrewArgvExtension.html#value-instance_method" title="HomebrewArgvExtension#value (method)">value</a></span></span><span class='op'>|</span>
    <span class='id identifier rubyid_analytics'>analytics</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>

    <span class='id identifier rubyid_value'><span class='object_link'><a href="HomebrewArgvExtension.html#value-instance_method" title="HomebrewArgvExtension#value (method)">value</a></span></span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_days'>days</span><span class='comma'>,</span> <span class='id identifier rubyid_results'>results</span><span class='op'>|</span>
      <span class='id identifier rubyid_days'>days</span> <span class='op'>=</span> <span class='id identifier rubyid_days'>days</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_full_analytics'>full_analytics</span>
        <span class='id identifier rubyid_analytics_table'>analytics_table</span><span class='lparen'>(</span><span class='id identifier rubyid_category'>category</span><span class='comma'>,</span> <span class='id identifier rubyid_days'>days</span><span class='comma'>,</span> <span class='id identifier rubyid_results'>results</span><span class='rparen'>)</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_total_count'>total_count</span> <span class='op'>=</span> <span class='id identifier rubyid_results'>results</span><span class='period'>.</span><span class='id identifier rubyid_values'>values</span><span class='period'>.</span><span class='id identifier rubyid_inject'>inject</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>+</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
        <span class='id identifier rubyid_analytics'>analytics</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_number_readable'>number_readable</span><span class='lparen'>(</span><span class='id identifier rubyid_total_count'>total_count</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'> (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_days'>days</span><span class='embexpr_end'>}</span><span class='tstring_content'> days)</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_category'>category</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_analytics'>analytics</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_full_analytics'>full_analytics</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pbcopy-class_method">
  
    .<strong>pbcopy</strong>(text)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


459
460
461</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/pull.rb', line 459</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pbcopy'>pbcopy</span><span class='lparen'>(</span><span class='id identifier rubyid_text'>text</span><span class='rparen'>)</span>
  <span class='const'><span class='object_link'><a href="Utils.html" title="Utils (module)">Utils</a></span></span><span class='period'>.</span><span class='id identifier rubyid_popen_write'><span class='object_link'><a href="Utils.html#popen_write-class_method" title="Utils.popen_write (method)">popen_write</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>pbcopy</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_io'>io</span><span class='op'>|</span> <span class='id identifier rubyid_io'>io</span><span class='period'>.</span><span class='id identifier rubyid_write'>write</span> <span class='id identifier rubyid_text'>text</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pin-class_method">
  
    .<strong>pin</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="FormulaUnspecifiedError.html" title="FormulaUnspecifiedError (class)">FormulaUnspecifiedError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


21
22
23
24
25
26
27
28
29
30
31
32
33
34
35</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/pin.rb', line 21</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pin'>pin</span>
  <span class='id identifier rubyid_pin_args'>pin_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="FormulaUnspecifiedError.html" title="FormulaUnspecifiedError (class)">FormulaUnspecifiedError</a></span></span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_remaining'>remaining</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_resolved_formulae'>resolved_formulae</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_pinned?'>pinned?</span>
      <span class='id identifier rubyid_opoo'>opoo</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> already pinned</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>elsif</span> <span class='op'>!</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_pinnable?'>pinnable?</span>
      <span class='id identifier rubyid_onoe'>onoe</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> not installed</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_pin'>pin</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pin_args-class_method">
  
    .<strong>pin_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


9
10
11
12
13
14
15
16
17
18
19</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/pin.rb', line 9</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pin_args'>pin_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `pin` &lt;formula&gt;
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Pin the specified &lt;formula&gt;, preventing them from being upgraded when
</span><span class='tstring_content'>      issuing the `brew upgrade` &lt;formula&gt; command. See also `unpin`.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:debug</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="postinstall-class_method">
  
    .<strong>postinstall</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


23
24
25
26
27
28
29
30
31</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/postinstall.rb', line 23</span>

<span class='kw'>def</span> <span class='id identifier rubyid_postinstall'>postinstall</span>
  <span class='id identifier rubyid_postinstall_args'>postinstall_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_resolved_formulae'>resolved_formulae</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
    <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Postinstalling </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_fi'>fi</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="FormulaInstaller.html" title="FormulaInstaller (class)">FormulaInstaller</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="FormulaInstaller.html#initialize-instance_method" title="FormulaInstaller#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_fi'>fi</span><span class='period'>.</span><span class='id identifier rubyid_post_install'>post_install</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="postinstall_args-class_method">
  
    .<strong>postinstall_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


10
11
12
13
14
15
16
17
18
19
20
21</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/postinstall.rb', line 10</span>

<span class='kw'>def</span> <span class='id identifier rubyid_postinstall_args'>postinstall_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `postinstall` &lt;formula&gt;
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Rerun the post-install steps for &lt;formula&gt;.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:force</span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:verbose</span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:debug</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="print_info-class_method">
  
    .<strong>print_info</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/info.rb', line 70</span>

<span class='kw'>def</span> <span class='id identifier rubyid_print_info'>print_info</span>
  <span class='kw'>if</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_analytics?'>analytics?</span>
      <span class='id identifier rubyid_output_analytics'>output_analytics</span>
    <span class='kw'>elsif</span> <span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_CELLAR-constant" title="HOMEBREW_CELLAR (constant)">HOMEBREW_CELLAR</a></span></span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span>
      <span class='id identifier rubyid_count'>count</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Formula.html" title="Formula (class)">Formula</a></span></span><span class='period'>.</span><span class='id identifier rubyid_racks'>racks</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_count'>count</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>keg</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_pluralize'>pluralize</span><span class='lparen'>(</span><span class='id identifier rubyid_count'>count</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>, </span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_CELLAR-constant" title="HOMEBREW_CELLAR (constant)">HOMEBREW_CELLAR</a></span></span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span><span class='period'>.</span><span class='id identifier rubyid_abv'>abv</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_each_with_index'>each_with_index</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='kw'>unless</span> <span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_zero?'>zero?</span>
      <span class='kw'>begin</span>
        <span class='id identifier rubyid_formula'>formula</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>||</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='rparen'>)</span>
          <span class='const'><span class='object_link'><a href="Formulary.html" title="Formulary (module)">Formulary</a></span></span><span class='period'>.</span><span class='id identifier rubyid_factory'><span class='object_link'><a href="Formulary.html#factory-class_method" title="Formulary.factory (method)">factory</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='rparen'>)</span>
        <span class='kw'>else</span>
          <span class='const'><span class='object_link'><a href="Formulary.html" title="Formulary (module)">Formulary</a></span></span><span class='period'>.</span><span class='id identifier rubyid_find_with_priority'><span class='object_link'><a href="Formulary.html#find_with_priority-class_method" title="Formulary.find_with_priority (method)">find_with_priority</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_analytics?'>analytics?</span>
          <span class='id identifier rubyid_output_formula_analytics'>output_formula_analytics</span><span class='lparen'>(</span><span class='id identifier rubyid_formula'>formula</span><span class='rparen'>)</span>
        <span class='kw'>else</span>
          <span class='id identifier rubyid_info_formula'>info_formula</span><span class='lparen'>(</span><span class='id identifier rubyid_formula'>formula</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
      <span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="FormulaUnavailableError.html" title="FormulaUnavailableError (class)">FormulaUnavailableError</a></span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_analytics?'>analytics?</span>
          <span class='id identifier rubyid_output_analytics'>output_analytics</span><span class='lparen'>(</span><span class='label'>filter:</span> <span class='id identifier rubyid_f'>f</span><span class='rparen'>)</span>
          <span class='kw'>next</span>
        <span class='kw'>end</span>
        <span class='id identifier rubyid_ofail'>ofail</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span>
        <span class='comment'># No formula with this name, try a missing formula lookup
</span>        <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_reason'>reason</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Homebrew/MissingFormula.html" title="Homebrew::MissingFormula (module)">MissingFormula</a></span></span><span class='period'>.</span><span class='id identifier rubyid_reason'><span class='object_link'><a href="Homebrew/MissingFormula.html#reason-class_method" title="Homebrew::MissingFormula.reason (method)">reason</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='comma'>,</span> <span class='label'>show_info:</span> <span class='kw'>true</span><span class='rparen'>)</span><span class='rparen'>)</span>
          <span class='gvar'>$stderr</span><span class='period'>.</span><span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_reason'>reason</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="print_json-class_method">
  
    .<strong>print_json</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


107
108
109
110
111
112
113
114
115
116
117</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/info.rb', line 107</span>

<span class='kw'>def</span> <span class='id identifier rubyid_print_json'>print_json</span>
  <span class='id identifier rubyid_ff'>ff</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_all?'>all?</span>
    <span class='const'><span class='object_link'><a href="Formula.html" title="Formula (class)">Formula</a></span></span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_installed?'>installed?</span>
    <span class='const'><span class='object_link'><a href="Formula.html" title="Formula (class)">Formula</a></span></span><span class='period'>.</span><span class='id identifier rubyid_installed'>installed</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span>
  <span class='kw'>else</span>
    <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_formulae'>formulae</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_json'>json</span> <span class='op'>=</span> <span class='id identifier rubyid_ff'>ff</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:to_hash</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='const'>JSON</span><span class='period'>.</span><span class='id identifier rubyid_generate'>generate</span><span class='lparen'>(</span><span class='id identifier rubyid_json'>json</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="print_outdated-class_method">
  
    .<strong>print_outdated</strong>(formulae)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/outdated.rb', line 53</span>

<span class='kw'>def</span> <span class='id identifier rubyid_print_outdated'>print_outdated</span><span class='lparen'>(</span><span class='id identifier rubyid_formulae'><span class='object_link'><a href="HomebrewArgvExtension.html#formulae-instance_method" title="HomebrewArgvExtension#formulae (method)">formulae</a></span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_verbose'>verbose</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='gvar'>$stdout</span><span class='period'>.</span><span class='id identifier rubyid_tty?'>tty?</span> <span class='op'>||</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_verbose?'>verbose?</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_quiet?'>quiet?</span>
  <span class='id identifier rubyid_fetch_head'>fetch_head</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_fetch_HEAD?'>fetch_HEAD?</span>

  <span class='id identifier rubyid_outdated_formulae'>outdated_formulae</span> <span class='op'>=</span> <span class='id identifier rubyid_formulae'><span class='object_link'><a href="HomebrewArgvExtension.html#formulae-instance_method" title="HomebrewArgvExtension#formulae (method)">formulae</a></span></span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_outdated?'>outdated?</span><span class='lparen'>(</span><span class='label'>fetch_head:</span> <span class='id identifier rubyid_fetch_head'>fetch_head</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
                              <span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span>

  <span class='id identifier rubyid_outdated_formulae'>outdated_formulae</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_verbose'>verbose</span>
      <span class='id identifier rubyid_outdated_kegs'>outdated_kegs</span> <span class='op'>=</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_outdated_kegs'>outdated_kegs</span><span class='lparen'>(</span><span class='label'>fetch_head:</span> <span class='id identifier rubyid_fetch_head'>fetch_head</span><span class='rparen'>)</span>

      <span class='id identifier rubyid_current_version'>current_version</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_alias_changed?'>alias_changed?</span>
        <span class='id identifier rubyid_latest'>latest</span> <span class='op'>=</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_latest_formula'>latest_formula</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_latest'>latest</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_latest'>latest</span><span class='period'>.</span><span class='id identifier rubyid_pkg_version'>pkg_version</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>elsif</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_head?'>head?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_outdated_kegs'>outdated_kegs</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='op'>|</span> <span class='id identifier rubyid_k'>k</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>==</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_pkg_version'>pkg_version</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='rbrace'>}</span>
        <span class='comment'># There is a newer HEAD but the version number has not changed.
</span>        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>latest HEAD</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_pkg_version'>pkg_version</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
      <span class='kw'>end</span>

      <span class='id identifier rubyid_outdated_versions'>outdated_versions</span> <span class='op'>=</span> <span class='id identifier rubyid_outdated_kegs'>outdated_kegs</span>
                          <span class='period'>.</span><span class='id identifier rubyid_group_by'>group_by</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_keg'>keg</span><span class='op'>|</span> <span class='const'><span class='object_link'><a href="Formulary.html" title="Formulary (module)">Formulary</a></span></span><span class='period'>.</span><span class='id identifier rubyid_from_keg'><span class='object_link'><a href="Formulary.html#from_keg-class_method" title="Formulary.from_keg (method)">from_keg</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_keg'>keg</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span> <span class='rbrace'>}</span>
                          <span class='period'>.</span><span class='id identifier rubyid_sort_by'>sort_by</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_full_name'>full_name</span><span class='comma'>,</span> <span class='id identifier rubyid__kegs'>_kegs</span><span class='op'>|</span> <span class='id identifier rubyid_full_name'>full_name</span> <span class='rbrace'>}</span>
                          <span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_full_name'>full_name</span><span class='comma'>,</span> <span class='id identifier rubyid_kegs'><span class='object_link'><a href="HomebrewArgvExtension.html#kegs-instance_method" title="HomebrewArgvExtension#kegs (method)">kegs</a></span></span><span class='op'>|</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_kegs'><span class='object_link'><a href="HomebrewArgvExtension.html#kegs-instance_method" title="HomebrewArgvExtension#kegs (method)">kegs</a></span></span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:version</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

      <span class='id identifier rubyid_pinned_version'>pinned_version</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> [pinned at </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_pinned_version'>pinned_version</span><span class='embexpr_end'>}</span><span class='tstring_content'>]</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_pinned?'>pinned?</span>

      <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_outdated_versions'>outdated_versions</span><span class='embexpr_end'>}</span><span class='tstring_content'> &lt; </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_current_version'>current_version</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pinned_version'>pinned_version</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_full_installed_specified_name'>full_installed_specified_name</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="print_outdated_json-class_method">
  
    .<strong>print_outdated_json</strong>(formulae)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/outdated.rb', line 90</span>

<span class='kw'>def</span> <span class='id identifier rubyid_print_outdated_json'>print_outdated_json</span><span class='lparen'>(</span><span class='id identifier rubyid_formulae'><span class='object_link'><a href="HomebrewArgvExtension.html#formulae-instance_method" title="HomebrewArgvExtension#formulae (method)">formulae</a></span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_json'>json</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_fetch_head'>fetch_head</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_fetch_HEAD?'>fetch_HEAD?</span>
  <span class='id identifier rubyid_outdated_formulae'>outdated_formulae</span> <span class='op'>=</span> <span class='id identifier rubyid_formulae'><span class='object_link'><a href="HomebrewArgvExtension.html#formulae-instance_method" title="HomebrewArgvExtension#formulae (method)">formulae</a></span></span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_outdated?'>outdated?</span><span class='lparen'>(</span><span class='label'>fetch_head:</span> <span class='id identifier rubyid_fetch_head'>fetch_head</span><span class='rparen'>)</span> <span class='rbrace'>}</span>

  <span class='id identifier rubyid_outdated'>outdated</span> <span class='op'>=</span> <span class='id identifier rubyid_outdated_formulae'>outdated_formulae</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
    <span class='id identifier rubyid_outdated_versions'>outdated_versions</span> <span class='op'>=</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_outdated_kegs'>outdated_kegs</span><span class='lparen'>(</span><span class='label'>fetch_head:</span> <span class='id identifier rubyid_fetch_head'>fetch_head</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:version</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_current_version'>current_version</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_head?'>head?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_outdated_versions'>outdated_versions</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>==</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_pkg_version'>pkg_version</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='rbrace'>}</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HEAD</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_pkg_version'>pkg_version</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_json'>json</span> <span class='op'>&lt;&lt;</span> <span class='lbrace'>{</span> <span class='label'>name:</span>               <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span><span class='comma'>,</span>
              <span class='label'>installed_versions:</span> <span class='id identifier rubyid_outdated_versions'>outdated_versions</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:to_s</span><span class='rparen'>)</span><span class='comma'>,</span>
              <span class='label'>current_version:</span>    <span class='id identifier rubyid_current_version'>current_version</span><span class='comma'>,</span>
              <span class='label'>pinned:</span>             <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_pinned?'>pinned?</span><span class='comma'>,</span>
              <span class='label'>pinned_version:</span>     <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_pinned_version'>pinned_version</span> <span class='rbrace'>}</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='const'>JSON</span><span class='period'>.</span><span class='id identifier rubyid_generate'>generate</span><span class='lparen'>(</span><span class='id identifier rubyid_json'>json</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_outdated'>outdated</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="print_tap_info-class_method">
  
    .<strong>print_tap_info</strong>(taps)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/tap-info.rb', line 47</span>

<span class='kw'>def</span> <span class='id identifier rubyid_print_tap_info'>print_tap_info</span><span class='lparen'>(</span><span class='id identifier rubyid_taps'>taps</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_taps'>taps</span><span class='period'>.</span><span class='id identifier rubyid_none?'>none?</span>
    <span class='id identifier rubyid_tap_count'>tap_count</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='id identifier rubyid_formula_count'>formula_count</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='id identifier rubyid_command_count'>command_count</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='id identifier rubyid_pinned_count'>pinned_count</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='id identifier rubyid_private_count'>private_count</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='const'><span class='object_link'><a href="Tap.html" title="Tap (class)">Tap</a></span></span><span class='period'>.</span><span class='id identifier rubyid_each'><span class='object_link'><a href="Tap.html#each-class_method" title="Tap.each (method)">each</a></span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_tap'>tap</span><span class='op'>|</span>
      <span class='id identifier rubyid_tap_count'>tap_count</span> <span class='op'>+=</span> <span class='int'>1</span>
      <span class='id identifier rubyid_formula_count'>formula_count</span> <span class='op'>+=</span> <span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_formula_files'>formula_files</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span>
      <span class='id identifier rubyid_command_count'>command_count</span> <span class='op'>+=</span> <span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_command_files'>command_files</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span>
      <span class='id identifier rubyid_pinned_count'>pinned_count</span> <span class='op'>+=</span> <span class='int'>1</span> <span class='kw'>if</span> <span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_pinned?'>pinned?</span>
      <span class='id identifier rubyid_private_count'>private_count</span> <span class='op'>+=</span> <span class='int'>1</span> <span class='kw'>if</span> <span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_private?'>private?</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_info'>info</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tap_count'>tap_count</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>tap</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_pluralize'>pluralize</span><span class='lparen'>(</span><span class='id identifier rubyid_tap_count'>tap_count</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_info'>info</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pinned_count'>pinned_count</span><span class='embexpr_end'>}</span><span class='tstring_content'> pinned</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_info'>info</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_private_count'>private_count</span><span class='embexpr_end'>}</span><span class='tstring_content'> private</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_info'>info</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_formula_count'>formula_count</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>formula</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_pluralize'>pluralize</span><span class='lparen'>(</span><span class='id identifier rubyid_formula_count'>formula_count</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_info'>info</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_command_count'>command_count</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>command</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_pluralize'>pluralize</span><span class='lparen'>(</span><span class='id identifier rubyid_command_count'>command_count</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_info'>info</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="Tap.html" title="Tap (class)">Tap</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Tap.html#TAP_DIRECTORY-constant" title="Tap::TAP_DIRECTORY (constant)">TAP_DIRECTORY</a></span></span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span><span class='period'>.</span><span class='id identifier rubyid_abv'>abv</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='const'><span class='object_link'><a href="Tap.html" title="Tap (class)">Tap</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Tap.html#TAP_DIRECTORY-constant" title="Tap::TAP_DIRECTORY (constant)">TAP_DIRECTORY</a></span></span><span class='period'>.</span><span class='id identifier rubyid_directory?'>directory?</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_info'>info</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_taps'>taps</span><span class='period'>.</span><span class='id identifier rubyid_each_with_index'>each_with_index</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_tap'>tap</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='kw'>unless</span> <span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_zero?'>zero?</span>
      <span class='id identifier rubyid_info'>info</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tap'>tap</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>if</span> <span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_installed?'>installed?</span>
        <span class='id identifier rubyid_info'>info</span> <span class='op'>+=</span> <span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_pinned?'>pinned?</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>pinned</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>unpinned</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_info'>info</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, private</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_private?'>private?</span>
        <span class='id identifier rubyid_info'>info</span> <span class='op'>+=</span> <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_contents'>contents</span> <span class='op'>=</span> <span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_contents'>contents</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
          <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, no commands/casks/formulae</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>else</span>
          <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_contents'>contents</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>end</span>
        <span class='id identifier rubyid_info'>info</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='embexpr_end'>}</span><span class='tstring_content'> (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_abv'>abv</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_info'>info</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\nFrom: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_remote'>remote</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>N/A</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_remote'>remote</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_info'>info</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Not installed</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_info'>info</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="print_tap_json-class_method">
  
    .<strong>print_tap_json</strong>(taps)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


90
91
92</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/tap-info.rb', line 90</span>

<span class='kw'>def</span> <span class='id identifier rubyid_print_tap_json'>print_tap_json</span><span class='lparen'>(</span><span class='id identifier rubyid_taps'>taps</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='const'>JSON</span><span class='period'>.</span><span class='id identifier rubyid_generate'>generate</span><span class='lparen'>(</span><span class='id identifier rubyid_taps'>taps</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:to_hash</span><span class='rparen'>)</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="prof-class_method">
  
    .<strong>prof</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


18
19
20
21
22
23
24
25</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/prof.rb', line 18</span>

<span class='kw'>def</span> <span class='id identifier rubyid_prof'>prof</span>
  <span class='id identifier rubyid_prof_args'>prof_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='period'>.</span><span class='id identifier rubyid_install_gem_setup_path!'><span class='object_link'><a href="#install_gem_setup_path!-class_method" title="Homebrew.install_gem_setup_path! (method)">install_gem_setup_path!</a></span></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ruby-prof</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>version:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0.18.0</span><span class='tstring_end'>&quot;</span></span>
  <span class='const'>FileUtils</span><span class='period'>.</span><span class='id identifier rubyid_mkdir_p'>mkdir_p</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>prof</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_brew_rb'>brew_rb</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_LIBRARY_PATH-constant" title="HOMEBREW_LIBRARY_PATH (constant)">HOMEBREW_LIBRARY_PATH</a></span></span><span class='op'>/</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>brew.rb</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_resolved_path'>resolved_path</span>
  <span class='id identifier rubyid_safe_system'>safe_system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ruby-prof</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--printer=multi</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--file=prof</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_brew_rb'>brew_rb</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>*</span><span class='const'>ARGV</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="prof_args-class_method">
  
    .<strong>prof_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


8
9
10
11
12
13
14
15
16</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/prof.rb', line 8</span>

<span class='kw'>def</span> <span class='id identifier rubyid_prof_args'>prof_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `prof` &lt;command&gt;
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Run Homebrew with the Ruby profiler, e.g. `brew prof readall`.
</span><span class='heredoc_end'>    EOS
</span>  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pull-class_method">
  
    .<strong>pull</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/pull.rb', line 68</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pull'>pull</span>
  <span class='id identifier rubyid_odie'>odie</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>You meant `git pull --rebase`.</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='const'>ARGV</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--rebase</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_pull_args'>pull_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='id identifier rubyid_odie'>odie</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>This command requires at least one argument containing a URL or pull request number</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='comment'># Passthrough Git environment variables for e.g. git am
</span>  <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GIT_COMMITTER_NAME</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HOMEBREW_GIT_NAME</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HOMEBREW_GIT_NAME</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
  <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GIT_COMMITTER_EMAIL</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HOMEBREW_GIT_EMAIL</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HOMEBREW_GIT_EMAIL</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>

  <span class='comment'># Depending on user configuration, git may try to invoke gpg.
</span>  <span class='kw'>if</span> <span class='const'><span class='object_link'><a href="Utils.html" title="Utils (module)">Utils</a></span></span><span class='period'>.</span><span class='id identifier rubyid_popen_read'><span class='object_link'><a href="Utils.html#popen_read-class_method" title="Utils.popen_read (method)">popen_read</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git config --get --bool commit.gpgsign</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>true</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>begin</span>
      <span class='id identifier rubyid_gnupg'>gnupg</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Formula.html" title="Formula (class)">Formula</a></span></span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>gnupg</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
    <span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="FormulaUnavailableError.html" title="FormulaUnavailableError (class)">FormulaUnavailableError</a></span></span> <span class='comment'># rubocop:disable Lint/HandleExceptions
</span>    <span class='kw'>else</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_gnupg'>gnupg</span><span class='period'>.</span><span class='id identifier rubyid_installed?'>installed?</span>
        <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="PATH.html" title="PATH (class)">PATH</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="PATH.html#initialize-instance_method" title="PATH#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='const'>ENV</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PATH</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_prepend'>prepend</span><span class='lparen'>(</span><span class='id identifier rubyid_gnupg'>gnupg</span><span class='period'>.</span><span class='id identifier rubyid_installed_prefix'>installed_prefix</span><span class='op'>/</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bin</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
        <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PATH</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_do_bump'>do_bump</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_bump?'>bump?</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_clean?'>clean?</span>

  <span class='id identifier rubyid_tap'>tap</span> <span class='op'>=</span> <span class='kw'>nil</span>

  <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_arg'>arg</span><span class='op'>|</span>
    <span class='id identifier rubyid_arg'>arg</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="CoreTap.html" title="CoreTap (class)">CoreTap</a></span></span><span class='period'>.</span><span class='id identifier rubyid_instance'><span class='object_link'><a href="CoreTap.html#instance-class_method" title="CoreTap.instance (method)">instance</a></span></span><span class='period'>.</span><span class='id identifier rubyid_default_remote'>default_remote</span><span class='embexpr_end'>}</span><span class='tstring_content'>/pull/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_arg'>arg</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_arg'>arg</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span><span class='period'>.</span><span class='id identifier rubyid_positive?'>positive?</span>
    <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_testing_match'>testing_match</span> <span class='op'>=</span> <span class='id identifier rubyid_arg'>arg</span><span class='period'>.</span><span class='id identifier rubyid_match'>match</span> <span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>/job/Homebrew.*Testing/(\d+)</span><span class='regexp_end'>}</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_tap'>tap</span> <span class='op'>=</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_value'>value</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>tap</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_tap'>tap</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_tap'>tap</span><span class='op'>&amp;.</span><span class='id identifier rubyid_start_with?'>start_with?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>homebrew/</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
        <span class='const'><span class='object_link'><a href="Tap.html" title="Tap (class)">Tap</a></span></span><span class='period'>.</span><span class='id identifier rubyid_fetch'><span class='object_link'><a href="Tap.html#fetch-class_method" title="Tap.fetch (method)">fetch</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>homebrew</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_delete_prefix'>delete_prefix</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>homebrew/</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
      <span class='kw'>elsif</span> <span class='id identifier rubyid_tap'>tap</span>
        <span class='id identifier rubyid_odie'>odie</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Tap option did not start with \&quot;homebrew/\&quot;: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tap'>tap</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>else</span>
        <span class='const'><span class='object_link'><a href="CoreTap.html" title="CoreTap (class)">CoreTap</a></span></span><span class='period'>.</span><span class='id identifier rubyid_instance'><span class='object_link'><a href="CoreTap.html#instance-class_method" title="CoreTap.instance (method)">instance</a></span></span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='id identifier rubyid_testing_job'>testing_job</span> <span class='op'>=</span> <span class='op'>*</span><span class='id identifier rubyid_testing_match'>testing_match</span>
      <span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>https://github.com/Homebrew/homebrew-</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_repo'>repo</span><span class='embexpr_end'>}</span><span class='tstring_content'>/compare/master...BrewTestBot:testing-</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_testing_job'>testing_job</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_odie'>odie</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Testing URLs require `--bottle`!</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_bottle?'>bottle?</span>
    <span class='kw'>elsif</span> <span class='lparen'>(</span><span class='id identifier rubyid_api_match'>api_match</span> <span class='op'>=</span> <span class='id identifier rubyid_arg'>arg</span><span class='period'>.</span><span class='id identifier rubyid_match'>match</span> <span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_PULL_API_REGEX-constant" title="HOMEBREW_PULL_API_REGEX (constant)">HOMEBREW_PULL_API_REGEX</a></span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='id identifier rubyid_user'>user</span><span class='comma'>,</span> <span class='id identifier rubyid_repo'>repo</span><span class='comma'>,</span> <span class='id identifier rubyid_issue'>issue</span> <span class='op'>=</span> <span class='op'>*</span><span class='id identifier rubyid_api_match'>api_match</span>
      <span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>https://github.com/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_user'>user</span><span class='embexpr_end'>}</span><span class='tstring_content'>/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_repo'>repo</span><span class='embexpr_end'>}</span><span class='tstring_content'>/pull/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_issue'>issue</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_tap'>tap</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Tap.html" title="Tap (class)">Tap</a></span></span><span class='period'>.</span><span class='id identifier rubyid_fetch'><span class='object_link'><a href="Tap.html#fetch-class_method" title="Tap.fetch (method)">fetch</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_user'>user</span><span class='comma'>,</span> <span class='id identifier rubyid_repo'>repo</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_repo'>repo</span><span class='period'>.</span><span class='id identifier rubyid_match?'>match?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_OFFICIAL_REPO_PREFIXES_REGEX-constant" title="HOMEBREW_OFFICIAL_REPO_PREFIXES_REGEX (constant)">HOMEBREW_OFFICIAL_REPO_PREFIXES_REGEX</a></span></span><span class='rparen'>)</span>
    <span class='kw'>elsif</span> <span class='lparen'>(</span><span class='id identifier rubyid_url_match'>url_match</span> <span class='op'>=</span> <span class='id identifier rubyid_arg'>arg</span><span class='period'>.</span><span class='id identifier rubyid_match'>match</span> <span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_PULL_OR_COMMIT_URL_REGEX-constant" title="HOMEBREW_PULL_OR_COMMIT_URL_REGEX (constant)">HOMEBREW_PULL_OR_COMMIT_URL_REGEX</a></span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='id identifier rubyid_user'>user</span><span class='comma'>,</span> <span class='id identifier rubyid_repo'>repo</span><span class='comma'>,</span> <span class='id identifier rubyid_issue'>issue</span> <span class='op'>=</span> <span class='op'>*</span><span class='id identifier rubyid_url_match'>url_match</span>
      <span class='id identifier rubyid_tap'>tap</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Tap.html" title="Tap (class)">Tap</a></span></span><span class='period'>.</span><span class='id identifier rubyid_fetch'><span class='object_link'><a href="Tap.html#fetch-class_method" title="Tap.fetch (method)">fetch</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_user'>user</span><span class='comma'>,</span> <span class='id identifier rubyid_repo'>repo</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_repo'>repo</span><span class='period'>.</span><span class='id identifier rubyid_match?'>match?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_OFFICIAL_REPO_PREFIXES_REGEX-constant" title="HOMEBREW_OFFICIAL_REPO_PREFIXES_REGEX (constant)">HOMEBREW_OFFICIAL_REPO_PREFIXES_REGEX</a></span></span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_odie'>odie</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Not a GitHub pull request or commit: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_arg'>arg</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_odie'>odie</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>No pull request detected!</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_testing_job'>testing_job</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_bottle?'>bottle?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_tap'>tap</span>
      <span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_install'>install</span> <span class='kw'>unless</span> <span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_installed?'>installed?</span>
      <span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_chdir'>chdir</span> <span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span>
    <span class='kw'>else</span>
      <span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_chdir'>chdir</span> <span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_REPOSITORY-constant" title="HOMEBREW_REPOSITORY (constant)">HOMEBREW_REPOSITORY</a></span></span>
    <span class='kw'>end</span>

    <span class='comment'># The cache directory seems like a good place to put patches.
</span>    <span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_CACHE-constant" title="HOMEBREW_CACHE (constant)">HOMEBREW_CACHE</a></span></span><span class='period'>.</span><span class='id identifier rubyid_mkpath'>mkpath</span>

    <span class='comment'># Store current revision and branch
</span>    <span class='id identifier rubyid_merge_commit'>merge_commit</span> <span class='op'>=</span> <span class='id identifier rubyid_merge_commit?'>merge_commit?</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_orig_revision'>orig_revision</span> <span class='op'>=</span> <span class='backtick'>`</span><span class='tstring_content'>git rev-parse --short HEAD</span><span class='tstring_end'>`</span></span><span class='period'>.</span><span class='id identifier rubyid_strip'>strip</span>
    <span class='id identifier rubyid_branch'>branch</span> <span class='op'>=</span> <span class='backtick'>`</span><span class='tstring_content'>git symbolic-ref --short HEAD</span><span class='tstring_end'>`</span></span><span class='period'>.</span><span class='id identifier rubyid_strip'>strip</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_branch'>branch</span> <span class='op'>!=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>master</span><span class='tstring_end'>&quot;</span></span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_clean?'>clean?</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_branch_okay?'>branch_okay?</span>
      <span class='id identifier rubyid_opoo'>opoo</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Current branch is </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_branch'>branch</span><span class='embexpr_end'>}</span><span class='tstring_content'>: do you need to pull inside master?</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_merge_commit'>merge_commit</span>
      <span class='id identifier rubyid_patch_puller'>patch_puller</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Homebrew/PatchPuller.html" title="Homebrew::PatchPuller (class)">PatchPuller</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/PatchPuller.html#initialize-instance_method" title="Homebrew::PatchPuller#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_patch_puller'>patch_puller</span><span class='period'>.</span><span class='id identifier rubyid_fetch_patch'>fetch_patch</span>
      <span class='id identifier rubyid_patch_changes'>patch_changes</span> <span class='op'>=</span> <span class='id identifier rubyid_files_changed_in_patch'>files_changed_in_patch</span><span class='lparen'>(</span><span class='id identifier rubyid_patch_puller'>patch_puller</span><span class='period'>.</span><span class='id identifier rubyid_patchpath'>patchpath</span><span class='comma'>,</span> <span class='id identifier rubyid_tap'>tap</span><span class='rparen'>)</span>

      <span class='id identifier rubyid_is_bumpable'>is_bumpable</span> <span class='op'>=</span> <span class='id identifier rubyid_patch_changes'>patch_changes</span><span class='lbracket'>[</span><span class='symbol'>:formulae</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>==</span> <span class='int'>1</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_patch_changes'>patch_changes</span><span class='lbracket'>[</span><span class='symbol'>:others</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
      <span class='id identifier rubyid_check_bumps'>check_bumps</span><span class='lparen'>(</span><span class='id identifier rubyid_patch_changes'>patch_changes</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_do_bump'>do_bump</span>
      <span class='id identifier rubyid_old_versions'>old_versions</span> <span class='op'>=</span> <span class='id identifier rubyid_current_versions_from_info_external'>current_versions_from_info_external</span><span class='lparen'>(</span><span class='id identifier rubyid_patch_changes'>patch_changes</span><span class='lbracket'>[</span><span class='symbol'>:formulae</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_is_bumpable'>is_bumpable</span>
      <span class='id identifier rubyid_patch_puller'>patch_puller</span><span class='period'>.</span><span class='id identifier rubyid_apply_patch'>apply_patch</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_end_revision'>end_revision</span> <span class='op'>=</span> <span class='id identifier rubyid_head_revision'>head_revision</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='id identifier rubyid_merge_commit'>merge_commit</span><span class='rparen'>)</span>

    <span class='id identifier rubyid_changed_formulae_names'>changed_formulae_names</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_tap'>tap</span>
      <span class='const'><span class='object_link'><a href="Utils.html" title="Utils (module)">Utils</a></span></span><span class='period'>.</span><span class='id identifier rubyid_popen_read'><span class='object_link'><a href="Utils.html#popen_read-class_method" title="Utils.popen_read (method)">popen_read</a></span></span><span class='lparen'>(</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>diff-tree</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-r</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--name-only</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--diff-filter=AM</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_orig_revision'>orig_revision</span><span class='comma'>,</span> <span class='id identifier rubyid_end_revision'>end_revision</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_formula_dir'>formula_dir</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
      <span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each_line'>each_line</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_line'>line</span><span class='op'>|</span>
        <span class='kw'>next</span> <span class='kw'>unless</span> <span class='id identifier rubyid_line'>line</span><span class='period'>.</span><span class='id identifier rubyid_end_with?'>end_with?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.rb\n</span><span class='tstring_end'>&quot;</span></span>

        <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/</span><span class='embexpr_beg'>#{</span><span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span><span class='lparen'>(</span><span class='id identifier rubyid_line'>line</span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.rb</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_changed_formulae_names'>changed_formulae_names</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_name'>name</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_fetch_bottles'>fetch_bottles</span> <span class='op'>=</span> <span class='kw'>false</span>
    <span class='id identifier rubyid_changed_formulae_names'>changed_formulae_names</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='op'>|</span>
      <span class='kw'>next</span> <span class='kw'>if</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HOMEBREW_DISABLE_LOAD_FORMULA</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>

      <span class='kw'>begin</span>
        <span class='id identifier rubyid_f'>f</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Formula.html" title="Formula (class)">Formula</a></span></span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span>
      <span class='kw'>rescue</span> <span class='const'>Exception</span> <span class='comment'># rubocop:disable Lint/RescueException
</span>        <span class='comment'># Make sure we catch syntax errors.
</span>        <span class='kw'>next</span>
      <span class='kw'>end</span>

      <span class='kw'>if</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_stable'>stable</span>
        <span class='id identifier rubyid_stable_urls'>stable_urls</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_stable'>stable</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span><span class='rbracket'>]</span> <span class='op'>+</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_stable'>stable</span><span class='period'>.</span><span class='id identifier rubyid_mirrors'>mirrors</span>
        <span class='id identifier rubyid_stable_urls'>stable_urls</span><span class='period'>.</span><span class='id identifier rubyid_grep'>grep</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>^https://dl.bintray.com/homebrew/mirror/</span><span class='regexp_end'>}</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_mirror_url'>mirror_url</span><span class='op'>|</span>
          <span class='id identifier rubyid_check_bintray_mirror'>check_bintray_mirror</span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span><span class='comma'>,</span> <span class='id identifier rubyid_mirror_url'>mirror_url</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>

      <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_bottle?'>bottle?</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_bottle_unneeded?'>bottle_unneeded?</span>
          <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='embexpr_end'>}</span><span class='tstring_content'>: skipping unneeded bottle.</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>elsif</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_bottle_disabled?'>bottle_disabled?</span>
          <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='embexpr_end'>}</span><span class='tstring_content'>: skipping disabled bottle: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_bottle_disable_reason'>bottle_disable_reason</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>else</span>
          <span class='id identifier rubyid_fetch_bottles'>fetch_bottles</span> <span class='op'>=</span> <span class='kw'>true</span>
        <span class='kw'>end</span>
      <span class='kw'>else</span>
        <span class='kw'>next</span> <span class='kw'>unless</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_bottle_defined?'>bottle_defined?</span>

        <span class='id identifier rubyid_opoo'>opoo</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> has a bottle: do you need to update it with --bottle?</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_orig_message'>orig_message</span> <span class='op'>=</span> <span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='backtick'>`</span><span class='tstring_content'>git log HEAD^.. --format=%B</span><span class='tstring_end'>`</span></span>
    <span class='kw'>if</span> <span class='id identifier rubyid_issue'>issue</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_clean?'>clean?</span>
      <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Patch closes issue #</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_issue'>issue</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_close_message'>close_message</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Closes #</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_issue'>issue</span><span class='embexpr_end'>}</span><span class='tstring_content'>.</span><span class='tstring_end'>&quot;</span></span>
      <span class='comment'># If this is a pull request, append a close message.
</span>      <span class='id identifier rubyid_message'>message</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_close_message'>close_message</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_message'>message</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='id identifier rubyid_close_message'>close_message</span>
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_changed_formulae_names'>changed_formulae_names</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
      <span class='id identifier rubyid_odie'>odie</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Cannot bump: no changed formulae found after applying patch</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_do_bump'>do_bump</span>
      <span class='id identifier rubyid_is_bumpable'>is_bumpable</span> <span class='op'>=</span> <span class='kw'>false</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_is_bumpable'>is_bumpable</span> <span class='op'>=</span> <span class='kw'>false</span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_clean?'>clean?</span>
    <span class='id identifier rubyid_is_bumpable'>is_bumpable</span> <span class='op'>=</span> <span class='kw'>false</span> <span class='kw'>if</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HOMEBREW_DISABLE_LOAD_FORMULA</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_is_bumpable'>is_bumpable</span>
      <span class='id identifier rubyid_formula'>formula</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Formula.html" title="Formula (class)">Formula</a></span></span><span class='lbracket'>[</span><span class='id identifier rubyid_changed_formulae_names'>changed_formulae_names</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='rbracket'>]</span>
      <span class='id identifier rubyid_new_versions'>new_versions</span> <span class='op'>=</span> <span class='id identifier rubyid_current_versions_from_info_external'>current_versions_from_info_external</span><span class='lparen'>(</span><span class='id identifier rubyid_patch_changes'>patch_changes</span><span class='lbracket'>[</span><span class='symbol'>:formulae</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_orig_subject'>orig_subject</span> <span class='op'>=</span> <span class='id identifier rubyid_message'>message</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='id identifier rubyid_message'>message</span><span class='period'>.</span><span class='id identifier rubyid_lines'>lines</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span>
      <span class='id identifier rubyid_bump_subject'>bump_subject</span> <span class='op'>=</span> <span class='id identifier rubyid_subject_for_bump'>subject_for_bump</span><span class='lparen'>(</span><span class='id identifier rubyid_formula'>formula</span><span class='comma'>,</span> <span class='id identifier rubyid_old_versions'>old_versions</span><span class='comma'>,</span> <span class='id identifier rubyid_new_versions'>new_versions</span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_do_bump'>do_bump</span>
        <span class='id identifier rubyid_odie'>odie</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>No version changes found for </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_bump_subject'>bump_subject</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='kw'>unless</span> <span class='id identifier rubyid_orig_subject'>orig_subject</span> <span class='op'>==</span> <span class='id identifier rubyid_bump_subject'>bump_subject</span>
          <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>New bump commit subject: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_bump_subject'>bump_subject</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
          <span class='id identifier rubyid_pbcopy'>pbcopy</span> <span class='id identifier rubyid_bump_subject'>bump_subject</span> <span class='kw'>unless</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_no_pbcopy?'>no_pbcopy?</span>
          <span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_bump_subject'>bump_subject</span><span class='embexpr_end'>}</span><span class='tstring_content'>\n\n</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_message'>message</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>end</span>
      <span class='kw'>elsif</span> <span class='id identifier rubyid_bump_subject'>bump_subject</span> <span class='op'>!=</span> <span class='id identifier rubyid_orig_subject'>orig_subject</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_bump_subject'>bump_subject</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='id identifier rubyid_opoo'>opoo</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Nonstandard bump subject: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_orig_subject'>orig_subject</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_opoo'>opoo</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Subject should be: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_bump_subject'>bump_subject</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_message'>message</span> <span class='op'>!=</span> <span class='id identifier rubyid_orig_message'>orig_message</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_clean?'>clean?</span>
      <span class='id identifier rubyid_safe_system'>safe_system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>commit</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--amend</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--signoff</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--allow-empty</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-q</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-m</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_message'>message</span>
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_fetch_bottles'>fetch_bottles</span>
      <span class='id identifier rubyid_bottle_commit_url'>bottle_commit_url</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_testing_job'>testing_job</span>
        <span class='id identifier rubyid_bottle_branch'>bottle_branch</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>testing-bottle-</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_testing_job'>testing_job</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_url'>url</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_bottle_branch'>bottle_branch</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>pull-bottle-</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_issue'>issue</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_bot_username'>bot_username</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="GitHub.html" title="GitHub (module)">GitHub</a></span></span><span class='period'>.</span><span class='id identifier rubyid_test_bot_user'><span class='object_link'><a href="GitHub.html#test_bot_user-class_method" title="GitHub.test_bot_user (method)">test_bot_user</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_user'>user</span><span class='comma'>,</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_test_bot_user'>test_bot_user</span><span class='rparen'>)</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>https://github.com/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_bot_username'>bot_username</span><span class='embexpr_end'>}</span><span class='tstring_content'>/homebrew-</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_repo'>repo</span><span class='embexpr_end'>}</span><span class='tstring_content'>/compare/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_user'>user</span><span class='embexpr_end'>}</span><span class='tstring_content'>:master...pr-</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_issue'>issue</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>

      <span class='id identifier rubyid_curl'><span class='object_link'><a href="top-level-namespace.html#curl-instance_method" title="#curl (method)">curl</a></span></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--silent</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--fail</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--output</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/dev/null</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--head</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_bottle_commit_url'>bottle_commit_url</span>

      <span class='kw'>if</span> <span class='id identifier rubyid_merge_commit'>merge_commit</span>
        <span class='id identifier rubyid_fetch_merge_patch'>fetch_merge_patch</span><span class='lparen'>(</span><span class='id identifier rubyid_bottle_commit_url'>bottle_commit_url</span><span class='comma'>,</span> <span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='id identifier rubyid_issue'>issue</span><span class='rparen'>)</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_fetch_bottles_patch'>fetch_bottles_patch</span><span class='lparen'>(</span><span class='id identifier rubyid_bottle_commit_url'>bottle_commit_url</span><span class='comma'>,</span> <span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='id identifier rubyid_bottle_branch'>bottle_branch</span><span class='comma'>,</span> <span class='id identifier rubyid_branch'>branch</span><span class='comma'>,</span> <span class='id identifier rubyid_orig_revision'>orig_revision</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
      <span class='const'><span class='object_link'><a href="BottlePublisher.html" title="BottlePublisher (class)">BottlePublisher</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="BottlePublisher.html#initialize-instance_method" title="BottlePublisher#initialize (method)">new</a></span></span><span class='lparen'>(</span>
        <span class='id identifier rubyid_tap'>tap</span><span class='comma'>,</span>
        <span class='id identifier rubyid_changed_formulae_names'>changed_formulae_names</span><span class='comma'>,</span>
        <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_bintray_org'>bintray_org</span><span class='comma'>,</span>
        <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_no_publish?'>no_publish?</span><span class='comma'>,</span>
        <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_warn_on_publish_failure?'>warn_on_publish_failure?</span><span class='comma'>,</span>
      <span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_publish_and_check_bottles'><span class='object_link'><a href="BottlePublisher.html#publish_and_check_bottles-instance_method" title="BottlePublisher#publish_and_check_bottles (method)">publish_and_check_bottles</a></span></span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_merge_commit'>merge_commit</span>
      <span class='id identifier rubyid_fetch_merge_patch'>fetch_merge_patch</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='id identifier rubyid_issue'>issue</span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Patch changed:</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_safe_system'>safe_system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>diff-tree</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-r</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--stat</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_orig_revision'>orig_revision</span><span class='comma'>,</span> <span class='id identifier rubyid_end_revision'>end_revision</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pull_args-class_method">
  
    .<strong>pull_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/pull.rb', line 29</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pull_args'>pull_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `pull` [&lt;options&gt;] &lt;patch&gt;
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Get a patch from a GitHub commit or pull request and apply it to Homebrew.
</span><span class='tstring_content'>      Optionally, publish updated bottles for any formulae changed by the patch.
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Each &lt;patch&gt; may be the number of a pull request in `homebrew/core`, the URL of any pull request
</span><span class='tstring_content'>      or commit on GitHub or a &quot;https://jenkins.brew.sh/job/...&quot; testing job URL.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--bottle</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Handle bottles, pulling the bottle-update commit and publishing files on Bintray.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--bump</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>For one-formula PRs, automatically reword commit message to our preferred format.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--clean</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Do not rewrite or otherwise modify the commits found in the pulled PR.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--ignore-whitespace</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Silently ignore whitespace discrepancies when applying diffs.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--resolve</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>When a patch fails to apply, leave in progress and allow user to resolve, instead </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>of aborting.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--branch-okay</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Do not warn if pulling to a branch besides master (useful for testing).</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--no-pbcopy</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Do not copy anything to the system clipboard.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--no-publish</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Do not publish bottles to Bintray.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--warn-on-publish-failure</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Do not exit if there&#39;s a failure publishing bottles on Bintray.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_flag'>flag</span>   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--bintray-org=</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Publish bottles to the specified Bintray &lt;organisation&gt;.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_flag'>flag</span>   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--test-bot-user=</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Pull the bottle block commit from the specified &lt;user&gt; on GitHub.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:verbose</span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:debug</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="puts_deps-class_method">
  
    .<strong>puts_deps</strong>(formulae, recursive = false)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


162
163
164
165
166
167
168
169
170</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/deps.rb', line 162</span>

<span class='kw'>def</span> <span class='id identifier rubyid_puts_deps'>puts_deps</span><span class='lparen'>(</span><span class='id identifier rubyid_formulae'><span class='object_link'><a href="HomebrewArgvExtension.html#formulae-instance_method" title="HomebrewArgvExtension#formulae (method)">formulae</a></span></span><span class='comma'>,</span> <span class='id identifier rubyid_recursive'>recursive</span> <span class='op'>=</span> <span class='kw'>false</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_formulae'><span class='object_link'><a href="HomebrewArgvExtension.html#formulae-instance_method" title="HomebrewArgvExtension#formulae (method)">formulae</a></span></span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
    <span class='id identifier rubyid_deps'>deps</span> <span class='op'>=</span> <span class='id identifier rubyid_deps_for_formula'>deps_for_formula</span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='comma'>,</span> <span class='id identifier rubyid_recursive'>recursive</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_deps'>deps</span> <span class='op'>=</span> <span class='id identifier rubyid_condense_requirements'>condense_requirements</span><span class='lparen'>(</span><span class='id identifier rubyid_deps'>deps</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_deps'>deps</span><span class='period'>.</span><span class='id identifier rubyid_sort_by!'>sort_by!</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_deps'>deps</span><span class='period'>.</span><span class='id identifier rubyid_map!'>map!</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_method'>method</span><span class='lparen'>(</span><span class='symbol'>:dep_display_name</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_deps'>deps</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="puts_deps_tree-class_method">
  
    .<strong>puts_deps_tree</strong>(formulae, recursive = false)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


172
173
174
175
176
177
178
179</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/deps.rb', line 172</span>

<span class='kw'>def</span> <span class='id identifier rubyid_puts_deps_tree'>puts_deps_tree</span><span class='lparen'>(</span><span class='id identifier rubyid_formulae'><span class='object_link'><a href="HomebrewArgvExtension.html#formulae-instance_method" title="HomebrewArgvExtension#formulae (method)">formulae</a></span></span><span class='comma'>,</span> <span class='id identifier rubyid_recursive'>recursive</span> <span class='op'>=</span> <span class='kw'>false</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_formulae'><span class='object_link'><a href="HomebrewArgvExtension.html#formulae-instance_method" title="HomebrewArgvExtension#formulae (method)">formulae</a></span></span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span>
    <span class='ivar'>@dep_stack</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_recursive_deps_tree'>recursive_deps_tree</span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_recursive'>recursive</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_puts'>puts</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="puts_keg_only_path_message-class_method">
  
    .<strong>puts_keg_only_path_message</strong>(keg)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


104
105
106
107
108
109
110
111
112
113</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/link.rb', line 104</span>

<span class='kw'>def</span> <span class='id identifier rubyid_puts_keg_only_path_message'>puts_keg_only_path_message</span><span class='lparen'>(</span><span class='id identifier rubyid_keg'>keg</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_bin'>bin</span> <span class='op'>=</span> <span class='id identifier rubyid_keg'>keg</span><span class='op'>/</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bin</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_sbin'>sbin</span> <span class='op'>=</span> <span class='id identifier rubyid_keg'>keg</span><span class='op'>/</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>sbin</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_bin'>bin</span><span class='period'>.</span><span class='id identifier rubyid_directory?'>directory?</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_sbin'>sbin</span><span class='period'>.</span><span class='id identifier rubyid_directory?'>directory?</span>

  <span class='id identifier rubyid_opt'>opt</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_PREFIX-constant" title="HOMEBREW_PREFIX (constant)">HOMEBREW_PREFIX</a></span></span><span class='op'>/</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>opt/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_keg'>keg</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\nIf you need to have this software first in your PATH instead consider running:</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  </span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="Utils.html" title="Utils (module)">Utils</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Utils/Shell.html" title="Utils::Shell (module)">Shell</a></span></span><span class='period'>.</span><span class='id identifier rubyid_prepend_path_in_profile'><span class='object_link'><a href="Utils/Shell.html#prepend_path_in_profile-class_method" title="Utils::Shell.prepend_path_in_profile (method)">prepend_path_in_profile</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_opt'>opt</span><span class='op'>/</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bin</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>  <span class='kw'>if</span> <span class='id identifier rubyid_bin'>bin</span><span class='period'>.</span><span class='id identifier rubyid_directory?'>directory?</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  </span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="Utils.html" title="Utils (module)">Utils</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Utils/Shell.html" title="Utils::Shell (module)">Shell</a></span></span><span class='period'>.</span><span class='id identifier rubyid_prepend_path_in_profile'><span class='object_link'><a href="Utils/Shell.html#prepend_path_in_profile-class_method" title="Utils::Shell.prepend_path_in_profile (method)">prepend_path_in_profile</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_opt'>opt</span><span class='op'>/</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>sbin</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_sbin'>sbin</span><span class='period'>.</span><span class='id identifier rubyid_directory?'>directory?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="puts_options-class_method">
  
    .<strong>puts_options</strong>(formulae)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


42
43
44
45
46
47
48
49
50
51
52
53
54</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/options.rb', line 42</span>

<span class='kw'>def</span> <span class='id identifier rubyid_puts_options'>puts_options</span><span class='lparen'>(</span><span class='id identifier rubyid_formulae'><span class='object_link'><a href="HomebrewArgvExtension.html#formulae-instance_method" title="HomebrewArgvExtension#formulae (method)">formulae</a></span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_formulae'><span class='object_link'><a href="HomebrewArgvExtension.html#formulae-instance_method" title="HomebrewArgvExtension#formulae (method)">formulae</a></span></span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
    <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_compact?'>compact?</span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_as_flags'>as_flags</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span> <span class='op'>*</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span> <span class='kw'>if</span> <span class='id identifier rubyid_formulae'><span class='object_link'><a href="HomebrewArgvExtension.html#formulae-instance_method" title="HomebrewArgvExtension#formulae (method)">formulae</a></span></span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>&gt;</span> <span class='int'>1</span>
      <span class='id identifier rubyid_dump_options_for_formula'>dump_options_for_formula</span> <span class='id identifier rubyid_f'>f</span>
      <span class='id identifier rubyid_puts'>puts</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="raise_deprecation_exceptions?-class_method">
  
    .<strong>raise_deprecation_exceptions?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


86
87
88</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/global.rb', line 86</span>

<span class='kw'>def</span> <span class='id identifier rubyid_raise_deprecation_exceptions?'>raise_deprecation_exceptions?</span>
  <span class='ivar'>@raise_deprecation_exceptions</span> <span class='op'>==</span> <span class='kw'>true</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="readall-class_method">
  
    .<strong>readall</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/readall.rb', line 28</span>

<span class='kw'>def</span> <span class='id identifier rubyid_readall'>readall</span>
  <span class='id identifier rubyid_readall_args'>readall_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_syntax?'>syntax?</span>
    <span class='id identifier rubyid_scan_files'>scan_files</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_LIBRARY_PATH-constant" title="HOMEBREW_LIBRARY_PATH (constant)">HOMEBREW_LIBRARY_PATH</a></span></span><span class='embexpr_end'>}</span><span class='tstring_content'>/**/*.rb</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_ruby_files'>ruby_files</span> <span class='op'>=</span> <span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_glob'>glob</span><span class='lparen'>(</span><span class='id identifier rubyid_scan_files'>scan_files</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_reject'>reject</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_file'>file</span><span class='op'>|</span> <span class='id identifier rubyid_file'>file</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>/(vendor|cask)/</span><span class='regexp_end'>}</span></span> <span class='rbrace'>}</span>

    <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='period'>.</span><span class='id identifier rubyid_failed'>failed</span> <span class='op'>=</span> <span class='kw'>true</span> <span class='kw'>unless</span> <span class='const'><span class='object_link'><a href="Readall.html" title="Readall (module)">Readall</a></span></span><span class='period'>.</span><span class='id identifier rubyid_valid_ruby_syntax?'><span class='object_link'><a href="Readall.html#valid_ruby_syntax%3F-class_method" title="Readall.valid_ruby_syntax? (method)">valid_ruby_syntax?</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_ruby_files'>ruby_files</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='label'>aliases:</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_aliases?'>aliases?</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_taps'>taps</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='const'><span class='object_link'><a href="Tap.html" title="Tap (class)">Tap</a></span></span>
  <span class='kw'>else</span>
    <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_t'>t</span><span class='op'>|</span> <span class='const'><span class='object_link'><a href="Tap.html" title="Tap (class)">Tap</a></span></span><span class='period'>.</span><span class='id identifier rubyid_fetch'><span class='object_link'><a href="Tap.html#fetch-class_method" title="Tap.fetch (method)">fetch</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_t'>t</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_taps'>taps</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_tap'>tap</span><span class='op'>|</span>
    <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='period'>.</span><span class='id identifier rubyid_failed'>failed</span> <span class='op'>=</span> <span class='kw'>true</span> <span class='kw'>unless</span> <span class='const'><span class='object_link'><a href="Readall.html" title="Readall (module)">Readall</a></span></span><span class='period'>.</span><span class='id identifier rubyid_valid_tap?'><span class='object_link'><a href="Readall.html#valid_tap%3F-class_method" title="Readall.valid_tap? (method)">valid_tap?</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_tap'>tap</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="readall_args-class_method">
  
    .<strong>readall_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/readall.rb', line 9</span>

<span class='kw'>def</span> <span class='id identifier rubyid_readall_args'>readall_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `readall` [&lt;options&gt;] [&lt;tap&gt;]
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Import all formulae from the specified &lt;tap&gt;, or from all installed taps if none is provided.
</span><span class='tstring_content'>      This can be useful for debugging issues across all formulae when making
</span><span class='tstring_content'>      significant changes to `formula.rb`, testing the performance of loading
</span><span class='tstring_content'>      all formulae or to determine if any current formulae have Ruby issues.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--aliases</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Verify any alias symlinks in each tap.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--syntax</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Syntax-check all of Homebrew&#39;s Ruby files.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:verbose</span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:debug</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="recursive_deps_tree-class_method">
  
    .<strong>recursive_deps_tree</strong>(f, prefix, recursive)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/deps.rb', line 181</span>

<span class='kw'>def</span> <span class='id identifier rubyid_recursive_deps_tree'>recursive_deps_tree</span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='comma'>,</span> <span class='id identifier rubyid_prefix'>prefix</span><span class='comma'>,</span> <span class='id identifier rubyid_recursive'>recursive</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_reqs'>reqs</span> <span class='op'>=</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_requirements'>requirements</span>
  <span class='id identifier rubyid_deps'>deps</span> <span class='op'>=</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_deps'>deps</span>
  <span class='id identifier rubyid_dependables'>dependables</span> <span class='op'>=</span> <span class='id identifier rubyid_reqs'>reqs</span> <span class='op'>+</span> <span class='id identifier rubyid_deps'>deps</span>
  <span class='id identifier rubyid_dependables'>dependables</span><span class='period'>.</span><span class='id identifier rubyid_reject!'>reject!</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:optional?</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_include_optional?'>include_optional?</span>
  <span class='id identifier rubyid_dependables'>dependables</span><span class='period'>.</span><span class='id identifier rubyid_reject!'>reject!</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:build?</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_include_build?'>include_build?</span>
  <span class='id identifier rubyid_dependables'>dependables</span><span class='period'>.</span><span class='id identifier rubyid_reject!'>reject!</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:test?</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_include_test?'>include_test?</span>
  <span class='id identifier rubyid_dependables'>dependables</span><span class='period'>.</span><span class='id identifier rubyid_reject!'>reject!</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:recommended?</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_skip_recommended?'>skip_recommended?</span>
  <span class='id identifier rubyid_max'>max</span> <span class='op'>=</span> <span class='id identifier rubyid_dependables'>dependables</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>-</span> <span class='int'>1</span>
  <span class='ivar'>@dep_stack</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
  <span class='id identifier rubyid_dependables'>dependables</span><span class='period'>.</span><span class='id identifier rubyid_each_with_index'>each_with_index</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_dep'>dep</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
    <span class='kw'>next</span> <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_include_requirements?'>include_requirements?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_dep'>dep</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="Requirement.html" title="Requirement (class)">Requirement</a></span></span><span class='rparen'>)</span>

    <span class='id identifier rubyid_tree_lines'>tree_lines</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_i'>i</span> <span class='op'>==</span> <span class='id identifier rubyid_max'>max</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>└──</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>else</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>├──</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_display_s'>display_s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tree_lines'>tree_lines</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_dep_display_name'>dep_display_name</span><span class='lparen'>(</span><span class='id identifier rubyid_dep'>dep</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_is_circular'>is_circular</span> <span class='op'>=</span> <span class='ivar'>@dep_stack</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_dep'>dep</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_display_s'>display_s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_display_s'>display_s</span><span class='embexpr_end'>}</span><span class='tstring_content'> (CIRCULAR DEPENDENCY)</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_is_circular'>is_circular</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_prefix'>prefix</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_display_s'>display_s</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>

    <span class='kw'>next</span> <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_recursive'>recursive</span> <span class='op'>||</span> <span class='id identifier rubyid_is_circular'>is_circular</span>

    <span class='id identifier rubyid_prefix_addition'>prefix_addition</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_i'>i</span> <span class='op'>==</span> <span class='id identifier rubyid_max'>max</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>    </span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>else</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>│   </span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_recursive_deps_tree'>recursive_deps_tree</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="Formulary.html" title="Formulary (module)">Formulary</a></span></span><span class='period'>.</span><span class='id identifier rubyid_factory'><span class='object_link'><a href="Formulary.html#factory-class_method" title="Formulary.factory (method)">factory</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_dep'>dep</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_prefix'>prefix</span> <span class='op'>+</span> <span class='id identifier rubyid_prefix_addition'>prefix_addition</span><span class='comma'>,</span> <span class='kw'>true</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_dep'>dep</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span> <span class='const'><span class='object_link'><a href="Dependency.html" title="Dependency (class)">Dependency</a></span></span>
  <span class='kw'>end</span>

  <span class='ivar'>@dep_stack</span><span class='period'>.</span><span class='id identifier rubyid_pop'>pop</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="recursive_includes-class_method">
  
    .<strong>recursive_includes</strong>(klass, formula, includes, ignores)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dependencies.rb', line 89</span>

<span class='kw'>def</span> <span class='id identifier rubyid_recursive_includes'>recursive_includes</span><span class='lparen'>(</span><span class='id identifier rubyid_klass'>klass</span><span class='comma'>,</span> <span class='id identifier rubyid_formula'>formula</span><span class='comma'>,</span> <span class='id identifier rubyid_includes'>includes</span><span class='comma'>,</span> <span class='id identifier rubyid_ignores'>ignores</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_klass'>klass</span> <span class='op'>==</span> <span class='const'><span class='object_link'><a href="Dependency.html" title="Dependency (class)">Dependency</a></span></span>
    <span class='symbol'>:dependencies</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_klass'>klass</span> <span class='op'>==</span> <span class='const'><span class='object_link'><a href="Requirement.html" title="Requirement (class)">Requirement</a></span></span>
    <span class='symbol'>:requirements</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Invalid class argument: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_klass'>klass</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>recursive_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_type'>type</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_dependent'>dependent</span><span class='comma'>,</span> <span class='id identifier rubyid_dep'>dep</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_dep'>dep</span><span class='period'>.</span><span class='id identifier rubyid_recommended?'>recommended?</span>
      <span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_prune'>prune</span> <span class='kw'>if</span> <span class='id identifier rubyid_ignores'>ignores</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>recommended?</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>||</span> <span class='id identifier rubyid_dependent'>dependent</span><span class='period'>.</span><span class='id identifier rubyid_build'>build</span><span class='period'>.</span><span class='id identifier rubyid_without?'>without?</span><span class='lparen'>(</span><span class='id identifier rubyid_dep'>dep</span><span class='rparen'>)</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_dep'>dep</span><span class='period'>.</span><span class='id identifier rubyid_test?'>test?</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_includes'>includes</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>test?</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
        <span class='const'><span class='object_link'><a href="Dependency.html" title="Dependency (class)">Dependency</a></span></span><span class='period'>.</span><span class='id identifier rubyid_keep_but_prune_recursive_deps'><span class='object_link'><a href="Dependency.html#keep_but_prune_recursive_deps-class_method" title="Dependency.keep_but_prune_recursive_deps (method)">keep_but_prune_recursive_deps</a></span></span> <span class='kw'>if</span> <span class='id identifier rubyid_type'>type</span> <span class='op'>==</span> <span class='symbol'>:dependencies</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_prune'>prune</span>
      <span class='kw'>end</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_dep'>dep</span><span class='period'>.</span><span class='id identifier rubyid_optional?'>optional?</span>
      <span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_prune'>prune</span> <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_includes'>includes</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>optional?</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_dependent'>dependent</span><span class='period'>.</span><span class='id identifier rubyid_build'>build</span><span class='period'>.</span><span class='id identifier rubyid_with?'>with?</span><span class='lparen'>(</span><span class='id identifier rubyid_dep'>dep</span><span class='rparen'>)</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_dep'>dep</span><span class='period'>.</span><span class='id identifier rubyid_build?'>build?</span>
      <span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_prune'>prune</span> <span class='kw'>unless</span> <span class='id identifier rubyid_includes'>includes</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>build?</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='comment'># If a tap isn&#39;t installed, we can&#39;t find the dependencies of one
</span>    <span class='comment'># its formulae, and an exception will be thrown if we try.
</span>    <span class='kw'>if</span> <span class='id identifier rubyid_type'>type</span> <span class='op'>==</span> <span class='symbol'>:dependencies</span> <span class='op'>&amp;&amp;</span>
       <span class='id identifier rubyid_dep'>dep</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="TapDependency.html" title="TapDependency (class)">TapDependency</a></span></span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span>
       <span class='op'>!</span><span class='id identifier rubyid_dep'>dep</span><span class='period'>.</span><span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_installed?'>installed?</span>
      <span class='const'><span class='object_link'><a href="Dependency.html" title="Dependency (class)">Dependency</a></span></span><span class='period'>.</span><span class='id identifier rubyid_keep_but_prune_recursive_deps'><span class='object_link'><a href="Dependency.html#keep_but_prune_recursive_deps-class_method" title="Dependency.keep_but_prune_recursive_deps (method)">keep_but_prune_recursive_deps</a></span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="regenerate_man_pages-class_method">
  
    .<strong>regenerate_man_pages</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


52
53
54
55
56
57
58
59
60
61</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/man.rb', line 52</span>

<span class='kw'>def</span> <span class='id identifier rubyid_regenerate_man_pages'>regenerate_man_pages</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='period'>.</span><span class='id identifier rubyid_install_bundler_gems!'><span class='object_link'><a href="#install_bundler_gems!-class_method" title="Homebrew.install_bundler_gems! (method)">install_bundler_gems!</a></span></span>

  <span class='id identifier rubyid_markup'>markup</span> <span class='op'>=</span> <span class='id identifier rubyid_build_man_page'>build_man_page</span>
  <span class='id identifier rubyid_convert_man_page'>convert_man_page</span><span class='lparen'>(</span><span class='id identifier rubyid_markup'>markup</span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="#TARGET_DOC_PATH-constant" title="Homebrew::TARGET_DOC_PATH (constant)">TARGET_DOC_PATH</a></span></span><span class='op'>/</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Manpage.md</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_convert_man_page'>convert_man_page</span><span class='lparen'>(</span><span class='id identifier rubyid_markup'>markup</span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="#TARGET_MAN_PATH-constant" title="Homebrew::TARGET_MAN_PATH (constant)">TARGET_MAN_PATH</a></span></span><span class='op'>/</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>brew.1</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

  <span class='id identifier rubyid_cask_markup'>cask_markup</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#SOURCE_PATH-constant" title="Homebrew::SOURCE_PATH (constant)">SOURCE_PATH</a></span></span><span class='op'>/</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>brew-cask.1.md</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span>
  <span class='id identifier rubyid_convert_man_page'>convert_man_page</span><span class='lparen'>(</span><span class='id identifier rubyid_cask_markup'>cask_markup</span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="#TARGET_MAN_PATH-constant" title="Homebrew::TARGET_MAN_PATH (constant)">TARGET_MAN_PATH</a></span></span><span class='op'>/</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>brew-cask.1</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="reinstall-class_method">
  
    .<strong>reinstall</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/reinstall.rb', line 47</span>

<span class='kw'>def</span> <span class='id identifier rubyid_reinstall'>reinstall</span>
  <span class='id identifier rubyid_reinstall_args'>reinstall_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='const'><span class='object_link'><a href="FormulaInstaller.html" title="FormulaInstaller (class)">FormulaInstaller</a></span></span><span class='period'>.</span><span class='id identifier rubyid_prevent_build_flags'><span class='object_link'><a href="FormulaInstaller.html#prevent_build_flags-class_method" title="FormulaInstaller.prevent_build_flags (method)">prevent_build_flags</a></span></span> <span class='kw'>unless</span> <span class='const'>DevelopmentTools</span><span class='period'>.</span><span class='id identifier rubyid_installed?'>installed?</span>

  <span class='const'><span class='object_link'><a href="Homebrew/Install.html" title="Homebrew::Install (module)">Install</a></span></span><span class='period'>.</span><span class='id identifier rubyid_perform_preinstall_checks'><span class='object_link'><a href="Homebrew/Install.html#perform_preinstall_checks-class_method" title="Homebrew::Install.perform_preinstall_checks (method)">perform_preinstall_checks</a></span></span>

  <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_resolved_formulae'>resolved_formulae</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_pinned?'>pinned?</span>
      <span class='id identifier rubyid_onoe'>onoe</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> is pinned. You must unpin it to reinstall.</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>next</span>
    <span class='kw'>end</span>
    <span class='const'><span class='object_link'><a href="Migrator.html" title="Migrator (class)">Migrator</a></span></span><span class='period'>.</span><span class='id identifier rubyid_migrate_if_needed'><span class='object_link'><a href="Migrator.html#migrate_if_needed-class_method" title="Migrator.migrate_if_needed (method)">migrate_if_needed</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_reinstall_formula'>reinstall_formula</span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='rparen'>)</span>
    <span class='const'><span class='object_link'><a href="Homebrew/Cleanup.html" title="Homebrew::Cleanup (class)">Cleanup</a></span></span><span class='period'>.</span><span class='id identifier rubyid_install_formula_clean!'><span class='object_link'><a href="Homebrew/Cleanup.html#install_formula_clean!-class_method" title="Homebrew::Cleanup.install_formula_clean! (method)">install_formula_clean!</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='period'>.</span><span class='id identifier rubyid_messages'><span class='object_link'><a href="#messages-class_method" title="Homebrew.messages (method)">messages</a></span></span><span class='period'>.</span><span class='id identifier rubyid_display_messages'>display_messages</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="reinstall_args-class_method">
  
    .<strong>reinstall_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/reinstall.rb', line 13</span>

<span class='kw'>def</span> <span class='id identifier rubyid_reinstall_args'>reinstall_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `reinstall` [&lt;options&gt;] &lt;formula&gt;
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Uninstall and then install &lt;formula&gt; using the same options it was originally
</span><span class='tstring_content'>      installed with, plus any appended brew formula options.
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Unless `HOMEBREW_NO_INSTALL_CLEANUP` is set, `brew cleanup` will then be run for the
</span><span class='tstring_content'>      reinstalled formulae or, every 30 days, for all formulae.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:debug</span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>If brewing fails, open an interactive debugging session with access to IRB </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>or a shell inside the temporary build directory.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-s</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--build-from-source</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Compile &lt;formula&gt; from source even if a bottle is available.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--force-bottle</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Install from a bottle if it exists for the current or newest version of </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>macOS, even if it would not normally be used for installation.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--keep-tmp</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Retain the temporary files created during installation.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:force</span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Install without checking for previously installed keg-only or </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>non-migrated versions.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:verbose</span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Print the verification and postinstall steps.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--display-times</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>env:</span>         <span class='symbol'>:display_install_times</span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Print install times for each formula at the end of the run.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_conflicts'>conflicts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--build-from-source</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--force-bottle</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_formula_options'>formula_options</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="reinstall_formula-class_method">
  
    .<strong>reinstall_formula</strong>(f, build_from_source: false)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/reinstall.rb', line 10</span>

<span class='kw'>def</span> <span class='id identifier rubyid_reinstall_formula'>reinstall_formula</span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='comma'>,</span> <span class='label'>build_from_source:</span> <span class='kw'>false</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_opt_prefix'>opt_prefix</span><span class='period'>.</span><span class='id identifier rubyid_directory?'>directory?</span>
    <span class='id identifier rubyid_keg'>keg</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Keg.html" title="Keg (class)">Keg</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Keg.html#initialize-instance_method" title="Keg#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_opt_prefix'>opt_prefix</span><span class='period'>.</span><span class='id identifier rubyid_resolved_path'>resolved_path</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_tab'>tab</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Tab.html" title="Tab (class)">Tab</a></span></span><span class='period'>.</span><span class='id identifier rubyid_for_keg'><span class='object_link'><a href="Tab.html#for_keg-class_method" title="Tab.for_keg (method)">for_keg</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_keg'>keg</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_keg_had_linked_opt'>keg_had_linked_opt</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='id identifier rubyid_keg_was_linked'>keg_was_linked</span> <span class='op'>=</span> <span class='id identifier rubyid_keg'>keg</span><span class='period'>.</span><span class='id identifier rubyid_linked?'>linked?</span>
    <span class='id identifier rubyid_backup'>backup</span> <span class='id identifier rubyid_keg'>keg</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_build_options'>build_options</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="BuildOptions.html" title="BuildOptions (class)">BuildOptions</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="Options.html" title="Options (class)">Options</a></span></span><span class='period'>.</span><span class='id identifier rubyid_create'><span class='object_link'><a href="Options.html#create-class_method" title="Options.create (method)">create</a></span></span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='period'>.</span><span class='id identifier rubyid_args'><span class='object_link'><a href="#args-class_method" title="Homebrew.args (method)">args</a></span></span><span class='period'>.</span><span class='id identifier rubyid_flags_only'>flags_only</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='id identifier rubyid_build_options'>build_options</span><span class='period'>.</span><span class='id identifier rubyid_used_options'>used_options</span>
  <span class='id identifier rubyid_options'>options</span> <span class='op'>|=</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_build'>build</span><span class='period'>.</span><span class='id identifier rubyid_used_options'>used_options</span>
  <span class='id identifier rubyid_options'>options</span> <span class='op'>&amp;=</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_options'>options</span>

  <span class='id identifier rubyid_fi'>fi</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="FormulaInstaller.html" title="FormulaInstaller (class)">FormulaInstaller</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="FormulaInstaller.html#initialize-instance_method" title="FormulaInstaller#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_fi'>fi</span><span class='period'>.</span><span class='id identifier rubyid_options'>options</span>              <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span>
  <span class='id identifier rubyid_fi'>fi</span><span class='period'>.</span><span class='id identifier rubyid_build_bottle'>build_bottle</span>         <span class='op'>=</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_build_bottle?'>build_bottle?</span>
  <span class='id identifier rubyid_fi'>fi</span><span class='period'>.</span><span class='id identifier rubyid_interactive'>interactive</span>          <span class='op'>=</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_interactive?'>interactive?</span>
  <span class='id identifier rubyid_fi'>fi</span><span class='period'>.</span><span class='id identifier rubyid_git'>git</span>                  <span class='op'>=</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_git?'>git?</span>
  <span class='id identifier rubyid_fi'>fi</span><span class='period'>.</span><span class='id identifier rubyid_link_keg'>link_keg</span>           <span class='op'>||=</span> <span class='id identifier rubyid_keg_was_linked'>keg_was_linked</span> <span class='kw'>if</span> <span class='id identifier rubyid_keg_had_linked_opt'>keg_had_linked_opt</span>
  <span class='id identifier rubyid_fi'>fi</span><span class='period'>.</span><span class='id identifier rubyid_build_from_source'>build_from_source</span>    <span class='op'>=</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='id identifier rubyid_build_from_source'>build_from_source</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_tab'>tab</span>
    <span class='id identifier rubyid_fi'>fi</span><span class='period'>.</span><span class='id identifier rubyid_build_bottle'>build_bottle</span>          <span class='op'>||=</span> <span class='id identifier rubyid_tab'>tab</span><span class='period'>.</span><span class='id identifier rubyid_built_bottle?'>built_bottle?</span>
    <span class='id identifier rubyid_fi'>fi</span><span class='period'>.</span><span class='id identifier rubyid_installed_as_dependency'>installed_as_dependency</span> <span class='op'>=</span> <span class='id identifier rubyid_tab'>tab</span><span class='period'>.</span><span class='id identifier rubyid_installed_as_dependency'>installed_as_dependency</span>
    <span class='id identifier rubyid_fi'>fi</span><span class='period'>.</span><span class='id identifier rubyid_installed_on_request'>installed_on_request</span>    <span class='op'>=</span> <span class='id identifier rubyid_tab'>tab</span><span class='period'>.</span><span class='id identifier rubyid_installed_on_request'>installed_on_request</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_fi'>fi</span><span class='period'>.</span><span class='id identifier rubyid_prelude'>prelude</span>

  <span class='id identifier rubyid_oh1'>oh1</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Reinstalling </span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="Formatter.html" title="Formatter (module)">Formatter</a></span></span><span class='period'>.</span><span class='id identifier rubyid_identifier'><span class='object_link'><a href="Formatter.html#identifier-class_method" title="Formatter.identifier (method)">identifier</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_fi'>fi</span><span class='period'>.</span><span class='id identifier rubyid_install'>install</span>
  <span class='id identifier rubyid_fi'>fi</span><span class='period'>.</span><span class='id identifier rubyid_finish'>finish</span>
<span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="FormulaInstallationAlreadyAttemptedError.html" title="FormulaInstallationAlreadyAttemptedError (class)">FormulaInstallationAlreadyAttemptedError</a></span></span>
  <span class='kw'>nil</span>
<span class='kw'>rescue</span> <span class='const'>Exception</span> <span class='comment'># rubocop:disable Lint/RescueException
</span>  <span class='id identifier rubyid_ignore_interrupts'>ignore_interrupts</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_restore_backup'>restore_backup</span><span class='lparen'>(</span><span class='id identifier rubyid_keg'>keg</span><span class='comma'>,</span> <span class='id identifier rubyid_keg_was_linked'>keg_was_linked</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_raise'>raise</span>
<span class='kw'>else</span>
  <span class='kw'>begin</span>
    <span class='id identifier rubyid_backup_path'>backup_path</span><span class='lparen'>(</span><span class='id identifier rubyid_keg'>keg</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_rmtree'>rmtree</span> <span class='kw'>if</span> <span class='id identifier rubyid_backup_path'>backup_path</span><span class='lparen'>(</span><span class='id identifier rubyid_keg'>keg</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span>
  <span class='kw'>rescue</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>EACCES</span><span class='comma'>,</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>ENOTEMPTY</span>
    <span class='id identifier rubyid_odie'>odie</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      Could not remove </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_backup_path'>backup_path</span><span class='lparen'>(</span><span class='id identifier rubyid_keg'>keg</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_parent'>parent</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span><span class='embexpr_end'>}</span><span class='tstring_content'> backup keg! Do so manually:
</span><span class='tstring_content'>        sudo rm -rf </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_backup_path'>backup_path</span><span class='lparen'>(</span><span class='id identifier rubyid_keg'>keg</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>
</span><span class='heredoc_end'>    EOS
</span>  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="reject_ignores-class_method">
  
    .<strong>reject_ignores</strong>(dependables, ignores, includes)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


123
124
125
126
127
128
129</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dependencies.rb', line 123</span>

<span class='kw'>def</span> <span class='id identifier rubyid_reject_ignores'>reject_ignores</span><span class='lparen'>(</span><span class='id identifier rubyid_dependables'>dependables</span><span class='comma'>,</span> <span class='id identifier rubyid_ignores'>ignores</span><span class='comma'>,</span> <span class='id identifier rubyid_includes'>includes</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_dependables'>dependables</span><span class='period'>.</span><span class='id identifier rubyid_reject'>reject</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_dep'>dep</span><span class='op'>|</span>
    <span class='kw'>next</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='id identifier rubyid_ignores'>ignores</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_ignore'>ignore</span><span class='op'>|</span> <span class='id identifier rubyid_dep'>dep</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='id identifier rubyid_ignore'>ignore</span><span class='rparen'>)</span> <span class='rbrace'>}</span>

    <span class='id identifier rubyid_includes'>includes</span><span class='period'>.</span><span class='id identifier rubyid_none?'>none?</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_include'>include</span><span class='op'>|</span> <span class='id identifier rubyid_dep'>dep</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='id identifier rubyid_include'>include</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="release_notes-class_method">
  
    .<strong>release_notes</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/release-notes.rb', line 22</span>

<span class='kw'>def</span> <span class='id identifier rubyid_release_notes'>release_notes</span>
  <span class='id identifier rubyid_release_notes_args'>release_notes_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='id identifier rubyid_previous_tag'>previous_tag</span> <span class='op'>=</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
  <span class='id identifier rubyid_previous_tag'>previous_tag</span> <span class='op'>||=</span> <span class='const'><span class='object_link'><a href="Utils.html" title="Utils (module)">Utils</a></span></span><span class='period'>.</span><span class='id identifier rubyid_popen_read'><span class='object_link'><a href="Utils.html#popen_read-class_method" title="Utils.popen_read (method)">popen_read</a></span></span><span class='lparen'>(</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-C</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_REPOSITORY-constant" title="HOMEBREW_REPOSITORY (constant)">HOMEBREW_REPOSITORY</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>tag</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--list</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--sort=-version:refname</span><span class='tstring_end'>&quot;</span></span>
  <span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_lines'>lines</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span>
  <span class='id identifier rubyid_odie'>odie</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Could not find any previous tags!</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_previous_tag'>previous_tag</span>

  <span class='id identifier rubyid_end_ref'>end_ref</span> <span class='op'>=</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_second'>second</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>origin/master</span><span class='tstring_end'>&quot;</span></span>

  <span class='lbracket'>[</span><span class='id identifier rubyid_previous_tag'>previous_tag</span><span class='comma'>,</span> <span class='id identifier rubyid_end_ref'>end_ref</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_ref'>ref</span><span class='op'>|</span>
    <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_quiet_system'>quiet_system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-C</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_REPOSITORY-constant" title="HOMEBREW_REPOSITORY (constant)">HOMEBREW_REPOSITORY</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rev-parse</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--verify</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--quiet</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_ref'>ref</span>

    <span class='id identifier rubyid_odie'>odie</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Ref </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_ref'>ref</span><span class='embexpr_end'>}</span><span class='tstring_content'> does not exist!</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_output'>output</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Utils.html" title="Utils (module)">Utils</a></span></span><span class='period'>.</span><span class='id identifier rubyid_popen_read'><span class='object_link'><a href="Utils.html#popen_read-class_method" title="Utils.popen_read (method)">popen_read</a></span></span><span class='lparen'>(</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-C</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_REPOSITORY-constant" title="HOMEBREW_REPOSITORY (constant)">HOMEBREW_REPOSITORY</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>log</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--pretty=format:&#39;%s &gt;&gt; - %b%n&#39;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_previous_tag'>previous_tag</span><span class='embexpr_end'>}</span><span class='tstring_content'>..</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_end_ref'>end_ref</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_lines'>lines</span><span class='period'>.</span><span class='id identifier rubyid_grep'>grep</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>Merge pull request</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>

  <span class='id identifier rubyid_output'>output</span><span class='period'>.</span><span class='id identifier rubyid_map!'>map!</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span>
    <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>.*Merge pull request #(\d+) from ([^/]+)/[^&gt;]*(&gt;&gt;)*</span><span class='regexp_end'>}</span></span><span class='comma'>,</span>
           <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>https://github.com/Homebrew/brew/pull/\\1 (@\\2)</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_markdown?'>markdown?</span>
    <span class='id identifier rubyid_output'>output</span><span class='period'>.</span><span class='id identifier rubyid_map!'>map!</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span>
      <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(.*\d)+ \(@(.+)\) - (.*)</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='id identifier rubyid_s'>s</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>- [</span><span class='embexpr_beg'>#{</span><span class='const'>Regexp</span><span class='period'>.</span><span class='id identifier rubyid_last_match'>last_match</span><span class='lparen'>(</span><span class='int'>3</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>](</span><span class='embexpr_beg'>#{</span><span class='const'>Regexp</span><span class='period'>.</span><span class='id identifier rubyid_last_match'>last_match</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>) (@</span><span class='embexpr_beg'>#{</span><span class='const'>Regexp</span><span class='period'>.</span><span class='id identifier rubyid_last_match'>last_match</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='gvar'>$stderr</span><span class='period'>.</span><span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Release notes between </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_previous_tag'>previous_tag</span><span class='embexpr_end'>}</span><span class='tstring_content'> and </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_end_ref'>end_ref</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_output'>output</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="release_notes_args-class_method">
  
    .<strong>release_notes_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


8
9
10
11
12
13
14
15
16
17
18
19
20</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/release-notes.rb', line 8</span>

<span class='kw'>def</span> <span class='id identifier rubyid_release_notes_args'>release_notes_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `release-notes` [&lt;options&gt;] [&lt;previous_tag&gt;] [&lt;end_ref&gt;]
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Print the merged pull requests on Homebrew/brew between two Git refs.
</span><span class='tstring_content'>      If no &lt;previous_tag&gt; is provided it defaults to the latest tag.
</span><span class='tstring_content'>      If no &lt;end_ref&gt; is provided it defaults to `origin/master`.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--markdown</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Print as a Markdown list.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="restore_backup-class_method">
  
    .<strong>restore_backup</strong>(keg, keg_was_linked)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


70
71
72
73
74
75
76
77
78
79</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/reinstall.rb', line 70</span>

<span class='kw'>def</span> <span class='id identifier rubyid_restore_backup'>restore_backup</span><span class='lparen'>(</span><span class='id identifier rubyid_keg'>keg</span><span class='comma'>,</span> <span class='id identifier rubyid_keg_was_linked'>keg_was_linked</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_backup_path'>backup_path</span><span class='lparen'>(</span><span class='id identifier rubyid_keg'>keg</span><span class='rparen'>)</span>

  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_directory?'>directory?</span>

  <span class='const'><span class='object_link'><a href="Pathname.html" title="Pathname (class)">Pathname</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_keg'>keg</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_rmtree'>rmtree</span> <span class='kw'>if</span> <span class='id identifier rubyid_keg'>keg</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span>

  <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_rename'>rename</span> <span class='id identifier rubyid_keg'>keg</span>
  <span class='id identifier rubyid_keg'>keg</span><span class='period'>.</span><span class='id identifier rubyid_link'>link</span> <span class='kw'>if</span> <span class='id identifier rubyid_keg_was_linked'>keg_was_linked</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="retry_fetch?-class_method">
  
    .<strong>retry_fetch?</strong>(f)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


117
118
119
120
121
122
123
124
125
126
127</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/fetch.rb', line 117</span>

<span class='kw'>def</span> <span class='id identifier rubyid_retry_fetch?'>retry_fetch?</span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='rparen'>)</span>
  <span class='ivar'>@fetch_failed</span> <span class='op'>||=</span> <span class='const'>Set</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_retry?'>retry?</span> <span class='op'>&amp;&amp;</span> <span class='ivar'>@fetch_failed</span><span class='period'>.</span><span class='id identifier rubyid_add?'>add?</span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Retrying download</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_clear_cache'>clear_cache</span>
    <span class='kw'>true</span>
  <span class='kw'>else</span>
    <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='period'>.</span><span class='id identifier rubyid_failed'>failed</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>false</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="rm_pin-class_method">
  
    .<strong>rm_pin</strong>(rack)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


164
165
166
167
168</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/uninstall.rb', line 164</span>

<span class='kw'>def</span> <span class='id identifier rubyid_rm_pin'>rm_pin</span><span class='lparen'>(</span><span class='id identifier rubyid_rack'>rack</span><span class='rparen'>)</span>
  <span class='const'><span class='object_link'><a href="Formulary.html" title="Formulary (module)">Formulary</a></span></span><span class='period'>.</span><span class='id identifier rubyid_from_rack'><span class='object_link'><a href="Formulary.html#from_rack-class_method" title="Formulary.from_rack (method)">from_rack</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_rack'>rack</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_unpin'>unpin</span>
<span class='kw'>rescue</span>
  <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ruby-class_method">
  
    .<strong>ruby</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


25
26
27
28
29
30
31
32
33
34
35
36</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/ruby.rb', line 25</span>

<span class='kw'>def</span> <span class='id identifier rubyid_ruby'>ruby</span>
  <span class='id identifier rubyid_ruby_args'>ruby_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='kw'>begin</span>
    <span class='id identifier rubyid_safe_system'>safe_system</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HOMEBREW_RUBY_PATH</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
                <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-I</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='gvar'>$LOAD_PATH</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='const'>File</span><span class='op'>::</span><span class='const'>PATH_SEPARATOR</span><span class='rparen'>)</span><span class='comma'>,</span>
                <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-rglobal</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-rdev-cmd/irb</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                <span class='op'>*</span><span class='const'>ARGV</span>
  <span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="ErrorDuringExecution.html" title="ErrorDuringExecution (class)">ErrorDuringExecution</a></span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
    <span class='id identifier rubyid_exit'>exit</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_status'>status</span><span class='period'>.</span><span class='id identifier rubyid_exitstatus'>exitstatus</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ruby_args-class_method">
  
    .<strong>ruby_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/ruby.rb', line 8</span>

<span class='kw'>def</span> <span class='id identifier rubyid_ruby_args'>ruby_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `ruby` (`-e` &lt;text&gt;|&lt;file&gt;)
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Run a Ruby instance with Homebrew&#39;s libraries loaded, e.g.
</span><span class='tstring_content'>      `brew ruby -e &quot;puts :gcc.f.deps&quot;` or `brew ruby script.rb`.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-r</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Load a library using `require`.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-e</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Execute the given text string as a script.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:verbose</span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:debug</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ruby_bindir-class_method">
  
    .<strong>ruby_bindir</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


12
13
14</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/utils/gems.rb', line 12</span>

<span class='kw'>def</span> <span class='id identifier rubyid_ruby_bindir'>ruby_bindir</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'>RbConfig</span><span class='op'>::</span><span class='const'>CONFIG</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>prefix</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'>/bin</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="run_audit-class_method">
  
    .<strong>run_audit</strong>(formula, alias_rename, backup_file)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/bump-formula-pr.rb', line 441</span>

<span class='kw'>def</span> <span class='id identifier rubyid_run_audit'>run_audit</span><span class='lparen'>(</span><span class='id identifier rubyid_formula'>formula</span><span class='comma'>,</span> <span class='id identifier rubyid_alias_rename'>alias_rename</span><span class='comma'>,</span> <span class='id identifier rubyid_backup_file'>backup_file</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_dry_run?'>dry_run?</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_no_audit?'>no_audit?</span>
      <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Skipping `brew audit`</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_strict?'>strict?</span>
      <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>brew audit --strict </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>brew audit </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='kw'>return</span>
  <span class='kw'>end</span>
  <span class='const'>FileUtils</span><span class='period'>.</span><span class='id identifier rubyid_mv'>mv</span> <span class='id identifier rubyid_alias_rename'>alias_rename</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='comma'>,</span> <span class='id identifier rubyid_alias_rename'>alias_rename</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span> <span class='kw'>if</span> <span class='id identifier rubyid_alias_rename'>alias_rename</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
  <span class='id identifier rubyid_failed_audit'>failed_audit</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_no_audit?'>no_audit?</span>
    <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Skipping `brew audit`</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_strict?'>strict?</span>
    <span class='id identifier rubyid_system'>system</span> <span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_BREW_FILE-constant" title="HOMEBREW_BREW_FILE (constant)">HOMEBREW_BREW_FILE</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>audit</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--strict</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span>
    <span class='id identifier rubyid_failed_audit'>failed_audit</span> <span class='op'>=</span> <span class='op'>!</span><span class='gvar'>$CHILD_STATUS</span><span class='period'>.</span><span class='id identifier rubyid_success?'>success?</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_system'>system</span> <span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_BREW_FILE-constant" title="HOMEBREW_BREW_FILE (constant)">HOMEBREW_BREW_FILE</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>audit</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span>
    <span class='id identifier rubyid_failed_audit'>failed_audit</span> <span class='op'>=</span> <span class='op'>!</span><span class='gvar'>$CHILD_STATUS</span><span class='period'>.</span><span class='id identifier rubyid_success?'>success?</span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_failed_audit'>failed_audit</span>

  <span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_atomic_write'>atomic_write</span><span class='lparen'>(</span><span class='id identifier rubyid_backup_file'>backup_file</span><span class='rparen'>)</span>
  <span class='const'>FileUtils</span><span class='period'>.</span><span class='id identifier rubyid_mv'>mv</span> <span class='id identifier rubyid_alias_rename'>alias_rename</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span><span class='comma'>,</span> <span class='id identifier rubyid_alias_rename'>alias_rename</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span> <span class='kw'>if</span> <span class='id identifier rubyid_alias_rename'>alias_rename</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
  <span class='id identifier rubyid_odie'>odie</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>brew audit failed!</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="search-class_method">
  
    .<strong>search</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/search.rb', line 57</span>

<span class='kw'>def</span> <span class='id identifier rubyid_search'>search</span>
  <span class='id identifier rubyid_search_args'>search_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_package_manager'>package_manager</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="#PACKAGE_MANAGERS-constant" title="Homebrew::PACKAGE_MANAGERS (constant)">PACKAGE_MANAGERS</a></span></span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span><span class='op'>|</span> <span class='id identifier rubyid_args'>args</span><span class='lbracket'>[</span><span class='symbol'>:&quot;#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>?</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='rbrace'>}</span>
    <span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='id identifier rubyid_package_manager'>package_manager</span>
    <span class='id identifier rubyid_exec_browser'>exec_browser</span> <span class='id identifier rubyid_url'>url</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='const'>URI</span><span class='period'>.</span><span class='id identifier rubyid_encode_www_form_component'>encode_www_form_component</span><span class='lparen'>(</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_remaining'>remaining</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='kw'>return</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_remaining'>remaining</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_casks?'>casks?</span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='const'><span class='object_link'><a href="Formatter.html" title="Formatter (module)">Formatter</a></span></span><span class='period'>.</span><span class='id identifier rubyid_columns'><span class='object_link'><a href="Formatter.html#columns-class_method" title="Formatter.columns (method)">columns</a></span></span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="Cask.html" title="Cask (module)">Cask</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Cask/Cask.html" title="Cask::Cask (class)">Cask</a></span></span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:full_name</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='const'><span class='object_link'><a href="Formatter.html" title="Formatter (module)">Formatter</a></span></span><span class='period'>.</span><span class='id identifier rubyid_columns'><span class='object_link'><a href="Formatter.html#columns-class_method" title="Formatter.columns (method)">columns</a></span></span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="Formula.html" title="Formula (class)">Formula</a></span></span><span class='period'>.</span><span class='id identifier rubyid_full_names'>full_names</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='kw'>return</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_query'>query</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_remaining'>remaining</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_string_or_regex'>string_or_regex</span> <span class='op'>=</span> <span class='id identifier rubyid_query_regexp'>query_regexp</span><span class='lparen'>(</span><span class='id identifier rubyid_query'>query</span><span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_desc?'>desc?</span>
    <span class='id identifier rubyid_search_descriptions'>search_descriptions</span><span class='lparen'>(</span><span class='id identifier rubyid_string_or_regex'>string_or_regex</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_remote_results'>remote_results</span> <span class='op'>=</span> <span class='id identifier rubyid_search_taps'>search_taps</span><span class='lparen'>(</span><span class='id identifier rubyid_query'>query</span><span class='comma'>,</span> <span class='label'>silent:</span> <span class='kw'>true</span><span class='rparen'>)</span>

    <span class='id identifier rubyid_local_formulae'>local_formulae</span> <span class='op'>=</span> <span class='id identifier rubyid_search_formulae'>search_formulae</span><span class='lparen'>(</span><span class='id identifier rubyid_string_or_regex'>string_or_regex</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_remote_formulae'>remote_formulae</span> <span class='op'>=</span> <span class='id identifier rubyid_remote_results'>remote_results</span><span class='lbracket'>[</span><span class='symbol'>:formulae</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_all_formulae'>all_formulae</span> <span class='op'>=</span> <span class='id identifier rubyid_local_formulae'>local_formulae</span> <span class='op'>+</span> <span class='id identifier rubyid_remote_formulae'>remote_formulae</span>

    <span class='id identifier rubyid_local_casks'>local_casks</span> <span class='op'>=</span> <span class='id identifier rubyid_search_casks'>search_casks</span><span class='lparen'>(</span><span class='id identifier rubyid_string_or_regex'>string_or_regex</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_remote_casks'>remote_casks</span> <span class='op'>=</span> <span class='id identifier rubyid_remote_results'>remote_results</span><span class='lbracket'>[</span><span class='symbol'>:casks</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_all_casks'>all_casks</span> <span class='op'>=</span> <span class='id identifier rubyid_local_casks'>local_casks</span> <span class='op'>+</span> <span class='id identifier rubyid_remote_casks'>remote_casks</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_all_formulae'>all_formulae</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span>
      <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Formulae</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='const'><span class='object_link'><a href="Formatter.html" title="Formatter (module)">Formatter</a></span></span><span class='period'>.</span><span class='id identifier rubyid_columns'><span class='object_link'><a href="Formatter.html#columns-class_method" title="Formatter.columns (method)">columns</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_all_formulae'>all_formulae</span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_all_casks'>all_casks</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='kw'>if</span> <span class='id identifier rubyid_all_formulae'>all_formulae</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span>
      <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Casks</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='const'><span class='object_link'><a href="Formatter.html" title="Formatter (module)">Formatter</a></span></span><span class='period'>.</span><span class='id identifier rubyid_columns'><span class='object_link'><a href="Formatter.html#columns-class_method" title="Formatter.columns (method)">columns</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_all_casks'>all_casks</span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='gvar'>$stdout</span><span class='period'>.</span><span class='id identifier rubyid_tty?'>tty?</span>
      <span class='id identifier rubyid_count'>count</span> <span class='op'>=</span> <span class='id identifier rubyid_all_formulae'>all_formulae</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span> <span class='op'>+</span> <span class='id identifier rubyid_all_casks'>all_casks</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span>

      <span class='kw'>if</span> <span class='id identifier rubyid_reason'>reason</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Homebrew/MissingFormula.html" title="Homebrew::MissingFormula (module)">MissingFormula</a></span></span><span class='period'>.</span><span class='id identifier rubyid_reason'><span class='object_link'><a href="Homebrew/MissingFormula.html#reason-class_method" title="Homebrew::MissingFormula.reason (method)">reason</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_query'>query</span><span class='comma'>,</span> <span class='label'>silent:</span> <span class='kw'>true</span><span class='rparen'>)</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_count'>count</span><span class='period'>.</span><span class='id identifier rubyid_positive?'>positive?</span>
          <span class='id identifier rubyid_puts'>puts</span>
          <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>If you meant </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_content'> specifically:</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>end</span>
        <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_reason'>reason</span>
      <span class='kw'>elsif</span> <span class='id identifier rubyid_count'>count</span><span class='period'>.</span><span class='id identifier rubyid_zero?'>zero?</span>
        <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>No formula or cask found for </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_content'>.</span><span class='tstring_end'>&quot;</span></span>
        <span class='const'><span class='object_link'><a href="GitHub.html" title="GitHub (module)">GitHub</a></span></span><span class='period'>.</span><span class='id identifier rubyid_print_pull_requests_matching'><span class='object_link'><a href="GitHub.html#print_pull_requests_matching-class_method" title="GitHub.print_pull_requests_matching (method)">print_pull_requests_matching</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_query'>query</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='gvar'>$stdout</span><span class='period'>.</span><span class='id identifier rubyid_tty?'>tty?</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_remaining'>remaining</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='id identifier rubyid_metacharacters'>metacharacters</span> <span class='op'>=</span> <span class='qwords_beg'>%w[</span><span class='tstring_content'>\\</span><span class='words_sep'> </span><span class='tstring_content'>|</span><span class='words_sep'> </span><span class='tstring_content'>(</span><span class='words_sep'> </span><span class='tstring_content'>)</span><span class='words_sep'> </span><span class='tstring_content'>[</span><span class='words_sep'> </span><span class='tstring_content'>]</span><span class='words_sep'> </span><span class='tstring_content'>{</span><span class='words_sep'> </span><span class='tstring_content'>}</span><span class='words_sep'> </span><span class='tstring_content'>^</span><span class='words_sep'> </span><span class='tstring_content'>$</span><span class='words_sep'> </span><span class='tstring_content'>*</span><span class='words_sep'> </span><span class='tstring_content'>+</span><span class='words_sep'> </span><span class='tstring_content'>?</span><span class='tstring_end'>]</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_metacharacters'>metacharacters</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_char'>char</span><span class='op'>|</span>
    <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_remaining'>remaining</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_arg'>arg</span><span class='op'>|</span>
      <span class='id identifier rubyid_arg'>arg</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_char'>char</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_arg'>arg</span><span class='period'>.</span><span class='id identifier rubyid_start_with?'>start_with?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_opoo'>opoo</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>    Did you mean to perform a regular expression search?
</span><span class='tstring_content'>    Surround your query with /slashes/ to search locally by regex.
</span><span class='heredoc_end'>  EOS
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="search_args-class_method">
  
    .<strong>search_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/search.rb', line 27</span>

<span class='kw'>def</span> <span class='id identifier rubyid_search_args'>search_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `search` [&lt;options&gt;] [&lt;text&gt;|`/`&lt;text&gt;`/`]
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Perform a substring search of cask tokens and formula names for &lt;text&gt;. If &lt;text&gt;
</span><span class='tstring_content'>      is flanked by slashes, it is interpreted as a regular expression.
</span><span class='tstring_content'>      The search for &lt;text&gt; is extended online to `homebrew/core` and `homebrew/cask`.
</span><span class='tstring_content'>
</span><span class='tstring_content'>      If no &lt;text&gt; is provided, list all locally available formulae (including tapped ones).
</span><span class='tstring_content'>      No online search is performed.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--casks</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>List all locally available casks (including tapped ones). </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>No online search is performed.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--desc</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Search for formulae with a description matching &lt;text&gt; and casks with </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a name matching &lt;text&gt;.</span><span class='tstring_end'>&quot;</span></span>

    <span class='id identifier rubyid_package_manager_switches'>package_manager_switches</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="#PACKAGE_MANAGERS-constant" title="Homebrew::PACKAGE_MANAGERS (constant)">PACKAGE_MANAGERS</a></span></span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>
    <span class='id identifier rubyid_package_manager_switches'>package_manager_switches</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span>
      <span class='id identifier rubyid_switch'>switch</span> <span class='id identifier rubyid_s'>s</span><span class='comma'>,</span>
             <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Search for &lt;text&gt; in the given package manager&#39;s list.</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:verbose</span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:debug</span>
    <span class='id identifier rubyid_conflicts'>conflicts</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_package_manager_switches'>package_manager_switches</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="setup_gem_environment!-class_method">
  
    .<strong>setup_gem_environment!</strong>(gem_home: nil, gem_bindir: nil)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/utils/gems.rb', line 38</span>

<span class='kw'>def</span> <span class='id identifier rubyid_setup_gem_environment!'>setup_gem_environment!</span><span class='lparen'>(</span><span class='label'>gem_home:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>gem_bindir:</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='comment'># Match where our bundler gems are.
</span>  <span class='id identifier rubyid_gem_home'>gem_home</span> <span class='op'>||=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HOMEBREW_LIBRARY</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'>/Homebrew/vendor/bundle/ruby/</span><span class='embexpr_beg'>#{</span><span class='const'>RbConfig</span><span class='op'>::</span><span class='const'>CONFIG</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ruby_version</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GEM_HOME</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_gem_home'>gem_home</span>
  <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GEM_PATH</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GEM_HOME</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>

  <span class='comment'># Make RubyGems notice environment changes.
</span>  <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rubygems</span><span class='tstring_end'>&quot;</span></span>
  <span class='const'>Gem</span><span class='period'>.</span><span class='id identifier rubyid_clear_paths'>clear_paths</span>
  <span class='const'>Gem</span><span class='op'>::</span><span class='const'>Specification</span><span class='period'>.</span><span class='id identifier rubyid_reset'>reset</span>

  <span class='comment'># Add necessary Ruby and Gem binary directories to PATH.
</span>  <span class='id identifier rubyid_gem_bindir'>gem_bindir</span> <span class='op'>||=</span> <span class='const'>Gem</span><span class='period'>.</span><span class='id identifier rubyid_bindir'>bindir</span>
  <span class='id identifier rubyid_paths'>paths</span> <span class='op'>=</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PATH</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_paths'>paths</span><span class='period'>.</span><span class='id identifier rubyid_unshift'>unshift</span><span class='lparen'>(</span><span class='id identifier rubyid_ruby_bindir'>ruby_bindir</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_paths'>paths</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_ruby_bindir'>ruby_bindir</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_paths'>paths</span><span class='period'>.</span><span class='id identifier rubyid_unshift'>unshift</span><span class='lparen'>(</span><span class='id identifier rubyid_gem_bindir'>gem_bindir</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_paths'>paths</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_gem_bindir'>gem_bindir</span><span class='rparen'>)</span>
  <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PATH</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_paths'>paths</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="sh-class_method">
  
    .<strong>sh</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/sh.rb', line 28</span>

<span class='kw'>def</span> <span class='id identifier rubyid_sh'>sh</span>
  <span class='id identifier rubyid_sh_args'>sh_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>
  <span class='const'>ENV</span><span class='period'>.</span><span class='id identifier rubyid_activate_extensions!'>activate_extensions!</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_superenv?'><span class='object_link'><a href="top-level-namespace.html#superenv%3F-instance_method" title="#superenv? (method)">superenv?</a></span></span>
    <span class='const'>ENV</span><span class='period'>.</span><span class='id identifier rubyid_set_x11_env_if_installed'>set_x11_env_if_installed</span>
    <span class='const'>ENV</span><span class='period'>.</span><span class='id identifier rubyid_deps'>deps</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Formula.html" title="Formula (class)">Formula</a></span></span><span class='period'>.</span><span class='id identifier rubyid_installed'>installed</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_keg_only?'>keg_only?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_opt_prefix'>opt_prefix</span><span class='period'>.</span><span class='id identifier rubyid_directory?'>directory?</span> <span class='rbrace'>}</span>
  <span class='kw'>end</span>
  <span class='const'>ENV</span><span class='period'>.</span><span class='id identifier rubyid_setup_build_environment'>setup_build_environment</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_superenv?'><span class='object_link'><a href="top-level-namespace.html#superenv%3F-instance_method" title="#superenv? (method)">superenv?</a></span></span>
    <span class='comment'># superenv stopped adding brew&#39;s bin but generally users will want it
</span>    <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PATH</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="PATH.html" title="PATH (class)">PATH</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="PATH.html#initialize-instance_method" title="PATH#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PATH</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_insert'><span class='object_link'><a href="PATH.html#insert-instance_method" title="PATH#insert (method)">insert</a></span></span><span class='lparen'>(</span><span class='int'>1</span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_PREFIX-constant" title="HOMEBREW_PREFIX (constant)">HOMEBREW_PREFIX</a></span></span><span class='op'>/</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bin</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SHELL</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>zsh</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PS1</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>brew %B%F{green}~%f%b$ </span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PS1</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>brew \[\033[1;32m\]\w\[\033[0m\]$ </span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>
  <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>VERBOSE</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>    Your shell has been configured to use Homebrew&#39;s build environment;
</span><span class='tstring_content'>    this should help you build stuff. Notably though, the system versions of
</span><span class='tstring_content'>    gem and pip will ignore our configuration and insist on using the
</span><span class='tstring_content'>    environment they were built under (mostly). Sadly, scons will also
</span><span class='tstring_content'>    ignore our configuration.
</span><span class='tstring_content'>    When done, type `exit`.
</span><span class='heredoc_end'>  EOS
</span>  <span class='gvar'>$stdout</span><span class='period'>.</span><span class='id identifier rubyid_flush'>flush</span>
  <span class='id identifier rubyid_safe_system'>safe_system</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SHELL</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="sh_args-class_method">
  
    .<strong>sh_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/sh.rb', line 10</span>

<span class='kw'>def</span> <span class='id identifier rubyid_sh_args'>sh_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `sh` [&lt;options&gt;]
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Start a Homebrew build environment shell. Uses our years-battle-hardened
</span><span class='tstring_content'>      Homebrew build logic to help your `./configure &amp;&amp; make &amp;&amp; make install`
</span><span class='tstring_content'>      or even your `gem install` succeed. Especially handy if you run Homebrew
</span><span class='tstring_content'>      in an Xcode-only configuration since it adds tools like `make` to your `PATH`
</span><span class='tstring_content'>      which build systems would not find otherwise.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_flag'>flag</span>   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--env=</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Use the standard `PATH` instead of superenv&#39;s when `std` is passed.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:verbose</span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:debug</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="shorten_revision-class_method">
  
    .<strong>shorten_revision</strong>(revision)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


144
145
146</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/update-report.rb', line 144</span>

<span class='kw'>def</span> <span class='id identifier rubyid_shorten_revision'>shorten_revision</span><span class='lparen'>(</span><span class='id identifier rubyid_revision'>revision</span><span class='rparen'>)</span>
  <span class='const'><span class='object_link'><a href="Utils.html" title="Utils (module)">Utils</a></span></span><span class='period'>.</span><span class='id identifier rubyid_popen_read'><span class='object_link'><a href="Utils.html#popen_read-class_method" title="Utils.popen_read (method)">popen_read</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-C</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_REPOSITORY-constant" title="HOMEBREW_REPOSITORY (constant)">HOMEBREW_REPOSITORY</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rev-parse</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--short</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_revision'>revision</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="sort_key_for_path-class_method">
  
    .<strong>sort_key_for_path</strong>(path)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


94
95
96
97</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/man.rb', line 94</span>

<span class='kw'>def</span> <span class='id identifier rubyid_sort_key_for_path'>sort_key_for_path</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
  <span class='comment'># Options after regular commands (`~` comes after `z` in ASCII table).
</span>  <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_sub'>sub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\.(rb|sh)$</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_sub'>sub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^--</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>~~</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="style-class_method">
  
    .<strong>style</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/style.rb', line 38</span>

<span class='kw'>def</span> <span class='id identifier rubyid_style'>style</span>
  <span class='id identifier rubyid_style_args'>style_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='id identifier rubyid_target'>target</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='kw'>nil</span>
  <span class='kw'>elsif</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_file'>file</span><span class='op'>|</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span> <span class='id identifier rubyid_file'>file</span> <span class='rbrace'>}</span>
    <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span>
  <span class='kw'>elsif</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_tap'>tap</span><span class='op'>|</span> <span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>==</span> <span class='int'>1</span> <span class='rbrace'>}</span>
    <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_tap'>tap</span><span class='op'>|</span> <span class='const'><span class='object_link'><a href="Tap.html" title="Tap (class)">Tap</a></span></span><span class='period'>.</span><span class='id identifier rubyid_fetch'><span class='object_link'><a href="Tap.html#fetch-class_method" title="Tap.fetch (method)">fetch</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_tap'>tap</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span> <span class='rbrace'>}</span>
  <span class='kw'>else</span>
    <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_formulae'>formulae</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:path</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_only_cops'>only_cops</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_only_cops'>only_cops</span>
  <span class='id identifier rubyid_except_cops'>except_cops</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_except_cops'>except_cops</span>

  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='label'>fix:</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_fix?'>fix?</span> <span class='rbrace'>}</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_only_cops'>only_cops</span>
    <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:only_cops</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_only_cops'>only_cops</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_except_cops'>except_cops</span>
    <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:except_cops</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_except_cops'>except_cops</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_only_cops'>only_cops</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_except_cops'>except_cops</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:except_cops</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='qwords_beg'>%w[</span><span class='tstring_content'>FormulaAudit</span><span class='words_sep'>
                               </span><span class='tstring_content'>FormulaAuditStrict</span><span class='words_sep'>
                               </span><span class='tstring_content'>NewFormulaAudit</span><span class='tstring_end'>]</span></span>
  <span class='kw'>end</span>

  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='period'>.</span><span class='id identifier rubyid_failed'>failed</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Homebrew/Style.html" title="Homebrew::Style (module)">Style</a></span></span><span class='period'>.</span><span class='id identifier rubyid_check_style_and_print'><span class='object_link'><a href="Homebrew/Style.html#check_style_and_print-class_method" title="Homebrew::Style.check_style_and_print (method)">check_style_and_print</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_target'>target</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="style_args-class_method">
  
    .<strong>style_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/style.rb', line 11</span>

<span class='kw'>def</span> <span class='id identifier rubyid_style_args'>style_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `style` [&lt;options&gt;] [&lt;file&gt;|&lt;tap&gt;|&lt;formula&gt;]
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Check formulae or files for conformance to Homebrew style guidelines.
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Lists of &lt;file&gt;, &lt;tap&gt; and &lt;formula&gt; may not be combined. If none are
</span><span class='tstring_content'>      provided, `style` will run style checks on the whole Homebrew library,
</span><span class='tstring_content'>      including core code and all formulae.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--fix</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Fix style violations automatically using RuboCop&#39;s auto-correct feature.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--display-cop-names</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Include the RuboCop cop name for each violation in the output.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_comma_array'>comma_array</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--only-cops</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Specify a comma-separated &lt;cops&gt; list to check for violations of only the </span><span class='tstring_end'>&quot;</span></span>\
                             <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>listed RuboCop cops.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_comma_array'>comma_array</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--except-cops</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Specify a comma-separated &lt;cops&gt; list to skip checking for violations of the </span><span class='tstring_end'>&quot;</span></span>\
                             <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>listed RuboCop cops.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:verbose</span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:debug</span>
    <span class='id identifier rubyid_conflicts'>conflicts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--only-cops</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--except-cops</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="subject_for_bump-class_method">
  
    .<strong>subject_for_bump</strong>(formula, old, new)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/pull.rb', line 420</span>

<span class='kw'>def</span> <span class='id identifier rubyid_subject_for_bump'>subject_for_bump</span><span class='lparen'>(</span><span class='id identifier rubyid_formula'>formula</span><span class='comma'>,</span> <span class='id identifier rubyid_old'>old</span><span class='comma'>,</span> <span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_old'>old</span><span class='lbracket'>[</span><span class='symbol'>:nonexistent</span><span class='rbracket'>]</span>
    <span class='comment'># New formula
</span>    <span class='id identifier rubyid_headline_ver'>headline_ver</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_new'>new</span><span class='lbracket'>[</span><span class='symbol'>:stable</span><span class='rbracket'>]</span>
      <span class='id identifier rubyid_new'>new</span><span class='lbracket'>[</span><span class='symbol'>:stable</span><span class='rbracket'>]</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_new'>new</span><span class='lbracket'>[</span><span class='symbol'>:devel</span><span class='rbracket'>]</span>
      <span class='id identifier rubyid_new'>new</span><span class='lbracket'>[</span><span class='symbol'>:devel</span><span class='rbracket'>]</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_new'>new</span><span class='lbracket'>[</span><span class='symbol'>:head</span><span class='rbracket'>]</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_subject'>subject</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_headline_ver'>headline_ver</span><span class='embexpr_end'>}</span><span class='tstring_content'> (new formula)</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='comment'># Update to existing formula
</span>    <span class='id identifier rubyid_subject_strs'>subject_strs</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_formula_name_str'>formula_name_str</span> <span class='op'>=</span> <span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_old'>old</span><span class='lbracket'>[</span><span class='symbol'>:stable</span><span class='rbracket'>]</span> <span class='op'>!=</span> <span class='id identifier rubyid_new'>new</span><span class='lbracket'>[</span><span class='symbol'>:stable</span><span class='rbracket'>]</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_new'>new</span><span class='lbracket'>[</span><span class='symbol'>:stable</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='id identifier rubyid_subject_strs'>subject_strs</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>remove stable</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_formula_name_str'>formula_name_str</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span> <span class='comment'># just for cosmetics
</span>      <span class='kw'>else</span>
        <span class='id identifier rubyid_subject_strs'>subject_strs</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_new'>new</span><span class='lbracket'>[</span><span class='symbol'>:stable</span><span class='rbracket'>]</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_old'>old</span><span class='lbracket'>[</span><span class='symbol'>:devel</span><span class='rbracket'>]</span> <span class='op'>!=</span> <span class='id identifier rubyid_new'>new</span><span class='lbracket'>[</span><span class='symbol'>:devel</span><span class='rbracket'>]</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_new'>new</span><span class='lbracket'>[</span><span class='symbol'>:devel</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='comment'># Only bother mentioning if there&#39;s no accompanying stable change
</span>        <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_new'>new</span><span class='lbracket'>[</span><span class='symbol'>:stable</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_old'>old</span><span class='lbracket'>[</span><span class='symbol'>:stable</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='id identifier rubyid_new'>new</span><span class='lbracket'>[</span><span class='symbol'>:stable</span><span class='rbracket'>]</span>
          <span class='id identifier rubyid_subject_strs'>subject_strs</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>remove devel</span><span class='tstring_end'>&quot;</span></span>
          <span class='id identifier rubyid_formula_name_str'>formula_name_str</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span> <span class='comment'># just for cosmetics
</span>        <span class='kw'>end</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_subject_strs'>subject_strs</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new'>new</span><span class='lbracket'>[</span><span class='symbol'>:devel</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'> (devel)</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_subject'>subject</span> <span class='op'>=</span> <span class='id identifier rubyid_subject_strs'>subject_strs</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>?</span> <span class='kw'>nil</span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_formula_name_str'>formula_name_str</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_subject_strs'>subject_strs</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_subject'>subject</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="switch-class_method">
  
    .<strong>switch</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/switch.rb', line 22</span>

<span class='kw'>def</span> <span class='id identifier rubyid_switch'>switch</span>
  <span class='id identifier rubyid_switch_args'>switch_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>
  <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_remaining'>remaining</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>

  <span class='id identifier rubyid_usage'>usage</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Usage: brew switch &lt;formula&gt; &lt;version&gt;</span><span class='tstring_end'>&quot;</span></span>

  <span class='kw'>unless</span> <span class='id identifier rubyid_name'>name</span>
    <span class='id identifier rubyid_onoe'>onoe</span> <span class='id identifier rubyid_usage'>usage</span>
    <span class='id identifier rubyid_exit'>exit</span> <span class='int'>1</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_rack'>rack</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Formulary.html" title="Formulary (module)">Formulary</a></span></span><span class='period'>.</span><span class='id identifier rubyid_to_rack'><span class='object_link'><a href="Formulary.html#to_rack-class_method" title="Formulary.to_rack (method)">to_rack</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>

  <span class='kw'>unless</span> <span class='id identifier rubyid_rack'>rack</span><span class='period'>.</span><span class='id identifier rubyid_directory?'>directory?</span>
    <span class='id identifier rubyid_onoe'>onoe</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> not found in the Cellar.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_exit'>exit</span> <span class='int'>2</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_versions'>versions</span> <span class='op'>=</span> <span class='id identifier rubyid_rack'>rack</span><span class='period'>.</span><span class='id identifier rubyid_subdirs'>subdirs</span>
                 <span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_d'>d</span><span class='op'>|</span> <span class='const'><span class='object_link'><a href="Keg.html" title="Keg (class)">Keg</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Keg.html#initialize-instance_method" title="Keg#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_d'>d</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_version'><span class='object_link'><a href="Keg.html#version-instance_method" title="Keg#version (method)">version</a></span></span> <span class='rbrace'>}</span>
                 <span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span>
                 <span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_version'>version</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_remaining'>remaining</span><span class='period'>.</span><span class='id identifier rubyid_second'>second</span>

  <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_version'>version</span> <span class='op'>||</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_remaining'>remaining</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>&gt;</span> <span class='int'>2</span>
    <span class='id identifier rubyid_onoe'>onoe</span> <span class='id identifier rubyid_usage'>usage</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> installed versions: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_versions'>versions</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_exit'>exit</span> <span class='int'>1</span>
  <span class='kw'>end</span>

  <span class='kw'>unless</span> <span class='lparen'>(</span><span class='id identifier rubyid_rack'>rack</span><span class='op'>/</span><span class='id identifier rubyid_version'>version</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_directory?'>directory?</span>
    <span class='id identifier rubyid_onoe'>onoe</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> does not have a version \&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_version'>version</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot; in the Cellar.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> installed versions: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_versions'>versions</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_exit'>exit</span> <span class='int'>3</span>
  <span class='kw'>end</span>

  <span class='comment'># Unlink all existing versions
</span>  <span class='id identifier rubyid_rack'>rack</span><span class='period'>.</span><span class='id identifier rubyid_subdirs'>subdirs</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span>
    <span class='id identifier rubyid_keg'>keg</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Keg.html" title="Keg (class)">Keg</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Keg.html#initialize-instance_method" title="Keg#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Cleaning </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_keg'>keg</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_keg'>keg</span><span class='period'>.</span><span class='id identifier rubyid_unlink'>unlink</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_keg'>keg</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Keg.html" title="Keg (class)">Keg</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Keg.html#initialize-instance_method" title="Keg#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_rack'>rack</span><span class='op'>/</span><span class='id identifier rubyid_version'>version</span><span class='rparen'>)</span>

  <span class='comment'># Link new version, if not keg-only
</span>  <span class='kw'>if</span> <span class='const'><span class='object_link'><a href="Formulary.html" title="Formulary (module)">Formulary</a></span></span><span class='period'>.</span><span class='id identifier rubyid_keg_only?'><span class='object_link'><a href="Formulary.html#keg_only%3F-class_method" title="Formulary.keg_only? (method)">keg_only?</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_rack'>rack</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_keg'>keg</span><span class='period'>.</span><span class='id identifier rubyid_optlink'>optlink</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Opt link created for </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_keg'>keg</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_keg'>keg</span><span class='period'>.</span><span class='id identifier rubyid_link'>link</span><span class='embexpr_end'>}</span><span class='tstring_content'> links created for </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_keg'>keg</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="switch_args-class_method">
  
    .<strong>switch_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


10
11
12
13
14
15
16
17
18
19
20</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/switch.rb', line 10</span>

<span class='kw'>def</span> <span class='id identifier rubyid_switch_args'>switch_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `switch` &lt;formula&gt; &lt;version&gt;
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Symlink all of the specified &lt;version&gt; of &lt;formula&gt;&#39;s installation into Homebrew&#39;s prefix.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_switch_option'>switch_option</span> <span class='symbol'>:verbose</span>
    <span class='id identifier rubyid_switch_option'>switch_option</span> <span class='symbol'>:debug</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="system-class_method">
  
    .<strong>system</strong>(cmd, *args, **options)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


37
38
39
40</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/utils.rb', line 37</span>

<span class='kw'>def</span> <span class='id identifier rubyid_system'>system</span><span class='lparen'>(</span><span class='id identifier rubyid_cmd'>cmd</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_cmd'>cmd</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_args'>args</span> <span class='op'>*</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_verbose?'>verbose?</span>
  <span class='id identifier rubyid__system'>_system</span><span class='lparen'>(</span><span class='id identifier rubyid_cmd'>cmd</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="tap-class_method">
  
    .<strong>tap</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/tap.rb', line 44</span>

<span class='kw'>def</span> <span class='id identifier rubyid_tap'>tap</span>
  <span class='id identifier rubyid_tap_args'>tap_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_repair?'>repair?</span>
    <span class='const'><span class='object_link'><a href="Tap.html" title="Tap (class)">Tap</a></span></span><span class='period'>.</span><span class='id identifier rubyid_each'><span class='object_link'><a href="Tap.html#each-class_method" title="Tap.each (method)">each</a></span></span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:link_completions_and_manpages</span><span class='rparen'>)</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_list_pinned?'>list_pinned?</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='const'><span class='object_link'><a href="Tap.html" title="Tap (class)">Tap</a></span></span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:pinned?</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:name</span><span class='rparen'>)</span>
  <span class='kw'>elsif</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='const'><span class='object_link'><a href="Tap.html" title="Tap (class)">Tap</a></span></span><span class='period'>.</span><span class='id identifier rubyid_names'><span class='object_link'><a href="Tap.html#names-class_method" title="Tap.names (method)">names</a></span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_tap'>tap</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Tap.html" title="Tap (class)">Tap</a></span></span><span class='period'>.</span><span class='id identifier rubyid_fetch'><span class='object_link'><a href="Tap.html#fetch-class_method" title="Tap.fetch (method)">fetch</a></span></span><span class='lparen'>(</span><span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='rparen'>)</span>
    <span class='kw'>begin</span>
      <span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_install'>install</span> <span class='label'>clone_target:</span>      <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_second'>second</span><span class='comma'>,</span>
                  <span class='label'>force_auto_update:</span> <span class='id identifier rubyid_force_auto_update?'>force_auto_update?</span><span class='comma'>,</span>
                  <span class='label'>full_clone:</span>        <span class='id identifier rubyid_full_clone?'>full_clone?</span><span class='comma'>,</span>
                  <span class='label'>quiet:</span>             <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_quieter?'>quieter?</span>
    <span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="TapRemoteMismatchError.html" title="TapRemoteMismatchError (class)">TapRemoteMismatchError</a></span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
      <span class='id identifier rubyid_odie'>odie</span> <span class='id identifier rubyid_e'>e</span>
    <span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="TapAlreadyTappedError.html" title="TapAlreadyTappedError (class)">TapAlreadyTappedError</a></span></span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="TapAlreadyUnshallowError.html" title="TapAlreadyUnshallowError (class)">TapAlreadyUnshallowError</a></span></span> <span class='comment'># rubocop:disable Lint/HandleExceptions
</span>    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="tap_args-class_method">
  
    .<strong>tap_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/tap.rb', line 8</span>

<span class='kw'>def</span> <span class='id identifier rubyid_tap_args'>tap_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `tap` [&lt;options&gt;] &lt;user&gt;`/`&lt;repo&gt; [&lt;URL&gt;]
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Tap a formula repository.
</span><span class='tstring_content'>
</span><span class='tstring_content'>      If no arguments are provided, list all installed taps.
</span><span class='tstring_content'>
</span><span class='tstring_content'>      With &lt;URL&gt; unspecified, tap a formula repository from GitHub using HTTPS.
</span><span class='tstring_content'>      Since so many taps are hosted on GitHub, this command is a shortcut for
</span><span class='tstring_content'>      `brew tap` &lt;user&gt;`/`&lt;repo&gt; `https://github.com/`&lt;user&gt;`/homebrew-`&lt;repo&gt;.
</span><span class='tstring_content'>
</span><span class='tstring_content'>      With &lt;URL&gt; specified, tap a formula repository from anywhere, using
</span><span class='tstring_content'>      any transport protocol that `git`(1) handles. The one-argument form of `tap`
</span><span class='tstring_content'>      simplifies but also limits. This two-argument command makes no
</span><span class='tstring_content'>      assumptions, so taps can be cloned from places other than GitHub and
</span><span class='tstring_content'>      using protocols other than HTTPS, e.g. SSH, GIT, HTTP, FTP(S), RSYNC.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--full</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Use a full clone when tapping a repository. By default, the repository is </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cloned as a shallow copy (`--depth=1`). To convert a shallow copy to a </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>full copy, you can retap by passing `--full` without first untapping.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--force-auto-update</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Auto-update tap even if it is not hosted on GitHub. By default, only taps </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hosted on GitHub are auto-updated (for performance reasons).</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--repair</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Migrate tapped formulae from symlink-based to directory-based structure.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--list-pinned</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>List all pinned taps.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-q</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--quieter</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Suppress any warnings.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:debug</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="tap_info-class_method">
  
    .<strong>tap_info</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/tap-info.rb', line 27</span>

<span class='kw'>def</span> <span class='id identifier rubyid_tap_info'>tap_info</span>
  <span class='id identifier rubyid_tap_info_args'>tap_info_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_installed?'>installed?</span>
    <span class='id identifier rubyid_taps'>taps</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Tap.html" title="Tap (class)">Tap</a></span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_taps'>taps</span> <span class='op'>=</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='op'>|</span>
      <span class='const'><span class='object_link'><a href="Tap.html" title="Tap (class)">Tap</a></span></span><span class='period'>.</span><span class='id identifier rubyid_fetch'><span class='object_link'><a href="Tap.html#fetch-class_method" title="Tap.fetch (method)">fetch</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_json'>json</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="UsageError.html" title="UsageError (class)">UsageError</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>invalid JSON version: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_json'>json</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>v1</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='kw'>true</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_json'>json</span>

    <span class='id identifier rubyid_print_tap_json'>print_tap_json</span><span class='lparen'>(</span><span class='id identifier rubyid_taps'>taps</span><span class='period'>.</span><span class='id identifier rubyid_sort_by'>sort_by</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:to_s</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_print_tap_info'>print_tap_info</span><span class='lparen'>(</span><span class='id identifier rubyid_taps'>taps</span><span class='period'>.</span><span class='id identifier rubyid_sort_by'>sort_by</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:to_s</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="tap_info_args-class_method">
  
    .<strong>tap_info_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/tap-info.rb', line 8</span>

<span class='kw'>def</span> <span class='id identifier rubyid_tap_info_args'>tap_info_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `tap-info` [&lt;options&gt;] [&lt;tap&gt;]
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Show detailed information about one or more &lt;tap&gt;s.
</span><span class='tstring_content'>
</span><span class='tstring_content'>      If no &lt;tap&gt; names are provided, display brief statistics for all installed taps.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--installed</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Show information on each installed tap.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_flag'>flag</span>   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--json</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Print a JSON representation of &lt;tap&gt;. Currently the default and only accepted </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>value for &lt;version&gt; is `v1`. See the docs for examples of using the JSON </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>output: &lt;https://docs.brew.sh/Querying-Brew&gt;</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:debug</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="tap_new-class_method">
  
    .<strong>tap_new</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/tap-new.rb', line 21</span>

<span class='kw'>def</span> <span class='id identifier rubyid_tap_new'>tap_new</span>
  <span class='id identifier rubyid_tap_new_args'>tap_new_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>A tap argument is required</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='id identifier rubyid_tap'>tap</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Tap.html" title="Tap (class)">Tap</a></span></span><span class='period'>.</span><span class='id identifier rubyid_fetch'><span class='object_link'><a href="Tap.html#fetch-class_method" title="Tap.fetch (method)">fetch</a></span></span><span class='lparen'>(</span><span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_titleized_user'>titleized_user</span> <span class='op'>=</span> <span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_user'>user</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
  <span class='id identifier rubyid_titleized_repo'>titleized_repo</span> <span class='op'>=</span> <span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_repo'>repo</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
  <span class='id identifier rubyid_titleized_user'>titleized_user</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_titleized_user'>titleized_user</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_upcase'>upcase</span>
  <span class='id identifier rubyid_titleized_repo'>titleized_repo</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_titleized_repo'>titleized_repo</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_upcase'>upcase</span>

  <span class='lparen'>(</span><span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='op'>/</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Formula</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_mkpath'>mkpath</span>

  <span class='id identifier rubyid_readme'>readme</span> <span class='op'>=</span> <span class='heredoc_beg'>&lt;&lt;~MARKDOWN</span>
<span class='tstring_content'>    # </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_titleized_user'>titleized_user</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_titleized_repo'>titleized_repo</span><span class='embexpr_end'>}</span><span class='tstring_content'>
</span><span class='tstring_content'>
</span><span class='tstring_content'>    ## How do I install these formulae?
</span><span class='tstring_content'>    `brew install </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tap'>tap</span><span class='embexpr_end'>}</span><span class='tstring_content'>/&lt;formula&gt;`
</span><span class='tstring_content'>
</span><span class='tstring_content'>    Or `brew tap </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tap'>tap</span><span class='embexpr_end'>}</span><span class='tstring_content'>` and then `brew install &lt;formula&gt;`.
</span><span class='tstring_content'>
</span><span class='tstring_content'>    Or install via URL (which will not receive updates):
</span><span class='tstring_content'>
</span><span class='tstring_content'>    ```
</span><span class='tstring_content'>    brew install https://raw.githubusercontent.com/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_user'>user</span><span class='embexpr_end'>}</span><span class='tstring_content'>/homebrew-</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_repo'>repo</span><span class='embexpr_end'>}</span><span class='tstring_content'>/master/Formula/&lt;formula&gt;.rb
</span><span class='tstring_content'>    ```
</span><span class='tstring_content'>
</span><span class='tstring_content'>    ## Documentation
</span><span class='tstring_content'>    `brew help`, `man brew` or check [Homebrew&#39;s documentation](https://docs.brew.sh).
</span><span class='heredoc_end'>  MARKDOWN
</span>  <span class='id identifier rubyid_write_path'>write_path</span><span class='lparen'>(</span><span class='id identifier rubyid_tap'>tap</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>README.md</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_readme'>readme</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_azure'>azure</span> <span class='op'>=</span> <span class='heredoc_beg'>&lt;&lt;~YAML</span>
<span class='tstring_content'>    jobs:
</span><span class='tstring_content'>    - job: macOS
</span><span class='tstring_content'>      pool:
</span><span class='tstring_content'>        vmImage: macOS-10.14
</span><span class='tstring_content'>      steps:
</span><span class='tstring_content'>        - bash: |
</span><span class='tstring_content'>            set -e
</span><span class='tstring_content'>            sudo xcode-select --switch /Applications/Xcode_10.2.app/Contents/Developer
</span><span class='tstring_content'>            brew update
</span><span class='tstring_content'>            HOMEBREW_TAP_DIR=&quot;/usr/local/Homebrew/Library/Taps/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&quot;
</span><span class='tstring_content'>            mkdir -p &quot;$HOMEBREW_TAP_DIR&quot;
</span><span class='tstring_content'>            rm -rf &quot;$HOMEBREW_TAP_DIR&quot;
</span><span class='tstring_content'>            ln -s &quot;$PWD&quot; &quot;$HOMEBREW_TAP_DIR&quot;
</span><span class='tstring_content'>            brew test-bot
</span><span class='tstring_content'>          displayName: Run brew test-bot
</span><span class='heredoc_end'>  YAML
</span>  <span class='id identifier rubyid_write_path'>write_path</span><span class='lparen'>(</span><span class='id identifier rubyid_tap'>tap</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>azure-pipelines.yml</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_azure'>azure</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Created </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tap'>tap</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="tap_new_args-class_method">
  
    .<strong>tap_new_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


9
10
11
12
13
14
15
16
17
18
19</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/tap-new.rb', line 9</span>

<span class='kw'>def</span> <span class='id identifier rubyid_tap_new_args'>tap_new_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `tap-new` &lt;user&gt;`/`&lt;repo&gt;
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Generate the template files for a new tap.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:verbose</span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:debug</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="tap_pin-class_method">
  
    .<strong>tap_pin</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


21
22
23
24
25
26
27
28
29
30
31
32
33
34</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/tap-pin.rb', line 21</span>

<span class='kw'>def</span> <span class='id identifier rubyid_tap_pin'>tap_pin</span>
  <span class='id identifier rubyid_odeprecated'>odeprecated</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>brew tap-pin user/tap</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
              <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>fully-scoped user/tap/formula naming</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_tap_pin_args'>tap_pin_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='op'>|</span>
    <span class='id identifier rubyid_tap'>tap</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Tap.html" title="Tap (class)">Tap</a></span></span><span class='period'>.</span><span class='id identifier rubyid_fetch'><span class='object_link'><a href="Tap.html#fetch-class_method" title="Tap.fetch (method)">fetch</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>pinning </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tap'>tap</span><span class='embexpr_end'>}</span><span class='tstring_content'> is not allowed</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_core_tap?'>core_tap?</span>

    <span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_pin'>pin</span>
    <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Pinned </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tap'>tap</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="tap_pin_args-class_method">
  
    .<strong>tap_pin_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


8
9
10
11
12
13
14
15
16
17
18
19</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/tap-pin.rb', line 8</span>

<span class='kw'>def</span> <span class='id identifier rubyid_tap_pin_args'>tap_pin_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `tap-pin` &lt;tap&gt;
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Pin &lt;tap&gt;, prioritising its formulae over core when formula names are supplied
</span><span class='tstring_content'>      by the user. See also `tap-unpin`.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:debug</span>
    <span class='id identifier rubyid_hide_from_man_page!'>hide_from_man_page!</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="tap_unpin-class_method">
  
    .<strong>tap_unpin</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


20
21
22
23
24
25
26
27
28
29
30
31
32
33</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/tap-unpin.rb', line 20</span>

<span class='kw'>def</span> <span class='id identifier rubyid_tap_unpin'>tap_unpin</span>
  <span class='id identifier rubyid_odeprecated'>odeprecated</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>brew tap-pin user/tap</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
              <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>fully-scoped user/tap/formula naming</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_tap_unpin_args'>tap_unpin_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='op'>|</span>
    <span class='id identifier rubyid_tap'>tap</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Tap.html" title="Tap (class)">Tap</a></span></span><span class='period'>.</span><span class='id identifier rubyid_fetch'><span class='object_link'><a href="Tap.html#fetch-class_method" title="Tap.fetch (method)">fetch</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>unpinning </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tap'>tap</span><span class='embexpr_end'>}</span><span class='tstring_content'> is not allowed</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_core_tap?'>core_tap?</span>

    <span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_unpin'>unpin</span>
    <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unpinned </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tap'>tap</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="tap_unpin_args-class_method">
  
    .<strong>tap_unpin_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


8
9
10
11
12
13
14
15
16
17
18</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/tap-unpin.rb', line 8</span>

<span class='kw'>def</span> <span class='id identifier rubyid_tap_unpin_args'>tap_unpin_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `tap-unpin` &lt;tap&gt;
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Unpin &lt;tap&gt; so its formulae are no longer prioritised. See also `tap-pin`.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:debug</span>
    <span class='id identifier rubyid_hide_from_man_page!'>hide_from_man_page!</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="target_path_to_format-class_method">
  
    .<strong>target_path_to_format</strong>(target)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


141
142
143
144
145
146
147
148</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/man.rb', line 141</span>

<span class='kw'>def</span> <span class='id identifier rubyid_target_path_to_format'>target_path_to_format</span><span class='lparen'>(</span><span class='id identifier rubyid_target'>target</span><span class='rparen'>)</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_target'>target</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span>
  <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\.md$</span><span class='regexp_end'>/</span></span>    <span class='kw'>then</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--markdown</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>markdown</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
  <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\.\d$</span><span class='regexp_end'>/</span></span>    <span class='kw'>then</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--roff</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>man page</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_odie'>odie</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Failed to infer output format from &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_target'>target</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="test-class_method">
  
    .<strong>test</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="FormulaUnspecifiedError.html" title="FormulaUnspecifiedError (class)">FormulaUnspecifiedError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/test.rb', line 34</span>

<span class='kw'>def</span> <span class='id identifier rubyid_test'>test</span>
  <span class='id identifier rubyid_test_args'>test_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="FormulaUnspecifiedError.html" title="FormulaUnspecifiedError (class)">FormulaUnspecifiedError</a></span></span> <span class='kw'>if</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>formula_assertions</span><span class='tstring_end'>&quot;</span></span>

  <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_resolved_formulae'>resolved_formulae</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
    <span class='comment'># Cannot test uninstalled formulae
</span>    <span class='kw'>unless</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_installed?'>installed?</span>
      <span class='id identifier rubyid_ofail'>ofail</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Testing requires the latest version of </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>next</span>
    <span class='kw'>end</span>

    <span class='comment'># Cannot test formulae without a test method
</span>    <span class='kw'>unless</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_test_defined?'>test_defined?</span>
      <span class='id identifier rubyid_ofail'>ofail</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> defines no test</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>next</span>
    <span class='kw'>end</span>

    <span class='comment'># Don&#39;t test unlinked formulae
</span>    <span class='kw'>if</span> <span class='op'>!</span><span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_force?'>force?</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_keg_only?'>keg_only?</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_linked?'>linked?</span>
      <span class='id identifier rubyid_ofail'>ofail</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> is not linked</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>next</span>
    <span class='kw'>end</span>

    <span class='comment'># Don&#39;t test formulae missing test dependencies
</span>    <span class='id identifier rubyid_missing_test_deps'>missing_test_deps</span> <span class='op'>=</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_recursive_dependencies'>recursive_dependencies</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='id identifier rubyid_dependency'>dependency</span><span class='op'>|</span>
      <span class='const'><span class='object_link'><a href="Dependency.html" title="Dependency (class)">Dependency</a></span></span><span class='period'>.</span><span class='id identifier rubyid_prune'><span class='object_link'><a href="Dependency.html#prune-class_method" title="Dependency.prune (method)">prune</a></span></span> <span class='kw'>if</span> <span class='id identifier rubyid_dependency'>dependency</span><span class='period'>.</span><span class='id identifier rubyid_installed?'>installed?</span>
      <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_dependency'>dependency</span><span class='period'>.</span><span class='id identifier rubyid_test?'>test?</span>

      <span class='const'><span class='object_link'><a href="Dependency.html" title="Dependency (class)">Dependency</a></span></span><span class='period'>.</span><span class='id identifier rubyid_prune'><span class='object_link'><a href="Dependency.html#prune-class_method" title="Dependency.prune (method)">prune</a></span></span> <span class='kw'>if</span> <span class='id identifier rubyid_dependency'>dependency</span><span class='period'>.</span><span class='id identifier rubyid_optional?'>optional?</span>
      <span class='const'><span class='object_link'><a href="Dependency.html" title="Dependency (class)">Dependency</a></span></span><span class='period'>.</span><span class='id identifier rubyid_prune'><span class='object_link'><a href="Dependency.html#prune-class_method" title="Dependency.prune (method)">prune</a></span></span> <span class='kw'>if</span> <span class='id identifier rubyid_dependency'>dependency</span><span class='period'>.</span><span class='id identifier rubyid_build?'>build?</span>
    <span class='kw'>end</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:to_s</span><span class='rparen'>)</span>
    <span class='kw'>unless</span> <span class='id identifier rubyid_missing_test_deps'>missing_test_deps</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
      <span class='id identifier rubyid_ofail'>ofail</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> is missing test dependencies: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_missing_test_deps'>missing_test_deps</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>next</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Testing </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>

    <span class='id identifier rubyid_env'><span class='object_link'><a href="HomebrewArgvExtension.html#env-instance_method" title="HomebrewArgvExtension#env (method)">env</a></span></span> <span class='op'>=</span> <span class='const'>ENV</span><span class='period'>.</span><span class='id identifier rubyid_to_hash'>to_hash</span>

    <span class='kw'>begin</span>
      <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='words_beg'>%W[</span><span class='words_sep'>
        </span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="top-level-namespace.html#RUBY_PATH-constant" title="RUBY_PATH (constant)">RUBY_PATH</a></span></span><span class='embexpr_end'>}</span><span class='words_sep'>
        </span><span class='tstring_content'>-W0</span><span class='words_sep'>
        </span><span class='tstring_content'>-I</span><span class='words_sep'> </span><span class='embexpr_beg'>#{</span><span class='gvar'>$LOAD_PATH</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='const'>File</span><span class='op'>::</span><span class='const'>PATH_SEPARATOR</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='words_sep'>
        </span><span class='tstring_content'>--</span><span class='words_sep'>
        </span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_LIBRARY_PATH-constant" title="HOMEBREW_LIBRARY_PATH (constant)">HOMEBREW_LIBRARY_PATH</a></span></span><span class='embexpr_end'>}</span><span class='tstring_content'>/test.rb</span><span class='words_sep'>
        </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='embexpr_end'>}</span><span class='words_sep'>
      </span><span class='tstring_end'>]</span></span><span class='period'>.</span><span class='id identifier rubyid_concat'>concat</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='period'>.</span><span class='id identifier rubyid_args'><span class='object_link'><a href="#args-class_method" title="Homebrew.args (method)">args</a></span></span><span class='period'>.</span><span class='id identifier rubyid_options_only'>options_only</span><span class='rparen'>)</span>

      <span class='kw'>if</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_head?'>head?</span>
        <span class='id identifier rubyid_args'>args</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--HEAD</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>elsif</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_devel?'>devel?</span>
        <span class='id identifier rubyid_args'>args</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--devel</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>

      <span class='const'><span class='object_link'><a href="Utils.html" title="Utils (module)">Utils</a></span></span><span class='period'>.</span><span class='id identifier rubyid_safe_fork'><span class='object_link'><a href="Utils.html#safe_fork-class_method" title="Utils.safe_fork (method)">safe_fork</a></span></span> <span class='kw'>do</span>
        <span class='kw'>if</span> <span class='const'><span class='object_link'><a href="Sandbox.html" title="Sandbox (class)">Sandbox</a></span></span><span class='period'>.</span><span class='id identifier rubyid_test?'><span class='object_link'><a href="Sandbox.html#test%3F-class_method" title="Sandbox.test? (method)">test?</a></span></span>
          <span class='id identifier rubyid_sandbox'>sandbox</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Sandbox.html" title="Sandbox (class)">Sandbox</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Sandbox.html#initialize-instance_method" title="Sandbox#initialize (method)">new</a></span></span>
          <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_logs'>logs</span><span class='period'>.</span><span class='id identifier rubyid_mkpath'>mkpath</span>
          <span class='id identifier rubyid_sandbox'>sandbox</span><span class='period'>.</span><span class='id identifier rubyid_record_log'>record_log</span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_logs'>logs</span><span class='op'>/</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>test.sandbox.log</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
          <span class='id identifier rubyid_sandbox'>sandbox</span><span class='period'>.</span><span class='id identifier rubyid_allow_write_temp_and_cache'>allow_write_temp_and_cache</span>
          <span class='id identifier rubyid_sandbox'>sandbox</span><span class='period'>.</span><span class='id identifier rubyid_allow_write_log'>allow_write_log</span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='rparen'>)</span>
          <span class='id identifier rubyid_sandbox'>sandbox</span><span class='period'>.</span><span class='id identifier rubyid_allow_write_xcode'>allow_write_xcode</span>
          <span class='id identifier rubyid_sandbox'>sandbox</span><span class='period'>.</span><span class='id identifier rubyid_allow_write_path'>allow_write_path</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_PREFIX-constant" title="HOMEBREW_PREFIX (constant)">HOMEBREW_PREFIX</a></span></span><span class='op'>/</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>var/cache</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
          <span class='id identifier rubyid_sandbox'>sandbox</span><span class='period'>.</span><span class='id identifier rubyid_allow_write_path'>allow_write_path</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_PREFIX-constant" title="HOMEBREW_PREFIX (constant)">HOMEBREW_PREFIX</a></span></span><span class='op'>/</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>var/homebrew/locks</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
          <span class='id identifier rubyid_sandbox'>sandbox</span><span class='period'>.</span><span class='id identifier rubyid_allow_write_path'>allow_write_path</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_PREFIX-constant" title="HOMEBREW_PREFIX (constant)">HOMEBREW_PREFIX</a></span></span><span class='op'>/</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>var/log</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
          <span class='id identifier rubyid_sandbox'>sandbox</span><span class='period'>.</span><span class='id identifier rubyid_allow_write_path'>allow_write_path</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_PREFIX-constant" title="HOMEBREW_PREFIX (constant)">HOMEBREW_PREFIX</a></span></span><span class='op'>/</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>var/run</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
          <span class='id identifier rubyid_sandbox'>sandbox</span><span class='period'>.</span><span class='id identifier rubyid_exec'>exec</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
        <span class='kw'>else</span>
          <span class='id identifier rubyid_exec'>exec</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>rescue</span> <span class='const'>Exception</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span> <span class='comment'># rubocop:disable Lint/RescueException
</span>      <span class='id identifier rubyid_ofail'>ofail</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>: failed</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_e'>e</span><span class='comma'>,</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_backtrace'>backtrace</span>
    <span class='kw'>ensure</span>
      <span class='const'>ENV</span><span class='period'>.</span><span class='id identifier rubyid_replace'>replace</span><span class='lparen'>(</span><span class='id identifier rubyid_env'><span class='object_link'><a href="HomebrewArgvExtension.html#env-instance_method" title="HomebrewArgvExtension#env (method)">env</a></span></span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="test_args-class_method">
  
    .<strong>test_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/test.rb', line 11</span>

<span class='kw'>def</span> <span class='id identifier rubyid_test_args'>test_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `test` [&lt;options&gt;] &lt;formula&gt;
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Run the test method provided by an installed formula.
</span><span class='tstring_content'>      There is no standard output or return code, but generally it should notify the
</span><span class='tstring_content'>      user if something is wrong with the installed formula.
</span><span class='tstring_content'>
</span><span class='tstring_content'>      *Example:* `brew install jruby &amp;&amp; brew test jruby`
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--devel</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Test the development version of a formula.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--HEAD</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Test the head version of a formula.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--keep-tmp</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Retain the temporary files created for the test.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:verbose</span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:debug</span>
    <span class='id identifier rubyid_conflicts'>conflicts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--devel</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--HEAD</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="tests-class_method">
  
    .<strong>tests</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/tests.rb', line 35</span>

<span class='kw'>def</span> <span class='id identifier rubyid_tests'>tests</span>
  <span class='id identifier rubyid_tests_args'>tests_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='period'>.</span><span class='id identifier rubyid_install_bundler_gems!'><span class='object_link'><a href="#install_bundler_gems!-class_method" title="Homebrew.install_bundler_gems! (method)">install_bundler_gems!</a></span></span>
  <span class='id identifier rubyid_gem_user_dir'>gem_user_dir</span> <span class='op'>=</span> <span class='const'>Gem</span><span class='period'>.</span><span class='id identifier rubyid_user_dir'>user_dir</span>

  <span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_LIBRARY_PATH-constant" title="HOMEBREW_LIBRARY_PATH (constant)">HOMEBREW_LIBRARY_PATH</a></span></span><span class='period'>.</span><span class='id identifier rubyid_cd'>cd</span> <span class='kw'>do</span>
    <span class='const'>ENV</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HOMEBREW_COLOR</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='const'>ENV</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HOMEBREW_NO_COLOR</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='const'>ENV</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HOMEBREW_VERBOSE</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='const'>ENV</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HOMEBREW_DEBUG</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='const'>ENV</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>VERBOSE</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='const'>ENV</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HOMEBREW_CASK_OPTS</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='const'>ENV</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HOMEBREW_TEMP</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='const'>ENV</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HOMEBREW_NO_GITHUB_API</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='const'>ENV</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HOMEBREW_NO_EMOJI</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='const'>ENV</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HOMEBREW_DEVELOPER</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='const'>ENV</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HOMEBREW_PRY</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HOMEBREW_NO_ANALYTICS_THIS_RUN</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1</span><span class='tstring_end'>&quot;</span></span>
    <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HOMEBREW_NO_COMPAT</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_no_compat?'>no_compat?</span>
    <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HOMEBREW_TEST_GENERIC_OS</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_generic?'>generic?</span>
    <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HOMEBREW_TEST_ONLINE</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_online?'>online?</span>

    <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>USER</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='id identifier rubyid_system_command!'>system_command!</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>id</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>args:</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-nu</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_stdout'>stdout</span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span>

    <span class='comment'># Avoid local configuration messing with tests, e.g. git being configured
</span>    <span class='comment'># to use GPG to sign by default
</span>    <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HOME</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_LIBRARY_PATH-constant" title="HOMEBREW_LIBRARY_PATH (constant)">HOMEBREW_LIBRARY_PATH</a></span></span><span class='embexpr_end'>}</span><span class='tstring_content'>/test</span><span class='tstring_end'>&quot;</span></span>

    <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_coverage?'>coverage?</span>
      <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HOMEBREW_TESTS_COVERAGE</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1</span><span class='tstring_end'>&quot;</span></span>
      <span class='const'>FileUtils</span><span class='period'>.</span><span class='id identifier rubyid_rm_f'>rm_f</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>test/coverage/.resultset.json</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

    <span class='comment'># Override author/committer as global settings might be invalid and thus
</span>    <span class='comment'># will cause silent failure during the setup of dummy Git repositories.
</span>    <span class='qwords_beg'>%w[</span><span class='tstring_content'>AUTHOR</span><span class='words_sep'> </span><span class='tstring_content'>COMMITTER</span><span class='tstring_end'>]</span></span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_role'>role</span><span class='op'>|</span>
      <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GIT_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_role'>role</span><span class='embexpr_end'>}</span><span class='tstring_content'>_NAME</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>brew tests</span><span class='tstring_end'>&quot;</span></span>
      <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GIT_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_role'>role</span><span class='embexpr_end'>}</span><span class='tstring_content'>_EMAIL</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>brew-tests@localhost</span><span class='tstring_end'>&quot;</span></span>
      <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GIT_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_role'>role</span><span class='embexpr_end'>}</span><span class='tstring_content'>_DATE</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>  <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Sun Jan 22 19:59:13 2017 +0000</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_parallel'>parallel</span> <span class='op'>=</span> <span class='kw'>true</span>

    <span class='id identifier rubyid_files'>files</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_only'>only</span>
      <span class='id identifier rubyid_test_name'>test_name</span><span class='comma'>,</span> <span class='id identifier rubyid_line'>line</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_only'>only</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>2</span><span class='rparen'>)</span>

      <span class='kw'>if</span> <span class='id identifier rubyid_line'>line</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_glob'>glob</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>test/{</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_test_name'>test_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>,</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_test_name'>test_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/**/*}_spec.rb</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_parallel'>parallel</span> <span class='op'>=</span> <span class='kw'>false</span>
        <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>test/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_test_name'>test_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>_spec.rb:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_line'>line</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
      <span class='kw'>end</span>
    <span class='kw'>else</span>
      <span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_glob'>glob</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>test/**/*_spec.rb</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_parallel_args'>parallel_args</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CI</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
      <span class='qwords_beg'>%w[</span><span class='words_sep'>
        </span><span class='tstring_content'>--combine-stderr</span><span class='words_sep'>
        </span><span class='tstring_content'>--serialize-stdout</span><span class='words_sep'>
      </span><span class='tstring_end'>]</span></span>
    <span class='kw'>else</span>
      <span class='qwords_beg'>%w[</span><span class='words_sep'>
        </span><span class='tstring_content'>--nice</span><span class='words_sep'>
      </span><span class='tstring_end'>]</span></span>
    <span class='kw'>end</span>

    <span class='comment'># Generate seed ourselves and output later to avoid multiple different
</span>    <span class='comment'># seeds being output when running parallel tests.
</span>    <span class='id identifier rubyid_seed'>seed</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_seed'>seed</span> <span class='op'>||</span> <span class='id identifier rubyid_rand'>rand</span><span class='lparen'>(</span><span class='int'>0xFFFF</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>

    <span class='id identifier rubyid_bundle_args'>bundle_args</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-I</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_LIBRARY_PATH-constant" title="HOMEBREW_LIBRARY_PATH (constant)">HOMEBREW_LIBRARY_PATH</a></span></span><span class='op'>/</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>test</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_bundle_args'>bundle_args</span> <span class='op'>+=</span> <span class='words_beg'>%W[</span><span class='words_sep'>
      </span><span class='tstring_content'>--seed</span><span class='words_sep'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_seed'>seed</span><span class='embexpr_end'>}</span><span class='words_sep'>
      </span><span class='tstring_content'>--color</span><span class='words_sep'>
      </span><span class='tstring_content'>--require</span><span class='words_sep'> </span><span class='tstring_content'>spec_helper</span><span class='words_sep'>
      </span><span class='tstring_content'>--format</span><span class='words_sep'> </span><span class='tstring_content'>NoSeedProgressFormatter</span><span class='words_sep'>
      </span><span class='tstring_content'>--format</span><span class='words_sep'> </span><span class='tstring_content'>ParallelTests::RSpec::RuntimeLogger</span><span class='words_sep'>
      </span><span class='tstring_content'>--out</span><span class='words_sep'> </span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_CACHE-constant" title="HOMEBREW_CACHE (constant)">HOMEBREW_CACHE</a></span></span><span class='embexpr_end'>}</span><span class='tstring_content'>/tests/parallel_runtime_rspec.log</span><span class='words_sep'>
    </span><span class='tstring_end'>]</span></span>

    <span class='kw'>unless</span> <span class='const'><span class='object_link'><a href="OS.html" title="OS (module)">OS</a></span></span><span class='period'>.</span><span class='id identifier rubyid_mac?'><span class='object_link'><a href="OS.html#mac%3F-class_method" title="OS.mac? (method)">mac?</a></span></span>
      <span class='id identifier rubyid_bundle_args'>bundle_args</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--tag</span><span class='tstring_end'>&quot;</span></span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>~needs_macos</span><span class='tstring_end'>&quot;</span></span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--tag</span><span class='tstring_end'>&quot;</span></span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>~cask</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_files'>files</span> <span class='op'>=</span> <span class='id identifier rubyid_files'>files</span><span class='period'>.</span><span class='id identifier rubyid_reject'>reject</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_p'>p</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>^test/(os/mac|cask)(/.*|_spec\.rb)$</span><span class='regexp_end'>}</span></span> <span class='rbrace'>}</span>
    <span class='kw'>end</span>

    <span class='kw'>unless</span> <span class='const'><span class='object_link'><a href="OS.html" title="OS (module)">OS</a></span></span><span class='period'>.</span><span class='id identifier rubyid_linux?'><span class='object_link'><a href="OS.html#linux%3F-class_method" title="OS.linux? (method)">linux?</a></span></span>
      <span class='id identifier rubyid_bundle_args'>bundle_args</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--tag</span><span class='tstring_end'>&quot;</span></span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>~needs_linux</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_files'>files</span> <span class='op'>=</span> <span class='id identifier rubyid_files'>files</span><span class='period'>.</span><span class='id identifier rubyid_reject'>reject</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_p'>p</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>^test/os/linux(/.*|_spec\.rb)$</span><span class='regexp_end'>}</span></span> <span class='rbrace'>}</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Randomized with seed </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_seed'>seed</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>

    <span class='comment'># Let `bundle` in PATH find its gem.
</span>    <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GEM_PATH</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GEM_PATH</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_gem_user_dir'>gem_user_dir</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>

    <span class='kw'>if</span> <span class='id identifier rubyid_parallel'>parallel</span>
      <span class='id identifier rubyid_system'>system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bundle</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>exec</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>parallel_rspec</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_parallel_args'>parallel_args</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_bundle_args'>bundle_args</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_files'>files</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_system'>system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bundle</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>exec</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rspec</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_bundle_args'>bundle_args</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_files'>files</span>
    <span class='kw'>end</span>

    <span class='kw'>return</span> <span class='kw'>if</span> <span class='gvar'>$CHILD_STATUS</span><span class='period'>.</span><span class='id identifier rubyid_success?'>success?</span>

    <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='period'>.</span><span class='id identifier rubyid_failed'>failed</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="tests_args-class_method">
  
    .<strong>tests_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/tests.rb', line 9</span>

<span class='kw'>def</span> <span class='id identifier rubyid_tests_args'>tests_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `tests` [&lt;options&gt;]
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Run Homebrew&#39;s unit and integration tests.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--coverage</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Generate code coverage reports.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--generic</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Run only OS-agnostic tests.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--no-compat</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Do not load the compatibility layer when running tests.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--online</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Include tests that use the GitHub API and tests that use any of the taps for </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>official external commands.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_flag'>flag</span>   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--only=</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Run only &lt;test_script&gt;`_spec.rb`. Appending `:`&lt;line_number&gt; will start at a </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>specific line.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_flag'>flag</span>   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--seed=</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Randomise tests with the specified &lt;value&gt; instead of a random seed.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:verbose</span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:debug</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="uninstall-class_method">
  
    .<strong>uninstall</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/uninstall.rb', line 28</span>

<span class='kw'>def</span> <span class='id identifier rubyid_uninstall'>uninstall</span>
  <span class='id identifier rubyid_uninstall_args'>uninstall_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="KegUnspecifiedError.html" title="KegUnspecifiedError (class)">KegUnspecifiedError</a></span></span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_remaining'>remaining</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='id identifier rubyid_kegs_by_rack'>kegs_by_rack</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_force?'>force?</span>
    <span class='const'>Hash</span><span class='lbracket'>[</span><span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='op'>|</span>
      <span class='id identifier rubyid_rack'>rack</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Formulary.html" title="Formulary (module)">Formulary</a></span></span><span class='period'>.</span><span class='id identifier rubyid_to_rack'><span class='object_link'><a href="Formulary.html#to_rack-class_method" title="Formulary.to_rack (method)">to_rack</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
      <span class='kw'>next</span> <span class='kw'>unless</span> <span class='id identifier rubyid_rack'>rack</span><span class='period'>.</span><span class='id identifier rubyid_directory?'>directory?</span>

      <span class='lbracket'>[</span><span class='id identifier rubyid_rack'>rack</span><span class='comma'>,</span> <span class='id identifier rubyid_rack'>rack</span><span class='period'>.</span><span class='id identifier rubyid_subdirs'>subdirs</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_d'>d</span><span class='op'>|</span> <span class='const'><span class='object_link'><a href="Keg.html" title="Keg (class)">Keg</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Keg.html#initialize-instance_method" title="Keg#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_d'>d</span><span class='rparen'>)</span> <span class='rbrace'>}</span><span class='rbracket'>]</span>
    <span class='kw'>end</span><span class='rbracket'>]</span>
  <span class='kw'>else</span>
    <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_kegs'>kegs</span><span class='period'>.</span><span class='id identifier rubyid_group_by'>group_by</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:rack</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_handle_unsatisfied_dependents'>handle_unsatisfied_dependents</span><span class='lparen'>(</span><span class='id identifier rubyid_kegs_by_rack'>kegs_by_rack</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='period'>.</span><span class='id identifier rubyid_failed?'><span class='object_link'><a href="#failed%3F-class_method" title="Homebrew.failed? (method)">failed?</a></span></span>

  <span class='id identifier rubyid_kegs_by_rack'>kegs_by_rack</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_rack'>rack</span><span class='comma'>,</span> <span class='id identifier rubyid_kegs'><span class='object_link'><a href="HomebrewArgvExtension.html#kegs-instance_method" title="HomebrewArgvExtension#kegs (method)">kegs</a></span></span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_force?'>force?</span>
      <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_rack'>rack</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span>

      <span class='kw'>if</span> <span class='id identifier rubyid_rack'>rack</span><span class='period'>.</span><span class='id identifier rubyid_directory?'>directory?</span>
        <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Uninstalling </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>... (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_rack'>rack</span><span class='period'>.</span><span class='id identifier rubyid_abv'>abv</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_kegs'><span class='object_link'><a href="HomebrewArgvExtension.html#kegs-instance_method" title="HomebrewArgvExtension#kegs (method)">kegs</a></span></span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_keg'>keg</span><span class='op'>|</span>
          <span class='id identifier rubyid_keg'>keg</span><span class='period'>.</span><span class='id identifier rubyid_unlink'>unlink</span>
          <span class='id identifier rubyid_keg'>keg</span><span class='period'>.</span><span class='id identifier rubyid_uninstall'>uninstall</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>

      <span class='id identifier rubyid_rm_pin'>rm_pin</span> <span class='id identifier rubyid_rack'>rack</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_kegs'><span class='object_link'><a href="HomebrewArgvExtension.html#kegs-instance_method" title="HomebrewArgvExtension#kegs (method)">kegs</a></span></span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_keg'>keg</span><span class='op'>|</span>
        <span class='kw'>begin</span>
          <span class='id identifier rubyid_f'>f</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Formulary.html" title="Formulary (module)">Formulary</a></span></span><span class='period'>.</span><span class='id identifier rubyid_from_rack'><span class='object_link'><a href="Formulary.html#from_rack-class_method" title="Formulary.from_rack (method)">from_rack</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_rack'>rack</span><span class='rparen'>)</span>
          <span class='kw'>if</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_pinned?'>pinned?</span>
            <span class='id identifier rubyid_onoe'>onoe</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> is pinned. You must unpin it to uninstall.</span><span class='tstring_end'>&quot;</span></span>
            <span class='kw'>next</span>
          <span class='kw'>end</span>
        <span class='kw'>rescue</span>
          <span class='kw'>nil</span>
        <span class='kw'>end</span>

        <span class='id identifier rubyid_keg'>keg</span><span class='period'>.</span><span class='id identifier rubyid_lock'>lock</span> <span class='kw'>do</span>
          <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Uninstalling </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_keg'>keg</span><span class='embexpr_end'>}</span><span class='tstring_content'>... (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_keg'>keg</span><span class='period'>.</span><span class='id identifier rubyid_abv'>abv</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
          <span class='id identifier rubyid_keg'>keg</span><span class='period'>.</span><span class='id identifier rubyid_unlink'>unlink</span>
          <span class='id identifier rubyid_keg'>keg</span><span class='period'>.</span><span class='id identifier rubyid_uninstall'>uninstall</span>
          <span class='id identifier rubyid_rack'>rack</span> <span class='op'>=</span> <span class='id identifier rubyid_keg'>keg</span><span class='period'>.</span><span class='id identifier rubyid_rack'>rack</span>
          <span class='id identifier rubyid_rm_pin'>rm_pin</span> <span class='id identifier rubyid_rack'>rack</span>

          <span class='kw'>if</span> <span class='id identifier rubyid_rack'>rack</span><span class='period'>.</span><span class='id identifier rubyid_directory?'>directory?</span>
            <span class='id identifier rubyid_versions'>versions</span> <span class='op'>=</span> <span class='id identifier rubyid_rack'>rack</span><span class='period'>.</span><span class='id identifier rubyid_subdirs'>subdirs</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:basename</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_keg'>keg</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_versions'>versions</span><span class='period'>.</span><span class='id identifier rubyid_to_sentence'>to_sentence</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>is</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_pluralize'>pluralize</span><span class='lparen'>(</span><span class='id identifier rubyid_versions'>versions</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'> still installed.</span><span class='tstring_end'>&quot;</span></span>
            <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Remove all versions with `brew uninstall --force </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_keg'>keg</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>`.</span><span class='tstring_end'>&quot;</span></span>
          <span class='kw'>end</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="MultipleVersionsInstalledError.html" title="MultipleVersionsInstalledError (class)">MultipleVersionsInstalledError</a></span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
  <span class='id identifier rubyid_ofail'>ofail</span> <span class='id identifier rubyid_e'>e</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Use `brew uninstall --force </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>` to remove all versions.</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>ensure</span>
  <span class='comment'># If we delete Cellar/newname, then Cellar/oldname symlink
</span>  <span class='comment'># can become broken and we have to remove it.
</span>  <span class='kw'>if</span> <span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_CELLAR-constant" title="HOMEBREW_CELLAR (constant)">HOMEBREW_CELLAR</a></span></span><span class='period'>.</span><span class='id identifier rubyid_directory?'>directory?</span>
    <span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_CELLAR-constant" title="HOMEBREW_CELLAR (constant)">HOMEBREW_CELLAR</a></span></span><span class='period'>.</span><span class='id identifier rubyid_children'>children</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_rack'>rack</span><span class='op'>|</span>
      <span class='id identifier rubyid_rack'>rack</span><span class='period'>.</span><span class='id identifier rubyid_unlink'>unlink</span> <span class='kw'>if</span> <span class='id identifier rubyid_rack'>rack</span><span class='period'>.</span><span class='id identifier rubyid_symlink?'>symlink?</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_rack'>rack</span><span class='period'>.</span><span class='id identifier rubyid_resolved_path_exists?'>resolved_path_exists?</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="uninstall_args-class_method">
  
    .<strong>uninstall_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


12
13
14
15
16
17
18
19
20
21
22
23
24
25
26</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/uninstall.rb', line 12</span>

<span class='kw'>def</span> <span class='id identifier rubyid_uninstall_args'>uninstall_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `uninstall`, `rm`, `remove` [&lt;options&gt;] &lt;formula&gt;
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Uninstall &lt;formula&gt;.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:force</span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Delete all installed versions of &lt;formula&gt;.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--ignore-dependencies</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Don&#39;t fail uninstall, even if &lt;formula&gt; is a dependency of any installed </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>formulae.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:debug</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="unlink-class_method">
  
    .<strong>unlink</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="KegUnspecifiedError.html" title="KegUnspecifiedError (class)">KegUnspecifiedError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/unlink.rb', line 26</span>

<span class='kw'>def</span> <span class='id identifier rubyid_unlink'>unlink</span>
  <span class='id identifier rubyid_unlink_args'>unlink_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="KegUnspecifiedError.html" title="KegUnspecifiedError (class)">KegUnspecifiedError</a></span></span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_remaining'>remaining</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='id identifier rubyid_mode'>mode</span> <span class='op'>=</span> <span class='const'>OpenStruct</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
  <span class='id identifier rubyid_mode'>mode</span><span class='period'>.</span><span class='id identifier rubyid_dry_run'>dry_run</span> <span class='op'>=</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_dry_run?'>dry_run?</span>

  <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_kegs'>kegs</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_keg'>keg</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_mode'>mode</span><span class='period'>.</span><span class='id identifier rubyid_dry_run'>dry_run</span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Would remove:</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_keg'>keg</span><span class='period'>.</span><span class='id identifier rubyid_unlink'>unlink</span><span class='lparen'>(</span><span class='id identifier rubyid_mode'>mode</span><span class='rparen'>)</span>
      <span class='kw'>next</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_keg'>keg</span><span class='period'>.</span><span class='id identifier rubyid_lock'>lock</span> <span class='kw'>do</span>
      <span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unlinking </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_keg'>keg</span><span class='embexpr_end'>}</span><span class='tstring_content'>... </span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_verbose?'>verbose?</span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_keg'>keg</span><span class='period'>.</span><span class='id identifier rubyid_unlink'>unlink</span><span class='lparen'>(</span><span class='id identifier rubyid_mode'>mode</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'> symlinks removed</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="unlink_args-class_method">
  
    .<strong>unlink_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/unlink.rb', line 9</span>

<span class='kw'>def</span> <span class='id identifier rubyid_unlink_args'>unlink_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `unlink` [&lt;options&gt;] &lt;formula&gt;
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Remove symlinks for &lt;formula&gt; from Homebrew&#39;s prefix. This can be useful
</span><span class='tstring_content'>      for temporarily disabling a formula:
</span><span class='tstring_content'>      `brew unlink` &lt;formula&gt; `&amp;&amp;` &lt;commands&gt; `&amp;&amp; brew link` &lt;formula&gt;
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--dry-run</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>List files which would be unlinked without actually unlinking or </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>deleting any files.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:verbose</span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:debug</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="unpack-class_method">
  
    .<strong>unpack</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="FormulaUnspecifiedError.html" title="FormulaUnspecifiedError (class)">FormulaUnspecifiedError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/unpack.rb', line 32</span>

<span class='kw'>def</span> <span class='id identifier rubyid_unpack'>unpack</span>
  <span class='id identifier rubyid_unpack_args'>unpack_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='id identifier rubyid_formulae'><span class='object_link'><a href="HomebrewArgvExtension.html#formulae-instance_method" title="HomebrewArgvExtension#formulae (method)">formulae</a></span></span> <span class='op'>=</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_formulae'>formulae</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="FormulaUnspecifiedError.html" title="FormulaUnspecifiedError (class)">FormulaUnspecifiedError</a></span></span> <span class='kw'>if</span> <span class='id identifier rubyid_formulae'><span class='object_link'><a href="HomebrewArgvExtension.html#formulae-instance_method" title="HomebrewArgvExtension#formulae (method)">formulae</a></span></span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_dir'>dir</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_destdir'>destdir</span>
    <span class='id identifier rubyid_unpack_dir'>unpack_dir</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Pathname.html" title="Pathname (class)">Pathname</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_dir'>dir</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_expand_path'>expand_path</span>
    <span class='id identifier rubyid_unpack_dir'>unpack_dir</span><span class='period'>.</span><span class='id identifier rubyid_mkpath'>mkpath</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_unpack_dir'>unpack_dir</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Pathname.html" title="Pathname (class)">Pathname</a></span></span><span class='period'>.</span><span class='id identifier rubyid_pwd'>pwd</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Cannot write to </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_unpack_dir'>unpack_dir</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_unpack_dir'>unpack_dir</span><span class='period'>.</span><span class='id identifier rubyid_writable_real?'>writable_real?</span>

  <span class='id identifier rubyid_formulae'><span class='object_link'><a href="HomebrewArgvExtension.html#formulae-instance_method" title="HomebrewArgvExtension#formulae (method)">formulae</a></span></span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
    <span class='id identifier rubyid_stage_dir'>stage_dir</span> <span class='op'>=</span> <span class='id identifier rubyid_unpack_dir'>unpack_dir</span><span class='op'>/</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>-</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>

    <span class='kw'>if</span> <span class='id identifier rubyid_stage_dir'>stage_dir</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Destination </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_stage_dir'>stage_dir</span><span class='embexpr_end'>}</span><span class='tstring_content'> already exists!</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_force?'>force?</span>

      <span class='id identifier rubyid_rm_rf'>rm_rf</span> <span class='id identifier rubyid_stage_dir'>stage_dir</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_oh1'>oh1</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unpacking </span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="Formatter.html" title="Formatter (module)">Formatter</a></span></span><span class='period'>.</span><span class='id identifier rubyid_identifier'><span class='object_link'><a href="Formatter.html#identifier-class_method" title="Formatter.identifier (method)">identifier</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'> to: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_stage_dir'>stage_dir</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>

    <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>VERBOSE</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1</span><span class='tstring_end'>&quot;</span></span> <span class='comment'># show messages about tar
</span>    <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_brew'>brew</span> <span class='kw'>do</span>
      <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_patch'>patch</span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_patch?'>patch?</span>
      <span class='id identifier rubyid_cp_r'>cp_r</span> <span class='id identifier rubyid_getwd'>getwd</span><span class='comma'>,</span> <span class='id identifier rubyid_stage_dir'>stage_dir</span><span class='comma'>,</span> <span class='label'>preserve:</span> <span class='kw'>true</span>
    <span class='kw'>end</span>
    <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>VERBOSE</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>nil</span>

    <span class='kw'>next</span> <span class='kw'>unless</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_git?'>git?</span>

    <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Setting up git repository</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_cd'>cd</span> <span class='id identifier rubyid_stage_dir'>stage_dir</span>
    <span class='id identifier rubyid_system'>system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>init</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-q</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_system'>system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>add</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-A</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_system'>system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>commit</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-q</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-m</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>brew-unpack</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="unpack_args-class_method">
  
    .<strong>unpack_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/unpack.rb', line 10</span>

<span class='kw'>def</span> <span class='id identifier rubyid_unpack_args'>unpack_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `unpack` [&lt;options&gt;] &lt;formula&gt;
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Unpack the source files for &lt;formula&gt; into subdirectories of the current
</span><span class='tstring_content'>      working directory.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_flag'>flag</span>   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--destdir=</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Create subdirectories in the directory named by &lt;path&gt; instead.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--patch</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Patches for &lt;formula&gt; will be applied to the unpacked source.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-g</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Initialise a Git repository in the unpacked source. This is useful for creating </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>patches for the software.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:force</span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:verbose</span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:debug</span>
    <span class='id identifier rubyid_conflicts'>conflicts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--patch</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="unpin-class_method">
  
    .<strong>unpin</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="FormulaUnspecifiedError.html" title="FormulaUnspecifiedError (class)">FormulaUnspecifiedError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


22
23
24
25
26
27
28
29
30
31
32
33
34
35
36</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/unpin.rb', line 22</span>

<span class='kw'>def</span> <span class='id identifier rubyid_unpin'>unpin</span>
  <span class='id identifier rubyid_unpin_args'>unpin_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="FormulaUnspecifiedError.html" title="FormulaUnspecifiedError (class)">FormulaUnspecifiedError</a></span></span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_remaining'>remaining</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_resolved_formulae'>resolved_formulae</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_pinned?'>pinned?</span>
      <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_unpin'>unpin</span>
    <span class='kw'>elsif</span> <span class='op'>!</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_pinnable?'>pinnable?</span>
      <span class='id identifier rubyid_onoe'>onoe</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> not installed</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_opoo'>opoo</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> not pinned</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="unpin_args-class_method">
  
    .<strong>unpin_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


9
10
11
12
13
14
15
16
17
18
19
20</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/unpin.rb', line 9</span>

<span class='kw'>def</span> <span class='id identifier rubyid_unpin_args'>unpin_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `unpin` &lt;formula&gt;
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Unpin &lt;formula&gt;, allowing them to be upgraded by `brew upgrade` &lt;formula&gt;.
</span><span class='tstring_content'>      See also `pin`.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:verbose</span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:debug</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="untap-class_method">
  
    .<strong>untap</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


19
20
21
22
23
24
25
26
27
28
29
30</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/untap.rb', line 19</span>

<span class='kw'>def</span> <span class='id identifier rubyid_untap'>untap</span>
  <span class='id identifier rubyid_untap_args'>untap_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Usage is `brew untap &lt;tap-name&gt;`</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_remaining'>remaining</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_tapname'>tapname</span><span class='op'>|</span>
    <span class='id identifier rubyid_tap'>tap</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Tap.html" title="Tap (class)">Tap</a></span></span><span class='period'>.</span><span class='id identifier rubyid_fetch'><span class='object_link'><a href="Tap.html#fetch-class_method" title="Tap.fetch (method)">fetch</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_tapname'>tapname</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>untapping </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tap'>tap</span><span class='embexpr_end'>}</span><span class='tstring_content'> is not allowed</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_core_tap?'>core_tap?</span>

    <span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_uninstall'>uninstall</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="untap_args-class_method">
  
    .<strong>untap_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


8
9
10
11
12
13
14
15
16
17</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/untap.rb', line 8</span>

<span class='kw'>def</span> <span class='id identifier rubyid_untap_args'>untap_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `untap` &lt;tap&gt;
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Remove a tapped formula repository.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:debug</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="update_preinstall_header-class_method">
  
    .<strong>update_preinstall_header</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


14
15
16
17
18
19</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/update-report.rb', line 14</span>

<span class='kw'>def</span> <span class='id identifier rubyid_update_preinstall_header'>update_preinstall_header</span>
  <span class='ivar'>@update_preinstall_header</span> <span class='op'>||=</span> <span class='kw'>begin</span>
    <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Auto-updated Homebrew!</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--preinstall</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>true</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="update_report-class_method">
  
    .<strong>update_report</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/update-report.rb', line 38</span>

<span class='kw'>def</span> <span class='id identifier rubyid_update_report'>update_report</span>
  <span class='id identifier rubyid_update_report_args'>update_report_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_REPOSITORY-constant" title="HOMEBREW_REPOSITORY (constant)">HOMEBREW_REPOSITORY</a></span></span><span class='period'>.</span><span class='id identifier rubyid_cd'>cd</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_analytics_message_displayed'>analytics_message_displayed</span> <span class='op'>=</span>
      <span class='const'><span class='object_link'><a href="Utils.html" title="Utils (module)">Utils</a></span></span><span class='period'>.</span><span class='id identifier rubyid_popen_read'><span class='object_link'><a href="Utils.html#popen_read-class_method" title="Utils.popen_read (method)">popen_read</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>config</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--local</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--get</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>homebrew.analyticsmessage</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>true</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_cask_analytics_message_displayed'>cask_analytics_message_displayed</span> <span class='op'>=</span>
      <span class='const'><span class='object_link'><a href="Utils.html" title="Utils (module)">Utils</a></span></span><span class='period'>.</span><span class='id identifier rubyid_popen_read'><span class='object_link'><a href="Utils.html#popen_read-class_method" title="Utils.popen_read (method)">popen_read</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>config</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--local</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--get</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>homebrew.caskanalyticsmessage</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>true</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_analytics_disabled'>analytics_disabled</span> <span class='op'>=</span>
      <span class='const'><span class='object_link'><a href="Utils.html" title="Utils (module)">Utils</a></span></span><span class='period'>.</span><span class='id identifier rubyid_popen_read'><span class='object_link'><a href="Utils.html#popen_read-class_method" title="Utils.popen_read (method)">popen_read</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>config</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--local</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--get</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>homebrew.analyticsdisabled</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>true</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_analytics_message_displayed'>analytics_message_displayed</span> <span class='op'>&amp;&amp;</span>
       <span class='op'>!</span><span class='id identifier rubyid_cask_analytics_message_displayed'>cask_analytics_message_displayed</span> <span class='op'>&amp;&amp;</span>
       <span class='op'>!</span><span class='id identifier rubyid_analytics_disabled'>analytics_disabled</span> <span class='op'>&amp;&amp;</span>
       <span class='op'>!</span><span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HOMEBREW_NO_ANALYTICS</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>&amp;&amp;</span>
       <span class='op'>!</span><span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HOMEBREW_NO_ANALYTICS_MESSAGE_OUTPUT</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>

      <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HOMEBREW_NO_ANALYTICS_THIS_RUN</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1</span><span class='tstring_end'>&quot;</span></span>
      <span class='comment'># Use the shell&#39;s audible bell.
</span>      <span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\a</span><span class='tstring_end'>&quot;</span></span>

      <span class='comment'># Use an extra newline and bold to avoid this being missed.
</span>      <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Homebrew has enabled anonymous aggregate formulae and cask analytics.</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>        </span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="Tty.html" title="Tty (module)">Tty</a></span></span><span class='period'>.</span><span class='id identifier rubyid_bold'>bold</span><span class='embexpr_end'>}</span><span class='tstring_content'>Read the analytics documentation (and how to opt-out) here:
</span><span class='tstring_content'>          </span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="Formatter.html" title="Formatter (module)">Formatter</a></span></span><span class='period'>.</span><span class='id identifier rubyid_url'><span class='object_link'><a href="Formatter.html#url-class_method" title="Formatter.url (method)">url</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>https://docs.brew.sh/Analytics</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="Tty.html" title="Tty (module)">Tty</a></span></span><span class='period'>.</span><span class='id identifier rubyid_reset'>reset</span><span class='embexpr_end'>}</span><span class='tstring_content'>
</span><span class='tstring_content'>
</span><span class='heredoc_end'>      EOS
</span>
      <span class='comment'># Consider the message possibly missed if not a TTY.
</span>      <span class='kw'>if</span> <span class='gvar'>$stdout</span><span class='period'>.</span><span class='id identifier rubyid_tty?'>tty?</span>
        <span class='id identifier rubyid_safe_system'>safe_system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>config</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--local</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--replace-all</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>homebrew.analyticsmessage</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>true</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_safe_system'>safe_system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>config</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--local</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--replace-all</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>homebrew.caskanalyticsmessage</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>true</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_donation_message_displayed'>donation_message_displayed</span> <span class='op'>=</span>
      <span class='const'><span class='object_link'><a href="Utils.html" title="Utils (module)">Utils</a></span></span><span class='period'>.</span><span class='id identifier rubyid_popen_read'><span class='object_link'><a href="Utils.html#popen_read-class_method" title="Utils.popen_read (method)">popen_read</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>config</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--local</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--get</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>homebrew.donationmessage</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>true</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>unless</span> <span class='id identifier rubyid_donation_message_displayed'>donation_message_displayed</span>
      <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Homebrew is run entirely by unpaid volunteers. Please consider donating:</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  </span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="Formatter.html" title="Formatter (module)">Formatter</a></span></span><span class='period'>.</span><span class='id identifier rubyid_url'><span class='object_link'><a href="Formatter.html#url-class_method" title="Formatter.url (method)">url</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>https://github.com/Homebrew/brew#donations</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>

      <span class='comment'># Consider the message possibly missed if not a TTY.
</span>      <span class='id identifier rubyid_safe_system'>safe_system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>config</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--local</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--replace-all</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>homebrew.donationmessage</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>true</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='gvar'>$stdout</span><span class='period'>.</span><span class='id identifier rubyid_tty?'>tty?</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_install_core_tap_if_necessary'>install_core_tap_if_necessary</span>

  <span class='id identifier rubyid_hub'>hub</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="ReporterHub.html" title="ReporterHub (class)">ReporterHub</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="ReporterHub.html#initialize-instance_method" title="ReporterHub#initialize (method)">new</a></span></span>
  <span class='id identifier rubyid_updated'>updated</span> <span class='op'>=</span> <span class='kw'>false</span>

  <span class='id identifier rubyid_initial_revision'>initial_revision</span> <span class='op'>=</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HOMEBREW_UPDATE_BEFORE</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
  <span class='id identifier rubyid_current_revision'>current_revision</span> <span class='op'>=</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HOMEBREW_UPDATE_AFTER</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
  <span class='id identifier rubyid_odie'>odie</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>update-report should not be called directly!</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_initial_revision'>initial_revision</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>||</span> <span class='id identifier rubyid_current_revision'>current_revision</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_initial_revision'>initial_revision</span> <span class='op'>!=</span> <span class='id identifier rubyid_current_revision'>current_revision</span>
    <span class='id identifier rubyid_update_preinstall_header'>update_preinstall_header</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Updated Homebrew from </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_shorten_revision'>shorten_revision</span><span class='lparen'>(</span><span class='id identifier rubyid_initial_revision'>initial_revision</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'> to </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_shorten_revision'>shorten_revision</span><span class='lparen'>(</span><span class='id identifier rubyid_current_revision'>current_revision</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_updated'>updated</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_updated_taps'>updated_taps</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='const'><span class='object_link'><a href="Tap.html" title="Tap (class)">Tap</a></span></span><span class='period'>.</span><span class='id identifier rubyid_each'><span class='object_link'><a href="Tap.html#each-class_method" title="Tap.each (method)">each</a></span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_tap'>tap</span><span class='op'>|</span>
    <span class='kw'>next</span> <span class='kw'>unless</span> <span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_git?'>git?</span>

    <span class='kw'>begin</span>
      <span class='id identifier rubyid_reporter'>reporter</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Reporter.html" title="Reporter (class)">Reporter</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Reporter.html#initialize-instance_method" title="Reporter#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_tap'>tap</span><span class='rparen'>)</span>
    <span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="Reporter.html" title="Reporter (class)">Reporter</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Reporter/ReporterRevisionUnsetError.html" title="Reporter::ReporterRevisionUnsetError (class)">ReporterRevisionUnsetError</a></span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
      <span class='id identifier rubyid_onoe'>onoe</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span><span class='embexpr_end'>}</span><span class='tstring_content'>\n</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_backtrace'>backtrace</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_homebrew_developer?'>homebrew_developer?</span>
      <span class='kw'>next</span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_reporter'>reporter</span><span class='period'>.</span><span class='id identifier rubyid_updated?'>updated?</span>
      <span class='id identifier rubyid_updated_taps'>updated_taps</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
      <span class='id identifier rubyid_hub'>hub</span><span class='period'>.</span><span class='id identifier rubyid_add'>add</span><span class='lparen'>(</span><span class='id identifier rubyid_reporter'>reporter</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>unless</span> <span class='id identifier rubyid_updated_taps'>updated_taps</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_update_preinstall_header'>update_preinstall_header</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Updated </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_updated_taps'>updated_taps</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>tap</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_pluralize'>pluralize</span><span class='lparen'>(</span><span class='id identifier rubyid_updated_taps'>updated_taps</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'> (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_updated_taps'>updated_taps</span><span class='period'>.</span><span class='id identifier rubyid_to_sentence'>to_sentence</span><span class='embexpr_end'>}</span><span class='tstring_content'>).</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_updated'>updated</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_updated'>updated</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Already up-to-date.</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='op'>!</span><span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--preinstall</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HOMEBREW_UPDATE_FAILED</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
  <span class='kw'>else</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_hub'>hub</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>No changes to formulae.</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_hub'>hub</span><span class='period'>.</span><span class='id identifier rubyid_dump'>dump</span>
      <span class='id identifier rubyid_hub'>hub</span><span class='period'>.</span><span class='id identifier rubyid_reporters'>reporters</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:migrate_tap_migration</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_hub'>hub</span><span class='period'>.</span><span class='id identifier rubyid_reporters'>reporters</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:migrate_formula_rename</span><span class='rparen'>)</span>
      <span class='const'><span class='object_link'><a href="CacheStoreDatabase.html" title="CacheStoreDatabase (class)">CacheStoreDatabase</a></span></span><span class='period'>.</span><span class='id identifier rubyid_use'><span class='object_link'><a href="CacheStoreDatabase.html#use-class_method" title="CacheStoreDatabase.use (method)">use</a></span></span><span class='lparen'>(</span><span class='symbol'>:descriptions</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_db'>db</span><span class='op'>|</span>
        <span class='const'><span class='object_link'><a href="DescriptionCacheStore.html" title="DescriptionCacheStore (class)">DescriptionCacheStore</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="CacheStore.html#initialize-instance_method" title="CacheStore#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_db'>db</span><span class='rparen'>)</span>
                             <span class='period'>.</span><span class='id identifier rubyid_update_from_report!'>update_from_report!</span><span class='lparen'>(</span><span class='id identifier rubyid_hub'>hub</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='kw'>if</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--preinstall</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_link_completions_manpages_and_docs'>link_completions_manpages_and_docs</span>
  <span class='const'><span class='object_link'><a href="Tap.html" title="Tap (class)">Tap</a></span></span><span class='period'>.</span><span class='id identifier rubyid_each'><span class='object_link'><a href="Tap.html#each-class_method" title="Tap.each (method)">each</a></span></span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:link_completions_and_manpages</span><span class='rparen'>)</span>

  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='period'>.</span><span class='id identifier rubyid_failed'>failed</span> <span class='op'>=</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HOMEBREW_UPDATE_FAILED</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="update_report_args-class_method">
  
    .<strong>update_report_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/update-report.rb', line 21</span>

<span class='kw'>def</span> <span class='id identifier rubyid_update_report_args'>update_report_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `update-report`
</span><span class='tstring_content'>
</span><span class='tstring_content'>      The Ruby implementation of `brew update`. Never called manually.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--preinstall</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Run in &#39;auto-update&#39; mode (faster, less output).</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:force</span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:quiet</span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:verbose</span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:debug</span>
    <span class='id identifier rubyid_hide_from_man_page!'>hide_from_man_page!</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="update_test-class_method">
  
    .<strong>update_test</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/update-test.rb', line 29</span>

<span class='kw'>def</span> <span class='id identifier rubyid_update_test'>update_test</span>
  <span class='id identifier rubyid_update_test_args'>update_test_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HOMEBREW_UPDATE_TEST</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_branch'>branch</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_to_tag?'>to_tag?</span>
    <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HOMEBREW_UPDATE_TO_TAG</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1</span><span class='tstring_end'>&quot;</span></span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>stable</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>master</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_start_commit'>start_commit</span><span class='comma'>,</span> <span class='id identifier rubyid_end_commit'>end_commit</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_cd'>cd</span> <span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_REPOSITORY-constant" title="HOMEBREW_REPOSITORY (constant)">HOMEBREW_REPOSITORY</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_start_commit'>start_commit</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_commit'>commit</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_commit'>commit</span>
      <span class='id identifier rubyid_commit'>commit</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_date'>date</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_before'>before</span>
      <span class='const'><span class='object_link'><a href="Utils.html" title="Utils (module)">Utils</a></span></span><span class='period'>.</span><span class='id identifier rubyid_popen_read'><span class='object_link'><a href="Utils.html#popen_read-class_method" title="Utils.popen_read (method)">popen_read</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rev-list</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-n1</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--before=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_date'>date</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>origin/master</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_to_tag?'>to_tag?</span>
      <span class='id identifier rubyid_tags'>tags</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Utils.html" title="Utils (module)">Utils</a></span></span><span class='period'>.</span><span class='id identifier rubyid_popen_read'><span class='object_link'><a href="Utils.html#popen_read-class_method" title="Utils.popen_read (method)">popen_read</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>tag</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--list</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--sort=-version:refname</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_tags'>tags</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span>
        <span class='id identifier rubyid_tags'>tags</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='lparen'>(</span><span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_REPOSITORY-constant" title="HOMEBREW_REPOSITORY (constant)">HOMEBREW_REPOSITORY</a></span></span><span class='op'>/</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.git/shallow</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span>
          <span class='id identifier rubyid_safe_system'>safe_system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>fetch</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--tags</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--depth=1</span><span class='tstring_end'>&quot;</span></span>
          <span class='const'><span class='object_link'><a href="Utils.html" title="Utils (module)">Utils</a></span></span><span class='period'>.</span><span class='id identifier rubyid_popen_read'><span class='object_link'><a href="Utils.html#popen_read-class_method" title="Utils.popen_read (method)">popen_read</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>tag</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--list</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--sort=-version:refname</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
        <span class='kw'>elsif</span> <span class='const'><span class='object_link'><a href="OS.html" title="OS (module)">OS</a></span></span><span class='period'>.</span><span class='id identifier rubyid_linux?'><span class='object_link'><a href="OS.html#linux%3F-class_method" title="OS.linux? (method)">linux?</a></span></span>
          <span class='const'><span class='object_link'><a href="Utils.html" title="Utils (module)">Utils</a></span></span><span class='period'>.</span><span class='id identifier rubyid_popen_read'><span class='object_link'><a href="Utils.html#popen_read-class_method" title="Utils.popen_read (method)">popen_read</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git tag --list | sort -rV</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_current_tag'>current_tag</span><span class='comma'>,</span> <span class='id identifier rubyid_previous_tag'>previous_tag</span><span class='comma'>,</span> <span class='op'>=</span> <span class='id identifier rubyid_tags'>tags</span><span class='period'>.</span><span class='id identifier rubyid_lines'>lines</span>
      <span class='id identifier rubyid_current_tag'>current_tag</span> <span class='op'>=</span> <span class='id identifier rubyid_current_tag'>current_tag</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span>
      <span class='id identifier rubyid_odie'>odie</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Could not find current tag in:\n</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tags'>tags</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_current_tag'>current_tag</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
      <span class='comment'># ^0 ensures this points to the commit rather than the tag object.
</span>      <span class='id identifier rubyid_end_commit'>end_commit</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_current_tag'>current_tag</span><span class='embexpr_end'>}</span><span class='tstring_content'>^0</span><span class='tstring_end'>&quot;</span></span>

      <span class='id identifier rubyid_previous_tag'>previous_tag</span> <span class='op'>=</span> <span class='id identifier rubyid_previous_tag'>previous_tag</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span>
      <span class='id identifier rubyid_odie'>odie</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Could not find previous tag in:\n</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tags'>tags</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_previous_tag'>previous_tag</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
      <span class='comment'># ^0 ensures this points to the commit rather than the tag object.
</span>      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_previous_tag'>previous_tag</span><span class='embexpr_end'>}</span><span class='tstring_content'>^0</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>else</span>
      <span class='const'><span class='object_link'><a href="Utils.html" title="Utils (module)">Utils</a></span></span><span class='period'>.</span><span class='id identifier rubyid_popen_read'><span class='object_link'><a href="Utils.html#popen_read-class_method" title="Utils.popen_read (method)">popen_read</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rev-parse</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>origin/master</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_odie'>odie</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Could not find start commit!</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_start_commit'>start_commit</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

    <span class='id identifier rubyid_start_commit'>start_commit</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Utils.html" title="Utils (module)">Utils</a></span></span><span class='period'>.</span><span class='id identifier rubyid_popen_read'><span class='object_link'><a href="Utils.html#popen_read-class_method" title="Utils.popen_read (method)">popen_read</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rev-parse</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_start_commit'>start_commit</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span>
    <span class='id identifier rubyid_odie'>odie</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Could not find start commit!</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_start_commit'>start_commit</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

    <span class='id identifier rubyid_end_commit'>end_commit</span> <span class='op'>||=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HEAD</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_end_commit'>end_commit</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Utils.html" title="Utils (module)">Utils</a></span></span><span class='period'>.</span><span class='id identifier rubyid_popen_read'><span class='object_link'><a href="Utils.html#popen_read-class_method" title="Utils.popen_read (method)">popen_read</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rev-parse</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_end_commit'>end_commit</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span>
    <span class='id identifier rubyid_odie'>odie</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Could not find end commit!</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_end_commit'>end_commit</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

    <span class='kw'>if</span> <span class='const'><span class='object_link'><a href="Utils.html" title="Utils (module)">Utils</a></span></span><span class='period'>.</span><span class='id identifier rubyid_popen_read'><span class='object_link'><a href="Utils.html#popen_read-class_method" title="Utils.popen_read (method)">popen_read</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>branch</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--list</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>master</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span>
      <span class='id identifier rubyid_safe_system'>safe_system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>branch</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>master</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>origin/master</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Start commit: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_start_commit'>start_commit</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  End commit: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_end_commit'>end_commit</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_mkdir'>mkdir</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>update-test</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_chdir'>chdir</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>update-test</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_curdir'>curdir</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Pathname.html" title="Pathname (class)">Pathname</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_pwd'>pwd</span><span class='rparen'>)</span>

    <span class='id identifier rubyid_oh1'>oh1</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Setup test environment...</span><span class='tstring_end'>&quot;</span></span>
    <span class='comment'># copy Homebrew installation
</span>    <span class='id identifier rubyid_safe_system'>safe_system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>clone</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_REPOSITORY-constant" title="HOMEBREW_REPOSITORY (constant)">HOMEBREW_REPOSITORY</a></span></span><span class='embexpr_end'>}</span><span class='tstring_content'>/.git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--local</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--branch</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>master</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--single-branch</span><span class='tstring_end'>&quot;</span></span>

    <span class='comment'># set git origin to another copy
</span>    <span class='id identifier rubyid_safe_system'>safe_system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>clone</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_REPOSITORY-constant" title="HOMEBREW_REPOSITORY (constant)">HOMEBREW_REPOSITORY</a></span></span><span class='embexpr_end'>}</span><span class='tstring_content'>/.git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>remote.git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--local</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--bare</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--branch</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>master</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--single-branch</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_safe_system'>safe_system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>config</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>remote.origin.url</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_curdir'>curdir</span><span class='embexpr_end'>}</span><span class='tstring_content'>/remote.git</span><span class='tstring_end'>&quot;</span></span>

    <span class='comment'># force push origin to end_commit
</span>    <span class='id identifier rubyid_safe_system'>safe_system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>checkout</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-B</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>master</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_end_commit'>end_commit</span>
    <span class='id identifier rubyid_safe_system'>safe_system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>push</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--force</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>origin</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>master</span><span class='tstring_end'>&quot;</span></span>

    <span class='comment'># set test copy to start_commit
</span>    <span class='id identifier rubyid_safe_system'>safe_system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>reset</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--hard</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_start_commit'>start_commit</span>

    <span class='comment'># update ENV[&quot;PATH&quot;]
</span>    <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PATH</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="PATH.html" title="PATH (class)">PATH</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="PATH.html#initialize-instance_method" title="PATH#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PATH</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_prepend'><span class='object_link'><a href="PATH.html#prepend-instance_method" title="PATH#prepend (method)">prepend</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_curdir'>curdir</span><span class='op'>/</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bin</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

    <span class='comment'># run brew update
</span>    <span class='id identifier rubyid_oh1'>oh1</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Running brew update...</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_safe_system'>safe_system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>brew</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>update</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--verbose</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_actual_end_commit'>actual_end_commit</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Utils.html" title="Utils (module)">Utils</a></span></span><span class='period'>.</span><span class='id identifier rubyid_popen_read'><span class='object_link'><a href="Utils.html#popen_read-class_method" title="Utils.popen_read (method)">popen_read</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rev-parse</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_branch'>branch</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_actual_end_commit'>actual_end_commit</span> <span class='op'>!=</span> <span class='id identifier rubyid_end_commit'>end_commit</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>        brew update didn&#39;t update </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_branch'>branch</span><span class='embexpr_end'>}</span><span class='tstring_content'>!
</span><span class='tstring_content'>        Start commit:        </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_start_commit'>start_commit</span><span class='embexpr_end'>}</span><span class='tstring_content'>
</span><span class='tstring_content'>        Expected end commit: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_end_commit'>end_commit</span><span class='embexpr_end'>}</span><span class='tstring_content'>
</span><span class='tstring_content'>        Actual end commit:   </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_actual_end_commit'>actual_end_commit</span><span class='embexpr_end'>}</span><span class='tstring_content'>
</span><span class='heredoc_end'>      EOS
</span>    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>ensure</span>
  <span class='const'>FileUtils</span><span class='period'>.</span><span class='id identifier rubyid_rm_rf'>rm_rf</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>update-test</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_keep_tmp?'>keep_tmp?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="update_test_args-class_method">
  
    .<strong>update_test_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/update-test.rb', line 8</span>

<span class='kw'>def</span> <span class='id identifier rubyid_update_test_args'>update_test_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `update-test` [&lt;options&gt;]
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Run a test of `brew update` with a new repository clone.
</span><span class='tstring_content'>      If no options are passed, use `origin/master` as the start commit.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--to-tag</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Set `HOMEBREW_UPDATE_TO_TAG` to test updating between tags.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--keep-tmp</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Retain the temporary directory containing the new repository clone.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_flag'>flag</span>   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--commit=</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Use the specified &lt;commit&gt; as the start commit.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_flag'>flag</span>   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--before=</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Use the commit at the specified &lt;date&gt; as the start commit.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:verbose</span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:debug</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="upgradable_dependents-class_method">
  
    .<strong>upgradable_dependents</strong>(kegs, formulae)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/upgrade.rb', line 212</span>

<span class='kw'>def</span> <span class='id identifier rubyid_upgradable_dependents'>upgradable_dependents</span><span class='lparen'>(</span><span class='id identifier rubyid_kegs'><span class='object_link'><a href="HomebrewArgvExtension.html#kegs-instance_method" title="HomebrewArgvExtension#kegs (method)">kegs</a></span></span><span class='comma'>,</span> <span class='id identifier rubyid_formulae'><span class='object_link'><a href="HomebrewArgvExtension.html#formulae-instance_method" title="HomebrewArgvExtension#formulae (method)">formulae</a></span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_formulae_to_upgrade'>formulae_to_upgrade</span> <span class='op'>=</span> <span class='const'>Set</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
  <span class='id identifier rubyid_formulae_pinned'>formulae_pinned</span> <span class='op'>=</span> <span class='const'>Set</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>

  <span class='id identifier rubyid_formulae_to_check'>formulae_to_check</span> <span class='op'>=</span> <span class='id identifier rubyid_formulae'><span class='object_link'><a href="HomebrewArgvExtension.html#formulae-instance_method" title="HomebrewArgvExtension#formulae (method)">formulae</a></span></span>
  <span class='id identifier rubyid_checked_formulae'>checked_formulae</span> <span class='op'>=</span> <span class='const'>Set</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>

  <span class='kw'>until</span> <span class='id identifier rubyid_formulae_to_check'>formulae_to_check</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_descendants'>descendants</span> <span class='op'>=</span> <span class='const'>Set</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>

    <span class='id identifier rubyid_formulae_to_check'>formulae_to_check</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_formula'>formula</span><span class='op'>|</span>
      <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_checked_formulae'>checked_formulae</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_formula'>formula</span><span class='rparen'>)</span>

      <span class='id identifier rubyid_dependents'>dependents</span> <span class='op'>=</span> <span class='id identifier rubyid_kegs'><span class='object_link'><a href="HomebrewArgvExtension.html#kegs-instance_method" title="HomebrewArgvExtension#kegs (method)">kegs</a></span></span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_keg'>keg</span><span class='op'>|</span>
        <span class='id identifier rubyid_keg'>keg</span><span class='period'>.</span><span class='id identifier rubyid_runtime_dependencies'>runtime_dependencies</span>
           <span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_d'>d</span><span class='op'>|</span> <span class='id identifier rubyid_d'>d</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>full_name</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span> <span class='rbrace'>}</span>
      <span class='kw'>end</span>

      <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_dependents'>dependents</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

      <span class='id identifier rubyid_dependent_formulae'>dependent_formulae</span> <span class='op'>=</span> <span class='id identifier rubyid_dependents'>dependents</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:to_formula</span><span class='rparen'>)</span>

      <span class='id identifier rubyid_dependent_formulae'>dependent_formulae</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
        <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_formulae_to_upgrade'>formulae_to_upgrade</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='rparen'>)</span>
        <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_formulae_pinned'>formulae_pinned</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='rparen'>)</span>

        <span class='kw'>if</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_outdated?'>outdated?</span><span class='lparen'>(</span><span class='label'>fetch_head:</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_fetch_HEAD?'>fetch_HEAD?</span><span class='rparen'>)</span>
          <span class='kw'>if</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_pinned?'>pinned?</span>
            <span class='id identifier rubyid_formulae_pinned'>formulae_pinned</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_f'>f</span>
          <span class='kw'>else</span>
            <span class='id identifier rubyid_formulae_to_upgrade'>formulae_to_upgrade</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_f'>f</span>
          <span class='kw'>end</span>
        <span class='kw'>end</span>

        <span class='id identifier rubyid_descendants'>descendants</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_f'>f</span>
      <span class='kw'>end</span>

      <span class='id identifier rubyid_checked_formulae'>checked_formulae</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_formula'>formula</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_formulae_to_check'>formulae_to_check</span> <span class='op'>=</span> <span class='id identifier rubyid_descendants'>descendants</span>
  <span class='kw'>end</span>

  <span class='lbracket'>[</span><span class='id identifier rubyid_formulae_to_upgrade'>formulae_to_upgrade</span><span class='comma'>,</span> <span class='id identifier rubyid_formulae_pinned'>formulae_pinned</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="upgrade-class_method">
  
    .<strong>upgrade</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/upgrade.rb', line 57</span>

<span class='kw'>def</span> <span class='id identifier rubyid_upgrade'>upgrade</span>
  <span class='id identifier rubyid_upgrade_args'>upgrade_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='const'><span class='object_link'><a href="FormulaInstaller.html" title="FormulaInstaller (class)">FormulaInstaller</a></span></span><span class='period'>.</span><span class='id identifier rubyid_prevent_build_flags'><span class='object_link'><a href="FormulaInstaller.html#prevent_build_flags-class_method" title="FormulaInstaller.prevent_build_flags (method)">prevent_build_flags</a></span></span> <span class='kw'>unless</span> <span class='const'>DevelopmentTools</span><span class='period'>.</span><span class='id identifier rubyid_installed?'>installed?</span>

  <span class='const'><span class='object_link'><a href="Homebrew/Install.html" title="Homebrew::Install (module)">Install</a></span></span><span class='period'>.</span><span class='id identifier rubyid_perform_preinstall_checks'><span class='object_link'><a href="Homebrew/Install.html#perform_preinstall_checks-class_method" title="Homebrew::Install.perform_preinstall_checks (method)">perform_preinstall_checks</a></span></span>

  <span class='kw'>if</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_outdated'>outdated</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Formula.html" title="Formula (class)">Formula</a></span></span><span class='period'>.</span><span class='id identifier rubyid_installed'>installed</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
      <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_outdated?'>outdated?</span><span class='lparen'>(</span><span class='label'>fetch_head:</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_fetch_HEAD?'>fetch_HEAD?</span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_exit'>exit</span> <span class='int'>0</span> <span class='kw'>if</span> <span class='id identifier rubyid_outdated'>outdated</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_outdated'>outdated</span> <span class='op'>=</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_resolved_formulae'>resolved_formulae</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
      <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_outdated?'>outdated?</span><span class='lparen'>(</span><span class='label'>fetch_head:</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_fetch_HEAD?'>fetch_HEAD?</span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='lparen'>(</span><span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_resolved_formulae'>resolved_formulae</span> <span class='op'>-</span> <span class='id identifier rubyid_outdated'>outdated</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
      <span class='id identifier rubyid_versions'>versions</span> <span class='op'>=</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_installed_kegs'>installed_kegs</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:version</span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_versions'>versions</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
        <span class='id identifier rubyid_onoe'>onoe</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_full_specified_name'>full_specified_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> not installed</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_version'>version</span> <span class='op'>=</span> <span class='id identifier rubyid_versions'>versions</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
        <span class='id identifier rubyid_onoe'>onoe</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_full_specified_name'>full_specified_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_version'>version</span><span class='embexpr_end'>}</span><span class='tstring_content'> already installed</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_exit'>exit</span> <span class='int'>1</span> <span class='kw'>if</span> <span class='id identifier rubyid_outdated'>outdated</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_pinned'>pinned</span> <span class='op'>=</span> <span class='id identifier rubyid_outdated'>outdated</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:pinned?</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_outdated'>outdated</span> <span class='op'>-=</span> <span class='id identifier rubyid_pinned'>pinned</span>
  <span class='id identifier rubyid_formulae_to_install'>formulae_to_install</span> <span class='op'>=</span> <span class='id identifier rubyid_outdated'>outdated</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:latest_formula</span><span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_pinned'>pinned</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_ignore_pinned?'>ignore_pinned?</span>
    <span class='id identifier rubyid_ofail'>ofail</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Not upgrading </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pinned'>pinned</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span><span class='embexpr_end'>}</span><span class='tstring_content'> pinned </span><span class='embexpr_beg'>#{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>package</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_pluralize'>pluralize</span><span class='lparen'>(</span><span class='id identifier rubyid_pinned'>pinned</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_pinned'>pinned</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_full_specified_name'>full_specified_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_pkg_version'>pkg_version</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span> <span class='op'>*</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_formulae_to_install'>formulae_to_install</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_oh1'>oh1</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>No packages to upgrade</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_verb'>verb</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_dry_run?'>dry_run?</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Would upgrade</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Upgrading</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_oh1'>oh1</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_verb'>verb</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_formulae_to_install'>formulae_to_install</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span><span class='embexpr_end'>}</span><span class='tstring_content'> outdated </span><span class='embexpr_beg'>#{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>package</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_pluralize'>pluralize</span><span class='lparen'>(</span><span class='id identifier rubyid_formulae_to_install'>formulae_to_install</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_formulae_upgrades'>formulae_upgrades</span> <span class='op'>=</span> <span class='id identifier rubyid_formulae_to_install'>formulae_to_install</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_optlinked?'>optlinked?</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_full_specified_name'>full_specified_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="Keg.html" title="Keg (class)">Keg</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Keg.html#initialize-instance_method" title="Keg#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_opt_prefix'>opt_prefix</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_version'><span class='object_link'><a href="Keg.html#version-instance_method" title="Keg#version (method)">version</a></span></span><span class='embexpr_end'>}</span><span class='tstring_content'> -&gt; </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_pkg_version'>pkg_version</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>else</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_full_specified_name'>full_specified_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_pkg_version'>pkg_version</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_formulae_upgrades'>formulae_upgrades</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_dry_run?'>dry_run?</span>

  <span class='id identifier rubyid_upgrade_formulae'>upgrade_formulae</span><span class='lparen'>(</span><span class='id identifier rubyid_formulae_to_install'>formulae_to_install</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_check_dependents'>check_dependents</span><span class='lparen'>(</span><span class='id identifier rubyid_formulae_to_install'>formulae_to_install</span><span class='rparen'>)</span>

  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='period'>.</span><span class='id identifier rubyid_messages'><span class='object_link'><a href="#messages-class_method" title="Homebrew.messages (method)">messages</a></span></span><span class='period'>.</span><span class='id identifier rubyid_display_messages'>display_messages</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="upgrade_args-class_method">
  
    .<strong>upgrade_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/upgrade.rb', line 14</span>

<span class='kw'>def</span> <span class='id identifier rubyid_upgrade_args'>upgrade_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `upgrade` [&lt;options&gt;] [&lt;formula&gt;]
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Upgrade outdated, unpinned formulae using the same options they were originally
</span><span class='tstring_content'>      installed with, plus any appended brew formula options. If &lt;formula&gt; are specified,
</span><span class='tstring_content'>      upgrade only the given &lt;formula&gt; kegs (unless they are pinned; see `pin`, `unpin`).
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Unless `HOMEBREW_NO_INSTALL_CLEANUP` is set, `brew cleanup` will then be run for the
</span><span class='tstring_content'>      upgraded formulae or, every 30 days, for all formulae.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:debug</span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>If brewing fails, open an interactive debugging session with access to IRB </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>or a shell inside the temporary build directory.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-s</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--build-from-source</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Compile &lt;formula&gt; from source even if a bottle is available.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--force-bottle</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Install from a bottle if it exists for the current or newest version of </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>macOS, even if it would not normally be used for installation.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--fetch-HEAD</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Fetch the upstream repository to detect if the HEAD installation of the </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>formula is outdated. Otherwise, the repository&#39;s HEAD will only be checked for </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>updates when a new stable or development version has been released.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--ignore-pinned</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Set a successful exit status even if pinned formulae are not upgraded.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--keep-tmp</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Retain the temporary files created during installation.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:force</span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Install without checking for previously installed keg-only or </span><span class='tstring_end'>&quot;</span></span>\
                        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>non-migrated versions.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:verbose</span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Print the verification and postinstall steps.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--display-times</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>env:</span>         <span class='symbol'>:display_install_times</span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Print install times for each formula at the end of the run.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--dry-run</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Show what would be upgraded, but do not actually upgrade anything.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_conflicts'>conflicts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--build-from-source</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--force-bottle</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_formula_options'>formula_options</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="upgrade_formula-class_method">
  
    .<strong>upgrade_formula</strong>(f)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/upgrade.rb', line 146</span>

<span class='kw'>def</span> <span class='id identifier rubyid_upgrade_formula'>upgrade_formula</span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_opt_prefix'>opt_prefix</span><span class='period'>.</span><span class='id identifier rubyid_directory?'>directory?</span>
    <span class='id identifier rubyid_keg'>keg</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Keg.html" title="Keg (class)">Keg</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Keg.html#initialize-instance_method" title="Keg#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_opt_prefix'>opt_prefix</span><span class='period'>.</span><span class='id identifier rubyid_resolved_path'>resolved_path</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_keg_had_linked_opt'>keg_had_linked_opt</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='id identifier rubyid_keg_was_linked'>keg_was_linked</span> <span class='op'>=</span> <span class='id identifier rubyid_keg'>keg</span><span class='period'>.</span><span class='id identifier rubyid_linked?'>linked?</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_formulae_maybe_with_kegs'>formulae_maybe_with_kegs</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_f'>f</span><span class='rbracket'>]</span> <span class='op'>+</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_old_installed_formulae'>old_installed_formulae</span>
  <span class='id identifier rubyid_outdated_kegs'>outdated_kegs</span> <span class='op'>=</span> <span class='id identifier rubyid_formulae_maybe_with_kegs'>formulae_maybe_with_kegs</span>
                  <span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:linked_keg</span><span class='rparen'>)</span>
                  <span class='period'>.</span><span class='id identifier rubyid_select'>select</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:directory?</span><span class='rparen'>)</span>
                  <span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='op'>|</span> <span class='const'><span class='object_link'><a href="Keg.html" title="Keg (class)">Keg</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Keg.html#initialize-instance_method" title="Keg#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_k'>k</span><span class='period'>.</span><span class='id identifier rubyid_resolved_path'>resolved_path</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_linked_kegs'>linked_kegs</span> <span class='op'>=</span> <span class='id identifier rubyid_outdated_kegs'>outdated_kegs</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:linked?</span><span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_opt_prefix'>opt_prefix</span><span class='period'>.</span><span class='id identifier rubyid_directory?'>directory?</span>
    <span class='id identifier rubyid_keg'>keg</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Keg.html" title="Keg (class)">Keg</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Keg.html#initialize-instance_method" title="Keg#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_opt_prefix'>opt_prefix</span><span class='period'>.</span><span class='id identifier rubyid_resolved_path'>resolved_path</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_tab'>tab</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Tab.html" title="Tab (class)">Tab</a></span></span><span class='period'>.</span><span class='id identifier rubyid_for_keg'><span class='object_link'><a href="Tab.html#for_keg-class_method" title="Tab.for_keg (method)">for_keg</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_keg'>keg</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_build_options'>build_options</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="BuildOptions.html" title="BuildOptions (class)">BuildOptions</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="Options.html" title="Options (class)">Options</a></span></span><span class='period'>.</span><span class='id identifier rubyid_create'><span class='object_link'><a href="Options.html#create-class_method" title="Options.create (method)">create</a></span></span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='period'>.</span><span class='id identifier rubyid_args'><span class='object_link'><a href="#args-class_method" title="Homebrew.args (method)">args</a></span></span><span class='period'>.</span><span class='id identifier rubyid_flags_only'>flags_only</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='id identifier rubyid_build_options'>build_options</span><span class='period'>.</span><span class='id identifier rubyid_used_options'>used_options</span>
  <span class='id identifier rubyid_options'>options</span> <span class='op'>|=</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_build'>build</span><span class='period'>.</span><span class='id identifier rubyid_used_options'>used_options</span>
  <span class='id identifier rubyid_options'>options</span> <span class='op'>&amp;=</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_options'>options</span>

  <span class='id identifier rubyid_fi'>fi</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="FormulaInstaller.html" title="FormulaInstaller (class)">FormulaInstaller</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="FormulaInstaller.html#initialize-instance_method" title="FormulaInstaller#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_fi'>fi</span><span class='period'>.</span><span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span>
  <span class='id identifier rubyid_fi'>fi</span><span class='period'>.</span><span class='id identifier rubyid_build_bottle'>build_bottle</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_build_bottle?'>build_bottle?</span>
  <span class='id identifier rubyid_fi'>fi</span><span class='period'>.</span><span class='id identifier rubyid_installed_on_request'>installed_on_request</span> <span class='op'>=</span> <span class='op'>!</span><span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
  <span class='id identifier rubyid_fi'>fi</span><span class='period'>.</span><span class='id identifier rubyid_link_keg'>link_keg</span>           <span class='op'>||=</span> <span class='id identifier rubyid_keg_was_linked'>keg_was_linked</span> <span class='kw'>if</span> <span class='id identifier rubyid_keg_had_linked_opt'>keg_had_linked_opt</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_tab'>tab</span>
    <span class='id identifier rubyid_fi'>fi</span><span class='period'>.</span><span class='id identifier rubyid_build_bottle'>build_bottle</span>          <span class='op'>||=</span> <span class='id identifier rubyid_tab'>tab</span><span class='period'>.</span><span class='id identifier rubyid_built_bottle?'>built_bottle?</span>
    <span class='id identifier rubyid_fi'>fi</span><span class='period'>.</span><span class='id identifier rubyid_installed_as_dependency'>installed_as_dependency</span> <span class='op'>=</span> <span class='id identifier rubyid_tab'>tab</span><span class='period'>.</span><span class='id identifier rubyid_installed_as_dependency'>installed_as_dependency</span>
    <span class='id identifier rubyid_fi'>fi</span><span class='period'>.</span><span class='id identifier rubyid_installed_on_request'>installed_on_request</span>  <span class='op'>||=</span> <span class='id identifier rubyid_tab'>tab</span><span class='period'>.</span><span class='id identifier rubyid_installed_on_request'>installed_on_request</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_fi'>fi</span><span class='period'>.</span><span class='id identifier rubyid_prelude'>prelude</span>

  <span class='id identifier rubyid_oh1'>oh1</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Upgrading </span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="Formatter.html" title="Formatter (module)">Formatter</a></span></span><span class='period'>.</span><span class='id identifier rubyid_identifier'><span class='object_link'><a href="Formatter.html#identifier-class_method" title="Formatter.identifier (method)">identifier</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_full_specified_name'>full_specified_name</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_fi'>fi</span><span class='period'>.</span><span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>

  <span class='comment'># first we unlink the currently active keg for this formula otherwise it is
</span>  <span class='comment'># possible for the existing build to interfere with the build we are about to
</span>  <span class='comment'># do! Seriously, it happens!
</span>  <span class='id identifier rubyid_outdated_kegs'>outdated_kegs</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:unlink</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_fi'>fi</span><span class='period'>.</span><span class='id identifier rubyid_install'>install</span>
  <span class='id identifier rubyid_fi'>fi</span><span class='period'>.</span><span class='id identifier rubyid_finish'>finish</span>
<span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="FormulaInstallationAlreadyAttemptedError.html" title="FormulaInstallationAlreadyAttemptedError (class)">FormulaInstallationAlreadyAttemptedError</a></span></span>
  <span class='comment'># We already attempted to upgrade f as part of the dependency tree of
</span>  <span class='comment'># another formula. In that case, don&#39;t generate an error, just move on.
</span>  <span class='kw'>nil</span>
<span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="CannotInstallFormulaError.html" title="CannotInstallFormulaError (class)">CannotInstallFormulaError</a></span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
  <span class='id identifier rubyid_ofail'>ofail</span> <span class='id identifier rubyid_e'>e</span>
<span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="BuildError.html" title="BuildError (class)">BuildError</a></span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
  <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_dump'>dump</span>
  <span class='id identifier rubyid_puts'>puts</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='period'>.</span><span class='id identifier rubyid_failed'>failed</span> <span class='op'>=</span> <span class='kw'>true</span>
<span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="DownloadError.html" title="DownloadError (class)">DownloadError</a></span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
  <span class='id identifier rubyid_ofail'>ofail</span> <span class='id identifier rubyid_e'>e</span>
<span class='kw'>ensure</span>
  <span class='comment'># restore previous installation state if build failed
</span>  <span class='kw'>begin</span>
    <span class='id identifier rubyid_linked_kegs'>linked_kegs</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:link</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_installed?'>installed?</span>
  <span class='kw'>rescue</span>
    <span class='kw'>nil</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="upgrade_formulae-class_method">
  
    .<strong>upgrade_formulae</strong>(formulae_to_install)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/upgrade.rb', line 119</span>

<span class='kw'>def</span> <span class='id identifier rubyid_upgrade_formulae'>upgrade_formulae</span><span class='lparen'>(</span><span class='id identifier rubyid_formulae_to_install'>formulae_to_install</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_formulae_to_install'>formulae_to_install</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='comment'># Sort keg-only before non-keg-only formulae to avoid any needless conflicts
</span>  <span class='comment'># with outdated, non-keg-only versions of formulae being upgraded.
</span>  <span class='id identifier rubyid_formulae_to_install'>formulae_to_install</span><span class='period'>.</span><span class='id identifier rubyid_sort!'>sort!</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_keg_only?'>keg_only?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_b'>b</span><span class='period'>.</span><span class='id identifier rubyid_keg_only?'>keg_only?</span>
      <span class='int'>1</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_keg_only?'>keg_only?</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_b'>b</span><span class='period'>.</span><span class='id identifier rubyid_keg_only?'>keg_only?</span>
      <span class='op'>-</span><span class='int'>1</span>
    <span class='kw'>else</span>
      <span class='int'>0</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_formulae_to_install'>formulae_to_install</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
    <span class='const'><span class='object_link'><a href="Migrator.html" title="Migrator (class)">Migrator</a></span></span><span class='period'>.</span><span class='id identifier rubyid_migrate_if_needed'><span class='object_link'><a href="Migrator.html#migrate_if_needed-class_method" title="Migrator.migrate_if_needed (method)">migrate_if_needed</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='rparen'>)</span>
    <span class='kw'>begin</span>
      <span class='id identifier rubyid_upgrade_formula'>upgrade_formula</span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='rparen'>)</span>
      <span class='const'><span class='object_link'><a href="Homebrew/Cleanup.html" title="Homebrew::Cleanup (class)">Cleanup</a></span></span><span class='period'>.</span><span class='id identifier rubyid_install_formula_clean!'><span class='object_link'><a href="Homebrew/Cleanup.html#install_formula_clean!-class_method" title="Homebrew::Cleanup.install_formula_clean! (method)">install_formula_clean!</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='rparen'>)</span>
    <span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="UnsatisfiedRequirements.html" title="UnsatisfiedRequirements (class)">UnsatisfiedRequirements</a></span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
      <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='period'>.</span><span class='id identifier rubyid_failed'>failed</span> <span class='op'>=</span> <span class='kw'>true</span>
      <span class='id identifier rubyid_onoe'>onoe</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="uses-class_method">
  
    .<strong>uses</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="FormulaUnspecifiedError.html" title="FormulaUnspecifiedError (class)">FormulaUnspecifiedError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/uses.rb', line 44</span>

<span class='kw'>def</span> <span class='id identifier rubyid_uses'>uses</span>
  <span class='id identifier rubyid_uses_args'>uses_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="FormulaUnspecifiedError.html" title="FormulaUnspecifiedError (class)">FormulaUnspecifiedError</a></span></span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_remaining'>remaining</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='id identifier rubyid_used_formulae_missing'>used_formulae_missing</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='id identifier rubyid_used_formulae'>used_formulae</span> <span class='op'>=</span> <span class='kw'>begin</span>
    <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_formulae'>formulae</span>
  <span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="FormulaUnavailableError.html" title="FormulaUnavailableError (class)">FormulaUnavailableError</a></span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
    <span class='id identifier rubyid_opoo'>opoo</span> <span class='id identifier rubyid_e'>e</span>
    <span class='id identifier rubyid_used_formulae_missing'>used_formulae_missing</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='comment'># If the formula doesn&#39;t exist: fake the needed formula object name.
</span>    <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='op'>|</span> <span class='const'>OpenStruct</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='label'>name:</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='label'>full_name:</span> <span class='id identifier rubyid_name'>name</span> <span class='rbrace'>}</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_formulae'><span class='object_link'><a href="HomebrewArgvExtension.html#formulae-instance_method" title="HomebrewArgvExtension#formulae (method)">formulae</a></span></span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_installed?'>installed?</span> <span class='op'>?</span> <span class='const'><span class='object_link'><a href="Formula.html" title="Formula (class)">Formula</a></span></span><span class='period'>.</span><span class='id identifier rubyid_installed'>installed</span> <span class='op'>:</span> <span class='const'><span class='object_link'><a href="Formula.html" title="Formula (class)">Formula</a></span></span>
  <span class='id identifier rubyid_recursive'>recursive</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_recursive?'>recursive?</span>
  <span class='id identifier rubyid_only_installed_arg'>only_installed_arg</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_installed?'>installed?</span> <span class='op'>&amp;&amp;</span>
                       <span class='op'>!</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_include_build?'>include_build?</span> <span class='op'>&amp;&amp;</span>
                       <span class='op'>!</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_include_test?'>include_test?</span> <span class='op'>&amp;&amp;</span>
                       <span class='op'>!</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_include_optional?'>include_optional?</span> <span class='op'>&amp;&amp;</span>
                       <span class='op'>!</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_skip_recommended?'>skip_recommended?</span>

  <span class='id identifier rubyid_includes'>includes</span><span class='comma'>,</span> <span class='id identifier rubyid_ignores'>ignores</span> <span class='op'>=</span> <span class='id identifier rubyid_argv_includes_ignores'>argv_includes_ignores</span><span class='lparen'>(</span><span class='const'>ARGV</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_uses'>uses</span> <span class='op'>=</span> <span class='id identifier rubyid_formulae'><span class='object_link'><a href="HomebrewArgvExtension.html#formulae-instance_method" title="HomebrewArgvExtension#formulae (method)">formulae</a></span></span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
    <span class='id identifier rubyid_used_formulae'>used_formulae</span><span class='period'>.</span><span class='id identifier rubyid_all?'>all?</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_ff'>ff</span><span class='op'>|</span>
      <span class='kw'>begin</span>
        <span class='id identifier rubyid_deps'>deps</span> <span class='op'>=</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_runtime_dependencies'>runtime_dependencies</span> <span class='kw'>if</span> <span class='id identifier rubyid_only_installed_arg'>only_installed_arg</span>
        <span class='id identifier rubyid_deps'>deps</span> <span class='op'>||=</span> <span class='kw'>if</span> <span class='id identifier rubyid_recursive'>recursive</span>
          <span class='id identifier rubyid_recursive_includes'>recursive_includes</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="Dependency.html" title="Dependency (class)">Dependency</a></span></span><span class='comma'>,</span> <span class='id identifier rubyid_f'>f</span><span class='comma'>,</span> <span class='id identifier rubyid_includes'>includes</span><span class='comma'>,</span> <span class='id identifier rubyid_ignores'>ignores</span><span class='rparen'>)</span>
        <span class='kw'>else</span>
          <span class='id identifier rubyid_reject_ignores'>reject_ignores</span><span class='lparen'>(</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_deps'>deps</span><span class='comma'>,</span> <span class='id identifier rubyid_ignores'>ignores</span><span class='comma'>,</span> <span class='id identifier rubyid_includes'>includes</span><span class='rparen'>)</span>
        <span class='kw'>end</span>

        <span class='id identifier rubyid_deps'>deps</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_dep'>dep</span><span class='op'>|</span>
          <span class='kw'>begin</span>
            <span class='id identifier rubyid_dep'>dep</span><span class='period'>.</span><span class='id identifier rubyid_to_formula'>to_formula</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span> <span class='op'>==</span> <span class='id identifier rubyid_ff'>ff</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span>
          <span class='kw'>rescue</span>
            <span class='id identifier rubyid_dep'>dep</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>==</span> <span class='id identifier rubyid_ff'>ff</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
          <span class='kw'>end</span>
        <span class='kw'>end</span>
      <span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="FormulaUnavailableError.html" title="FormulaUnavailableError (class)">FormulaUnavailableError</a></span></span>
        <span class='comment'># Silently ignore this case as we don&#39;t care about things used in
</span>        <span class='comment'># taps that aren&#39;t currently tapped.
</span>        <span class='kw'>next</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_uses'>uses</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='id identifier rubyid_puts'>puts</span> <span class='const'><span class='object_link'><a href="Formatter.html" title="Formatter (module)">Formatter</a></span></span><span class='period'>.</span><span class='id identifier rubyid_columns'><span class='object_link'><a href="Formatter.html#columns-class_method" title="Formatter.columns (method)">columns</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_uses'>uses</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:full_name</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_odie'>odie</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Missing formulae should not have dependents!</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_used_formulae_missing'>used_formulae_missing</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="uses_args-class_method">
  
    .<strong>uses_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/uses.rb', line 13</span>

<span class='kw'>def</span> <span class='id identifier rubyid_uses_args'>uses_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `uses` [&lt;options&gt;] &lt;formula&gt;
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Show formulae that specify &lt;formula&gt; as a dependency. When given multiple
</span><span class='tstring_content'>      formula arguments, show the intersection of formulae that use &lt;formula&gt;.
</span><span class='tstring_content'>      By default, `uses` shows all formulae that specify &lt;formula&gt; as a required
</span><span class='tstring_content'>      or recommended dependency for their stable builds.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--recursive</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Resolve more than one level of dependencies.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--installed</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Only list formulae that are currently installed.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--include-build</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Include all formulae that specify &lt;formula&gt; as `:build` type dependency.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--include-test</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Include all formulae that specify &lt;formula&gt; as `:test` type dependency.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--include-optional</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Include all formulae that specify &lt;formula&gt; as `:optional` type dependency.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--skip-recommended</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Skip all formulae that specify &lt;formula&gt; as `:recommended` type dependency.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--devel</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Show usage of &lt;formula&gt; by development builds.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--HEAD</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='label'>description:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Show usage of &lt;formula&gt; by HEAD builds.</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:debug</span>
    <span class='id identifier rubyid_conflicts'>conflicts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--devel</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--HEAD</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="vendor_gems-class_method">
  
    .<strong>vendor_gems</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/vendor-gems.rb', line 20</span>

<span class='kw'>def</span> <span class='id identifier rubyid_vendor_gems'>vendor_gems</span>
  <span class='id identifier rubyid_vendor_gems_args'>vendor_gems_args</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span>

  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='period'>.</span><span class='id identifier rubyid_install_bundler!'><span class='object_link'><a href="#install_bundler!-class_method" title="Homebrew.install_bundler! (method)">install_bundler!</a></span></span>

  <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cd </span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_LIBRARY_PATH-constant" title="HOMEBREW_LIBRARY_PATH (constant)">HOMEBREW_LIBRARY_PATH</a></span></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='const'><span class='object_link'><a href="top-level-namespace.html#HOMEBREW_LIBRARY_PATH-constant" title="HOMEBREW_LIBRARY_PATH (constant)">HOMEBREW_LIBRARY_PATH</a></span></span><span class='period'>.</span><span class='id identifier rubyid_cd'>cd</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bundle install --standalone</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_safe_system'>safe_system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bundle</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>install</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--standalone</span><span class='tstring_end'>&quot;</span></span>

    <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bundle pristine</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_safe_system'>safe_system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bundle</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>pristine</span><span class='tstring_end'>&quot;</span></span>

    <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git add vendor/bundle</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_system'>system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>add</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>vendor/bundle</span><span class='tstring_end'>&quot;</span></span>

    <span class='kw'>if</span> <span class='const'><span class='object_link'><a href="Formula.html" title="Formula (class)">Formula</a></span></span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>gpg</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_installed?'>installed?</span>
      <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PATH</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="PATH.html" title="PATH (class)">PATH</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="PATH.html#initialize-instance_method" title="PATH#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PATH</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span>
                        <span class='period'>.</span><span class='id identifier rubyid_prepend'>prepend</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="Formula.html" title="Formula (class)">Formula</a></span></span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>gpg</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_opt_bin'>opt_bin</span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git commit</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_system'>system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>commit</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--message</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>brew vendor-gems: commit updates.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="vendor_gems_args-class_method">
  
    .<strong>vendor_gems_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


9
10
11
12
13
14
15
16
17
18</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/vendor-gems.rb', line 9</span>

<span class='kw'>def</span> <span class='id identifier rubyid_vendor_gems_args'>vendor_gems_args</span>
  <span class='const'><span class='object_link'><a href="" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI.html" title="Homebrew::CLI (module)">CLI</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Homebrew/CLI/Parser.html" title="Homebrew::CLI::Parser (class)">Parser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Homebrew/CLI/Parser.html#initialize-instance_method" title="Homebrew::CLI::Parser#initialize (method)">new</a></span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_usage_banner'>usage_banner</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      `vendor-gems`
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Install and commit Homebrew&#39;s vendored gems.
</span><span class='heredoc_end'>    EOS
</span>    <span class='id identifier rubyid_switch'>switch</span> <span class='symbol'>:debug</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="write_path-class_method">
  
    .<strong>write_path</strong>(tap, filename, content)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


75
76
77
78
79
80
81</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/dev-cmd/tap-new.rb', line 75</span>

<span class='kw'>def</span> <span class='id identifier rubyid_write_path'>write_path</span><span class='lparen'>(</span><span class='id identifier rubyid_tap'>tap</span><span class='comma'>,</span> <span class='id identifier rubyid_filename'>filename</span><span class='comma'>,</span> <span class='id identifier rubyid_content'>content</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='op'>/</span><span class='id identifier rubyid_filename'>filename</span>
  <span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_mkpath'>mkpath</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_path'>path</span><span class='embexpr_end'>}</span><span class='tstring_content'> already exists</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span>

  <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_write'>write</span> <span class='id identifier rubyid_content'>content</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="help-instance_method">
  
    #<strong>help</strong>(cmd = nil, flags = {})  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


6
7
8</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/cmd/help.rb', line 6</span>

<span class='kw'>def</span> <span class='id identifier rubyid_help'>help</span><span class='lparen'>(</span><span class='id identifier rubyid_cmd'>cmd</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_flags'>flags</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='const'><span class='object_link'><a href="Homebrew/Help.html" title="Homebrew::Help (module)">Help</a></span></span><span class='period'>.</span><span class='id identifier rubyid_help'><span class='object_link'><a href="Homebrew/Help.html#help-class_method" title="Homebrew::Help.help (method)">help</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_cmd'>cmd</span><span class='comma'>,</span> <span class='id identifier rubyid_flags'>flags</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
     Generated by <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>.
</div>

    </div>
  </body>
</html>